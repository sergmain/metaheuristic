"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[225],{1225:(pn,G,_)=>{_.r(G),_.d(G,{SourceCodeModule:()=>ln,SourceCodeRoutingModule:()=>ut,SourceCodesRoutes:()=>st});var i=_(1180),d=_(6895),l=_(4006),p=_(9299),_t=_(3081),at=_(6423),rt=_(1623),dt=_(535);const $={show:"show",loading:"loading",empty:"empty",wait:"wait",firstLoading:"firstLoading"};var Q=_(2231),N=_(7528),lt=_(2340),O=(()=>{return(n=O||(O={})).not_exist="not_exist",n.common="common",n.experiment="experiment",n.batch="batch",O;var n})(),t=_(4650),pt=_(529);const C=n=>`${lt.N.baseUrl}dispatcher/source-code/${n}`;let b=(()=>{class n{constructor(e){(0,i.Z)(this,"http",void 0),this.http=e}sourceCodes(e){return this.http.get(C("source-codes"),{params:{page:e}})}sourceCodeArchivedOnly(e){return this.http.get(C("source-codes-archived-only"),{params:{page:e}})}edit(e){return this.http.get(C(`source-code/${e}`))}validate(e){return this.http.get(C(`source-code-validate/${e}`))}addFormCommit(e){return this.http.post(C("source-code-add-commit"),(0,N.P)({source:e}))}editFormCommit(e,c){return this.http.post(C("source-code-edit-commit"),(0,N.P)({sourceCodeId:e,source:c}))}deleteCommit(e){return this.http.post(C("source-code-delete-commit"),(0,N.P)({id:e}))}archiveCommit(e){return this.http.post(C("source-code-archive-commit"),(0,N.P)({id:e}))}uploadSourceCode(e){return this.http.post(C("source-code-upload-from-file"),(0,N.P)({file:e}))}getSourceCodeType(e,c){let s=O.common;return c.batches.includes(e)&&(s=O.batch),c.experiments.includes(e)&&(s=O.experiment),s}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.LFG(pt.eN))}),(0,i.Z)(n,"\u0275prov",t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();var B=_(3735),g=_(1439),Z=_(9185),S=_(6890),q=_(2555),D=_(2379),J=_(5510),h=_(6264),x=_(305),T=_(5014),A=_(8868),v=_(3370),U=_(9863),m=_(4859);function mt(n,o){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function ft(n,o){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function Ct(n,o){if(1&n&&(t.TgZ(0,"ct-section"),t._uU(1,"\n                "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n                    "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n                        "),t.TgZ(6,"ct-section-content"),t._uU(7,"\n                            "),t.YNc(8,mt,2,1,"p",7),t._uU(9,"\n                            "),t.YNc(10,ft,2,1,"p",7),t._uU(11,"\n                        "),t.qZA(),t._uU(12,"\n                    "),t.qZA(),t._uU(13,"\n                "),t.qZA(),t._uU(14,"\n            "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.responseSingle.infoMessages),t.xp6(2),t.Q6J("ngForOf",e.responseSingle.errorMessages)}}function Zt(n,o){if(1&n){const e=t.EpF();t._uU(0,"\n    "),t.TgZ(1,"ct-cols",1),t._uU(2,"\n        "),t.TgZ(3,"ct-col",2),t._uU(4,"\n            "),t.TgZ(5,"ct-section"),t._uU(6,"\n                "),t.TgZ(7,"ct-section-header"),t._uU(8,"\n                    "),t.TgZ(9,"ct-section-header-row"),t._uU(10,"\n                        "),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._uU(13,"\n                        "),t.TgZ(14,"ct-heading"),t._uU(15),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                "),t.qZA(),t._uU(18,"\n                "),t.TgZ(19,"ct-section-body"),t._uU(20,"\n                    "),t.TgZ(21,"ct-section-body-row"),t._uU(22,"\n                        "),t.TgZ(23,"p"),t._uU(24,"New execContext with Single Input"),t.qZA(),t._uU(25,"\n                    "),t.qZA(),t._uU(26,"\n                    "),t._uU(27,"\n                "),t.qZA(),t._uU(28,"\n                "),t.TgZ(29,"ct-section-footer"),t._uU(30,"\n                    "),t.TgZ(31,"ct-section-footer-row"),t._uU(32,"\n                        "),t.TgZ(33,"ct-flex",3),t._uU(34,"\n                            "),t.TgZ(35,"ct-flex-item"),t._uU(36,"\n                                "),t.TgZ(37,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancel())}),t._uU(38,"Back "),t.qZA(),t._uU(39,"\n                            "),t.qZA(),t._uU(40,"\n                            "),t.TgZ(41,"ct-flex-item"),t._uU(42,"\n                                "),t.TgZ(43,"button",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.createWithVariable())}),t._uU(44,"Create "),t.qZA(),t._uU(45,"\n                            "),t.qZA(),t._uU(46,"\n                        "),t.qZA(),t._uU(47,"\n                    "),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n            "),t.qZA(),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n        "),t.TgZ(52,"ct-col",2),t._uU(53,"\n            "),t.YNc(54,Ct,15,2,"ct-section",6),t._uU(55,"\n        "),t.qZA(),t._uU(56,"\n    "),t.qZA(),t._uU(57,"\n")}if(2&n){const e=t.oxw();t.xp6(12),t.hij("Source Code: #",e.sourceCodeResponse.id,""),t.xp6(3),t.hij(" ",e.sourceCodeResponse.uid,""),t.xp6(28),t.Q6J("disabled",e.currentStates.has(e.states.loading)),t.xp6(11),t.Q6J("ngIf",e.responseSingle)}}let xt=(()=>{class n{constructor(e,c,s,u){(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"execContextService",void 0),(0,i.Z)(this,"states",dt.C),(0,i.Z)(this,"currentStates",new Set),(0,i.Z)(this,"state",$),(0,i.Z)(this,"currentState",$.show),(0,i.Z)(this,"variable",void 0),(0,i.Z)(this,"responseSingle",void 0),(0,i.Z)(this,"sourceCodeId",void 0),(0,i.Z)(this,"sourceCodeResponse",void 0),this.activatedRoute=e,this.router=c,this.sourceCodesService=s,this.execContextService=u}ngOnInit(){this.sourceCodeId=this.activatedRoute.snapshot.paramMap.get("sourceCodeId"),this.sourceCodesService.edit(this.sourceCodeId).subscribe(e=>{this.sourceCodeResponse=e})}ngOnDestroy(){}cancel(){this.router.navigate(["../../","exec-contexts"],{relativeTo:this.activatedRoute})}createWithVariable(){this.currentStates.add(this.states.loading),this.execContextService.execContextAddCommit(this.sourceCodeId,this.variable).subscribe(e=>{e.errorMessages?this.responseSingle=e:this.cancel(),this.currentStates.delete(this.states.loading)})}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(b),t.Y36(Q.w))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["add-exec-context"]],decls:1,vars:1,consts:[[3,"ngIf"],["align-items","flex-start"],["size","6"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,c){1&e&&t.YNc(0,Zt,58,4,"ng-template",0),2&e&&t.Q6J("ngIf",c.sourceCodeResponse)},dependencies:[d.sg,d.O5,B.a,g.U,Z.n,S.V,q.R,D.t,J.W,h.i,x.Z,T.t,A.B,v.i,U._,m.lW],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{padding:0!important;overflow:hidden!important}pre[_ngcontent-%COMP%]{padding:0;margin:0;opacity:.66}"]})),n})();var V=_(2199),Ut=_(284),F=_(9549),gt=_(9349);let K=(()=>{class n{constructor(e){(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"button",void 0),(0,i.Z)(this,"responseChange",new t.vpe),(0,i.Z)(this,"abort",new t.vpe),(0,i.Z)(this,"form",new l.cw({source:new l.NI("",[l.kI.required,l.kI.minLength(1)])})),this.sourceCodesService=e}cancel(){this.abort.emit()}create(){this.button.disabled=!0,this.sourceCodesService.addFormCommit(this.form.value.source).subscribe(e=>{this.button.disabled=!1,this.responseChange.emit(e)})}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(b))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["card-form-add-source-code"]],viewQuery:function(e,c){if(1&e&&t.Gf(m.lW,5),2&e){let s;t.iGM(s=t.CRH())&&(c.button=s.first)}},outputs:{responseChange:"responseChange",abort:"abort"},decls:53,vars:2,consts:[["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["formControlName","source","matInput","matInput","cdkTextareaAutosize","cdkTextareaAutosize","cdkAutosizeMinRows","10","value","","autocomplete","off"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],["button",""]],template:function(e,c){1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7,"Add New Source Code"),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n    "),t.qZA(),t._uU(10,"\n    "),t.TgZ(11,"ct-section-body"),t._uU(12,"\n        "),t.TgZ(13,"form",0),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body-row"),t._uU(16,"\n                "),t.TgZ(17,"mat-form-field",1),t._uU(18,"\n                    "),t.TgZ(19,"mat-label"),t._uU(20,"Parameters of source code"),t.qZA(),t._uU(21,"\n                    "),t._UZ(22,"textarea",2),t._uU(23,"\n                    "),t.TgZ(24,"mat-hint"),t._uU(25,"This is a required field."),t.qZA(),t._uU(26,"\n                "),t.qZA(),t._uU(27,"\n            "),t.qZA(),t._uU(28,"\n        "),t.qZA(),t._uU(29,"\n    "),t.qZA(),t._uU(30,"\n    "),t.TgZ(31,"ct-section-footer"),t._uU(32,"\n        "),t.TgZ(33,"ct-section-footer-row"),t._uU(34,"\n            "),t.TgZ(35,"ct-flex",3),t._uU(36,"\n                "),t.TgZ(37,"ct-flex-item"),t._uU(38,"\n                    "),t.TgZ(39,"button",4),t.NdJ("click",function(){return c.cancel()}),t._uU(40,"Cancel"),t.qZA(),t._uU(41,"\n                "),t.qZA(),t._uU(42,"\n                "),t.TgZ(43,"ct-flex-item"),t._uU(44,"\n                    "),t.TgZ(45,"button",5,6),t.NdJ("click",function(){return c.create()}),t._uU(47,"Add"),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n            "),t.qZA(),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n    "),t.qZA(),t._uU(52,"\n"),t.qZA()),2&e&&(t.xp6(13),t.Q6J("formGroup",c.form),t.xp6(32),t.Q6J("disabled",!c.form.valid))},dependencies:[g.U,Z.n,S.V,q.R,h.i,x.Z,T.t,A.B,v.i,U._,m.lW,Ut.Nt,F.KE,F.hX,F.bx,gt.IC,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{padding:0!important;overflow:hidden!important;font-size:80%;font-family:Courier New,Courier,monospace}"]})),n})();var z=_(1099);let L=(()=>{class n{constructor(e){(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"button",void 0),(0,i.Z)(this,"file",void 0),(0,i.Z)(this,"responseChange",new t.vpe),(0,i.Z)(this,"abort",new t.vpe),this.sourceCodesService=e}upload(){this.sourceCodesService.uploadSourceCode(this.file.fileInput.nativeElement.files[0]).subscribe(e=>{this.responseChange.emit(e)})}cancel(){this.abort.emit()}changed(e){this.button.disabled=!this.file.fileInput.nativeElement.files.length}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(b))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["card-form-upload-source-code"]],viewQuery:function(e,c){if(1&e&&(t.Gf(m.lW,5),t.Gf(z.E,5)),2&e){let s;t.iGM(s=t.CRH())&&(c.button=s.first),t.iGM(s=t.CRH())&&(c.file=s.first)}},outputs:{responseChange:"responseChange",abort:"abort"},decls:40,vars:1,consts:[["acceptTypes",".yml, .yaml",3,"changed"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"]],template:function(e,c){1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7,"Upload SourceCode from file "),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n    "),t.qZA(),t._uU(10,"\n    "),t.TgZ(11,"ct-section-body"),t._uU(12,"\n        "),t.TgZ(13,"ct-section-body-row"),t._uU(14,"\n            "),t.TgZ(15,"ct-file-upload",0),t.NdJ("changed",function(u){return c.changed(u)}),t.qZA(),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n    "),t.qZA(),t._uU(18,"\n    "),t.TgZ(19,"ct-section-footer"),t._uU(20,"\n        "),t.TgZ(21,"ct-section-footer-row"),t._uU(22,"\n            "),t.TgZ(23,"ct-flex",1),t._uU(24,"\n                "),t.TgZ(25,"ct-flex-item"),t._uU(26,"\n                    "),t.TgZ(27,"button",2),t.NdJ("click",function(){return c.cancel()}),t._uU(28,"Cancel"),t.qZA(),t._uU(29,"\n                "),t.qZA(),t._uU(30,"\n                "),t.TgZ(31,"ct-flex-item"),t._uU(32,"\n                    "),t.TgZ(33,"button",3),t.NdJ("click",function(){return c.upload()}),t._uU(34,"Upload"),t.qZA(),t._uU(35,"\n                "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n        "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n"),t.qZA()),2&e&&(t.xp6(33),t.Q6J("disabled",!(null!=c.file&&null!=c.file.fileInput&&null!=c.file.fileInput.nativeElement&&null!=c.file.fileInput.nativeElement.files&&c.file.fileInput.nativeElement.files.length)))},dependencies:[g.U,Z.n,S.V,q.R,z.E,h.i,x.Z,T.t,A.B,v.i,U._,m.lW]})),n})();var W=_(1023);let ht=(()=>{class n{constructor(e,c,s){(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"elRef",void 0),(0,i.Z)(this,"cardFormAddSourceCode",void 0),(0,i.Z)(this,"cardFormUploadSourceCode",void 0),(0,i.Z)(this,"newSourceCodeResponse",void 0),(0,i.Z)(this,"uploadSourceCodeResponse",void 0),this.router=e,this.activatedRoute=c,this.elRef=s}afterNewSourceCode(e){this.newSourceCodeResponse=e,e.status===V.o.OK?this.back():this.scrollIntoView(".addRestStatus")}afterUploadSourceCode(e){this.uploadSourceCodeResponse=e,e.status===V.o.OK?this.back():this.scrollIntoView(".uploadRestStatus")}scrollIntoView(e){const c=this.elRef.nativeElement.querySelector(e);c&&c.scrollIntoView({block:"start",behavior:"smooth"})}back(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(p.F0),t.Y36(p.gz),t.Y36(t.SBq))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["add-source-code"]],viewQuery:function(e,c){if(1&e&&(t.Gf(K,5),t.Gf(L,5)),2&e){let s;t.iGM(s=t.CRH())&&(c.cardFormAddSourceCode=s.first),t.iGM(s=t.CRH())&&(c.cardFormUploadSourceCode=s.first)}},decls:29,vars:2,consts:[["size","6"],[3,"abort","responseChange"],[1,"addRestStatus",3,"content"],[1,"uploadRestStatus",3,"content"]],template:function(e,c){1&e&&(t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",0),t._uU(3,"\n        "),t.TgZ(4,"card-form-add-source-code",1),t.NdJ("abort",function(){return c.back()})("responseChange",function(u){return c.afterNewSourceCode(u)}),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n    "),t.qZA(),t._uU(7,"\n    "),t.TgZ(8,"ct-col",0),t._uU(9,"\n        "),t._UZ(10,"ct-rest-status",2),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n"),t.qZA(),t._uU(13,"\n\n"),t._UZ(14,"hr"),t._uU(15,"\n\n"),t.TgZ(16,"ct-cols"),t._uU(17,"\n    "),t.TgZ(18,"ct-col",0),t._uU(19,"\n        "),t.TgZ(20,"card-form-upload-source-code",1),t.NdJ("abort",function(){return c.back()})("responseChange",function(u){return c.afterUploadSourceCode(u)}),t._uU(21,"\n        "),t.qZA(),t._uU(22,"\n    "),t.qZA(),t._uU(23,"\n    "),t.TgZ(24,"ct-col",0),t._uU(25,"\n        "),t._UZ(26,"ct-rest-status",3),t._uU(27,"\n    "),t.qZA(),t._uU(28,"\n"),t.qZA()),2&e&&(t.xp6(10),t.Q6J("content",c.newSourceCodeResponse),t.xp6(16),t.Q6J("content",c.uploadSourceCodeResponse))},dependencies:[D.t,J.W,W.R,K,L]})),n})(),Tt=(()=>{class n{constructor(){}ngOnInit(){}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["edit-exec-context"]],decls:3,vars:0,template:function(e,c){1&e&&(t.TgZ(0,"p"),t._uU(1,"\n  edit-exec-context works!\n"),t.qZA(),t._uU(2,"\n"))}})),n})();var k=(()=>{return(n=k||(k={})).NONE="NONE",n.IN_PROGRESS="IN_PROGRESS",n.ERROR="ERROR",n.OK="OK",n.NOT_USED_ANYMORE="NOT_USED_ANYMORE",n.SKIPPED="SKIPPED",n.CHECK_CACHE="CHECK_CACHE",k;var n})(),At=_(4327),vt=_(2026),w=_(5938),X=_(4853),M=_(7392),bt=_(266);const St=["errorDialogTemplate"];function qt(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1,"\n                    "),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._uU(4,"\n                    "),t.TgZ(5,"div"),t._uU(6),t.qZA(),t._uU(7,"\n                "),t.qZA()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.process),t.xp6(3),t.Oqu(e.functionCode)}}function wt(n,o){1&n&&t.GkF(0)}function yt(n,o){1&n&&t.GkF(0)}const tt=function(n){return{cell:n}};function Ot(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1,"\n                        "),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._uU(4,"\n                        "),t.YNc(5,wt,1,0,"ng-container",10),t._uU(6,"\n                        "),t.YNc(7,yt,1,0,"ng-container",10),t._uU(8,"\n                    "),t.qZA()),2&n){const e=t.oxw().$implicit;t.oxw(3);const c=t.MAs(4),s=t.MAs(7);t.xp6(3),t.AsE("",e.taskId,",\xa0",e.state,""),t.xp6(2),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(6,tt,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(8,tt,e))}}function Rt(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1,"\n                    "),t.YNc(2,Ot,9,10,"div",0),t._uU(3,"\n                "),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf",!e.empty)}}function It(n,o){if(1&n&&(t.TgZ(0,"tr"),t._uU(1,"\n                "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n                "),t.YNc(5,Rt,4,1,"td",9),t._uU(6,"\n            "),t.qZA()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.context),t.xp6(2),t.Q6J("ngForOf",e.cells)}}function Et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row",4),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",5),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"table"),t._uU(11,"\n                        "),t.TgZ(12,"tr"),t._uU(13,"\n                            "),t.TgZ(14,"td"),t._uU(15,"UID: "),t.qZA(),t._uU(16,"\n                            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n                        "),t.qZA(),t._uU(20,"\n                        "),t.TgZ(21,"tr"),t._uU(22,"\n                            "),t.TgZ(23,"td"),t._uU(24,"Is valid:"),t.qZA(),t._uU(25,"\n                            "),t.TgZ(26,"td"),t._uU(27),t.qZA(),t._uU(28,"\n                        "),t.qZA(),t._uU(29,"\n                        "),t.TgZ(30,"tr"),t._uU(31,"\n                            "),t.TgZ(32,"td"),t._uU(33,"Type: "),t.qZA(),t._uU(34,"\n                            "),t.TgZ(35,"td"),t._uU(36),t.qZA(),t._uU(37,"\n                        "),t.qZA(),t._uU(38,"\n                    "),t.qZA(),t._uU(39,"\n                "),t.qZA(),t._uU(40,"\n                "),t.TgZ(41,"ct-flex-item",6),t._uU(42,"\n                    "),t.TgZ(43,"button",7),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.reload())}),t._uU(44,"\n                        "),t.TgZ(45,"mat-icon"),t._uU(46,"sync"),t.qZA(),t._uU(47,"\n                    "),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n            "),t.qZA(),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n    "),t.qZA(),t._uU(52,"\n\n    "),t.TgZ(53,"table",8),t._uU(54,"\n        "),t.TgZ(55,"thead"),t._uU(56,"\n            "),t.TgZ(57,"tr"),t._uU(58,"\n                "),t._UZ(59,"td"),t._uU(60,"\n                "),t.YNc(61,qt,8,2,"td",9),t._uU(62,"\n            "),t.qZA(),t._uU(63,"\n        "),t.qZA(),t._uU(64,"\n        "),t.TgZ(65,"tbody"),t._uU(66,"\n            "),t.YNc(67,It,7,2,"tr",9),t._uU(68,"\n        "),t.qZA(),t._uU(69,"\n    "),t.qZA(),t._uU(70,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(18),t.Oqu(e.response.sourceCodeUid),t.xp6(9),t.Oqu(e.response.sourceCodeValid),t.xp6(9),t.Oqu(e.response.sourceCodeType),t.xp6(25),t.Q6J("ngForOf",e.response.header),t.xp6(6),t.Q6J("ngForOf",e.response.lines)}}function Nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1,"\n                "),t.TgZ(2,"span",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.downloadFile(s))}),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.id,", ",e.nm,"")}}function kt(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("\n                ",e.id,", ",e.nm,"\n            ")}}function Mt(n,o){if(1&n&&(t.ynx(0),t._uU(1,"\n            "),t.YNc(2,Nt,5,2,"div",0),t._uU(3,"\n            "),t.YNc(4,kt,2,2,"div",0),t._uU(5,"\n        "),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf",!e.n),t.xp6(2),t.Q6J("ngIf",e.n)}}function Yt(n,o){if(1&n&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,Mt,6,2,"ng-container",9),t._uU(3,"\n    "),t.BQk()),2&n){const e=t.oxw().cell;t.xp6(2),t.Q6J("ngForOf",e.outs)}}function Qt(n,o){if(1&n&&(t._uU(0,"\n    "),t.YNc(1,Yt,4,1,"ng-container",0),t._uU(2,"\n")),2&n){const e=o.cell,c=t.oxw();t.xp6(1),t.Q6J("ngIf",e.state===c.TaskExecState.OK)}}function Dt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"span",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().cell,u=t.oxw();return t.KtG(u.openError(s.taskId))}),t._uU(3,"Task exec info"),t.qZA(),t._uU(4,"\n    "),t.BQk()}}function Jt(n,o){if(1&n&&(t._uU(0,"\n    "),t.YNc(1,Dt,5,0,"ng-container",0),t._uU(2,"\n")),2&n){const e=o.cell,c=t.oxw();t.xp6(1),t.Q6J("ngIf",e.state===c.TaskExecState.ERROR)}}function Ft(n,o){if(1&n&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"div"),t._uU(3," "),t.TgZ(4,"b"),t._uU(5,"Task Exec Info"),t.qZA(),t._uU(6," "),t.qZA(),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9),t.qZA(),t._uU(10,"\n        "),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._uU(13,"\n        "),t.TgZ(14,"mat-dialog-content"),t._uU(15,"\n            "),t.TgZ(16,"ct-pre",12),t._uU(17),t.qZA(),t._uU(18,"\n        "),t.qZA(),t._uU(19,"\n        "),t.TgZ(20,"mat-dialog-actions",13),t._uU(21,"\n            "),t.TgZ(22,"button",14),t._uU(23,"Close"),t.qZA(),t._uU(24,"\n        "),t.qZA(),t._uU(25,"\n    "),t.BQk()),2&n){const e=t.oxw(2);t.xp6(9),t.hij(" taskId: ",e.taskExecInfo.taskId," "),t.xp6(3),t.hij(" execState: ",e.taskExecInfo.execState," "),t.xp6(5),t.hij("\n",e.taskExecInfo.console,"\n            ")}}function Pt(n,o){if(1&n&&(t._uU(0,"\n    "),t.YNc(1,Ft,26,3,"ng-container",0),t._uU(2,"\n")),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.taskExecInfo)}}let jt=(()=>{class n{constructor(e,c){(0,i.Z)(this,"execContextService",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"errorDialogTemplate",void 0),(0,i.Z)(this,"sourceCodeId",void 0),(0,i.Z)(this,"execContextId",void 0),(0,i.Z)(this,"response",void 0),(0,i.Z)(this,"taskExecInfo",void 0),(0,i.Z)(this,"TaskExecState",k),(0,i.Z)(this,"MhUtils",vt.C),this.execContextService=e,this.dialog=c}ngOnInit(){this.reload()}reload(){this.sourceCodeId&&this.execContextId&&this.execContextService.execContextsState(this.sourceCodeId,this.execContextId).subscribe(e=>{this.response=e})}openError(e){this.taskExecInfo=null,this.dialog.open(this.errorDialogTemplate,{width:"90%"}),this.execContextService.taskExecInfo(this.sourceCodeId,this.execContextId,e).subscribe(c=>{this.taskExecInfo=c})}downloadFile(e){this.execContextService.downloadVariable(this.execContextId,e.id.toString()).subscribe(c=>{const s=c.headers.get("Content-Disposition").split("''")[1];console.log("state-of-tasks: "+s),At.saveAs(c.body,s)})}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(Q.w),t.Y36(w.uw))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["state-of-tasks"]],viewQuery:function(e,c){if(1&e&&t.Gf(St,5),2&e){let s;t.iGM(s=t.CRH())&&(c.errorDialogTemplate=s.first)}},inputs:{sourceCodeId:"sourceCodeId",execContextId:"execContextId"},decls:11,vars:1,consts:[[4,"ngIf"],["stateOkTemplate",""],["stateErrorTemplate",""],["errorDialogTemplate",""],[2,"width","100%"],["justify-content","space-between"],["justify-content","flex-end"],["mat-icon-button","","matTooltip","Reload",3,"click"],[1,"state-table"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"link",3,"click"],[2,"font-size","80%"],["align","end"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(e,c){1&e&&(t._uU(0,"\n\n"),t.YNc(1,Et,71,5,"ct-section",0),t._uU(2,"\n\n\n"),t.YNc(3,Qt,3,1,"ng-template",null,1,t.W1O),t._uU(5,"\n\n"),t.YNc(6,Jt,3,1,"ng-template",null,2,t.W1O),t._uU(8,"\n\n\n"),t.YNc(9,Pt,3,1,"ng-template",null,3,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",c.response))},dependencies:[d.sg,d.O5,d.tP,X.Q,Z.n,x.Z,A.B,v.i,U._,m.lW,m.RK,w.ZT,w.xY,w.H8,M.Hw,bt.gM],styles:["[_nghost-%COMP%]{font-family:Roboto Mono,Courier New,Courier,monospace}.info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:18px;line-height:1.2;vertical-align:baseline}.state-table[_ngcontent-%COMP%]{border-collapse:collapse}.state-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#8080800d;vertical-align:baseline;white-space:nowrap;padding:6.75px 9px;font-size:80%;line-height:1.2}.state-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.66)}.state-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.33)}"]})),n})(),Ht=(()=>{class n{constructor(e){(0,i.Z)(this,"route",void 0),(0,i.Z)(this,"sourceCodeId",void 0),(0,i.Z)(this,"execContextId",void 0),this.route=e,this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.execContextId=this.route.snapshot.paramMap.get("execContextId")}ngOnInit(){}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(p.gz))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["exec-context-states"]],decls:19,vars:2,consts:[[2,"font-size","8px"],[3,"sourceCodeId","execContextId"]],template:function(e,c){1&e&&(t.TgZ(0,"ct-section",0),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7,"State of Tasks"),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n    "),t.qZA(),t._uU(10,"\n    "),t.TgZ(11,"ct-section-body"),t._uU(12,"\n        "),t.TgZ(13,"ct-section-body-row"),t._uU(14,"\n            "),t._UZ(15,"state-of-tasks",1),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n    "),t.qZA(),t._uU(18,"\n"),t.qZA()),2&e&&(t.xp6(15),t.Q6J("sourceCodeId",c.sourceCodeId)("execContextId",c.execContextId))},dependencies:[g.U,Z.n,h.i,x.Z,T.t,U._,jt],styles:[".info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:18px}.state-table[_ngcontent-%COMP%]{border-collapse:collapse}.state-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;white-space:nowrap;padding:6.75px 9px;font-size:80%;line-height:1.2}.state-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.66)}.state-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.33)}"]})),n})();var a=_(3626),Y=_(9272),Gt=_(2177),P=_(7530),j=function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)};const Bt=["nextTable"],Vt=["prevTable"];function Kt(n,o){if(1&n&&(t.TgZ(0,"ct-section-header-row"),t._uU(1,"\n            "),t.TgZ(2,"table"),t._uU(3,"\n                "),t.TgZ(4,"tr"),t._uU(5,"\n                    "),t.TgZ(6,"td"),t._uU(7,"UID: "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._uU(11,"\n                "),t.qZA(),t._uU(12,"\n                "),t.TgZ(13,"tr"),t._uU(14,"\n                    "),t.TgZ(15,"td"),t._uU(16,"Is valid:"),t.qZA(),t._uU(17,"\n                    "),t.TgZ(18,"td"),t._uU(19),t.qZA(),t._uU(20,"\n                "),t.qZA(),t._uU(21,"\n                "),t.TgZ(22,"tr"),t._uU(23,"\n                    "),t.TgZ(24,"td"),t._uU(25,"Type: "),t.qZA(),t._uU(26,"\n                    "),t.TgZ(27,"td"),t._uU(28),t.qZA(),t._uU(29,"\n                "),t.qZA(),t._uU(30,"\n            "),t.qZA(),t._uU(31,"\n        "),t.qZA()),2&n){const e=t.oxw();t.xp6(10),t.Oqu(e.response.sourceCodeUid),t.xp6(9),t.Oqu(e.response.sourceCodeValid),t.xp6(9),t.Oqu(e.response.sourceCodeType)}}function zt(n,o){1&n&&(t.TgZ(0,"th",18),t._uU(1,"Id"),t.qZA())}function Lt(n,o){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.id)}}function Wt(n,o){1&n&&(t.TgZ(0,"th",18),t._uU(1,"Created On"),t.qZA())}function Xt(n,o){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",t.xi3(2,1,e.createdOn,"MMM d, yyyy HH:mm:ss"),"\n                        ")}}function te(n,o){1&n&&(t.TgZ(0,"th",18),t._uU(1,"Is execContext"),t._UZ(2,"br"),t._uU(3,"Valid"),t.qZA())}function ee(n,o){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.valid)}}function ne(n,o){1&n&&(t.TgZ(0,"th",18),t._uU(1,"ExecState"),t.qZA())}function oe(n,o){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.execState[e.execState])}}function ce(n,o){1&n&&(t.TgZ(0,"th",18),t._uU(1,"Completed on"),t.qZA())}function ie(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\n                                ",t.xi3(2,1,e.completedOn,"MMM d, yyyy HH:mm:ss"),"\n                            ")}}function se(n,o){if(1&n&&(t.TgZ(0,"td",19),t._uU(1,"\n                            "),t.YNc(2,ie,3,4,"span",0),t._uU(3,"\n                        "),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf",null!==e.completedOn)}}function ue(n,o){1&n&&t._UZ(0,"th",18)}function _e(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                                    "),t.TgZ(2,"button",23),t.NdJ("click",function(s){t.CHM(e);const u=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.produce(u,s))}),t._uU(3,"Produce"),t.qZA(),t._uU(4,"\n                                "),t.qZA()}}function ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                                    "),t.TgZ(2,"button",23),t.NdJ("click",function(s){t.CHM(e);const u=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.start(u,s))}),t._uU(3,"Start"),t.qZA(),t._uU(4,"\n                                "),t.qZA()}}function re(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                                    "),t.TgZ(2,"button",23),t.NdJ("click",function(s){t.CHM(e);const u=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.stop(u,s))}),t._uU(3,"Stop"),t.qZA(),t._uU(4,"\n                                "),t.qZA()}}const de=function(n,o){return["/dispatcher","source-codes",n,"exec-context",o,"state"]};function le(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex",20),t._uU(3,"\n                                "),t.YNc(4,_e,5,0,"ct-flex-item",0),t._uU(5,"\n                                "),t.YNc(6,ae,5,0,"ct-flex-item",0),t._uU(7,"\n                                "),t.YNc(8,re,5,0,"ct-flex-item",0),t._uU(9,"\n                                "),t.TgZ(10,"ct-flex-item"),t._uU(11,"\n                                    "),t.TgZ(12,"button",21),t._uU(13,"Task\n                                        States\n                                    "),t.qZA(),t._uU(14,"\n                                "),t.qZA(),t._uU(15,"\n                                "),t.TgZ(16,"ct-flex-item"),t._uU(17,"\n                                    "),t.TgZ(18,"button",22),t.NdJ("click",function(){const u=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.delete(u))}),t._uU(19,"\n                                        "),t.TgZ(20,"mat-icon"),t._uU(21,"delete"),t.qZA(),t._uU(22,"\n                                    "),t.qZA(),t._uU(23,"\n                                "),t.qZA(),t._uU(24,"\n                            "),t.qZA(),t._uU(25,"\n                        "),t.qZA()}if(2&n){const e=o.$implicit,c=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.execState==c.execState.NONE&&e.valid&&c.response.sourceCodeValid),t.xp6(2),t.Q6J("ngIf",e.execState==c.execState.PRODUCED||e.execState==c.execState.STOPPED),t.xp6(2),t.Q6J("ngIf",e.execState==c.execState.STARTED),t.xp6(4),t.Q6J("routerLink",t.WLB(5,de,c.sourceCodeId,e.id)),t.xp6(6),t.Q6J("disabled",e.__deleted)}}function pe(n,o){1&n&&t._UZ(0,"tr",24)}function me(n,o){1&n&&t._UZ(0,"tr",25),2&n&&t.ekj("mat-row--deleted",o.$implicit.__deleted)}function fe(n,o){if(1&n&&(t.TgZ(0,"ct-section-body-row"),t._uU(1,"\n            "),t.TgZ(2,"ct-table"),t._uU(3,"\n                "),t.TgZ(4,"table",7),t._uU(5,"\n                    "),t.ynx(6,8),t._uU(7,"\n                        "),t.YNc(8,zt,2,0,"th",9),t._uU(9,"\n                        "),t.YNc(10,Lt,2,1,"td",10),t._uU(11,"\n                    "),t.BQk(),t._uU(12,"\n                    "),t.ynx(13,11),t._uU(14,"\n                        "),t.YNc(15,Wt,2,0,"th",9),t._uU(16,"\n                        "),t.YNc(17,Xt,3,4,"td",10),t._uU(18,"\n                    "),t.BQk(),t._uU(19,"\n                    "),t.ynx(20,12),t._uU(21,"\n                        "),t.YNc(22,te,4,0,"th",9),t._uU(23,"\n                        "),t.YNc(24,ee,2,1,"td",10),t._uU(25,"\n                    "),t.BQk(),t._uU(26,"\n                    "),t.ynx(27,13),t._uU(28,"\n                        "),t.YNc(29,ne,2,0,"th",9),t._uU(30,"\n                        "),t.YNc(31,oe,2,1,"td",10),t._uU(32,"\n                    "),t.BQk(),t._uU(33,"\n                    "),t.ynx(34,14),t._uU(35,"\n                        "),t.YNc(36,ce,2,0,"th",9),t._uU(37,"\n                        "),t.YNc(38,se,4,1,"td",10),t._uU(39,"\n                    "),t.BQk(),t._uU(40,"\n                    "),t.ynx(41,15),t._uU(42,"\n                        "),t.YNc(43,ue,1,0,"th",9),t._uU(44,"\n                        "),t.YNc(45,le,26,8,"td",10),t._uU(46,"\n                    "),t.BQk(),t._uU(47,"\n                    "),t.YNc(48,pe,1,0,"tr",16),t._uU(49,"\n                    "),t.YNc(50,me,1,2,"tr",17),t._uU(51,"\n                "),t.qZA(),t._uU(52,"\n            "),t.qZA(),t._uU(53,"\n        "),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("dataSource",e.execContextTableSource),t.xp6(44),t.Q6J("matHeaderRowDef",e.execContextColumnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.execContextColumnsToDisplay)}}const Ce=function(n){return["/dispatcher","source-codes",n,"exec-context","add"]};class R{constructor(o,e,c,s){(0,i.Z)(this,"route",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"execContextService",void 0),(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"execState",Gt.B),(0,i.Z)(this,"nextTable",void 0),(0,i.Z)(this,"prevTable",void 0),(0,i.Z)(this,"sourceCodeId",void 0),(0,i.Z)(this,"response",void 0),(0,i.Z)(this,"execContextTableSource",new a.by([])),(0,i.Z)(this,"execContextColumnsToDisplay",["id","createdOn","isExecContextValid","execState","completedOn","bts"]),this.route=o,this.dialog=e,this.execContextService=c,this.sourceCodesService=s}ngOnInit(){this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.getExecContexts(0)}getExecContexts(o){this.execContextService.execContexts(this.sourceCodeId,o.toString()).subscribe(e=>{this.response=e,e&&(this.execContextTableSource=new a.by(e.instances.content),this.prevTable.disabled=e.instances.first,this.nextTable.disabled=e.instances.last)})}delete(o){var e,c;this.execContextService.execContextDeleteCommit(this.sourceCodeId,null===(e=o.id)||void 0===e||null===(c=e.toString)||void 0===c?void 0:c.call(e)).subscribe(s=>this.getExecContexts(this.response.instances.number))}next(){this.getExecContexts(this.response.instances.number+1)}prev(){this.getExecContexts(this.response.instances.number-1)}runExecState(o,e){this.execContextService.execContextTargetState(this.sourceCodeId,e,o).subscribe(c=>this.getExecContexts(this.response.instances.number))}stop(o,e){e.target.disabled=!0,this.runExecState(o.id,"STOPPED")}start(o,e){e.target.disabled=!0,this.runExecState(o.id,"STARTED")}produce(o,e){e.target.disabled=!0,this.runExecState(o.id,"PRODUCING")}}(0,i.Z)(R,"\u0275fac",function(o){return new(o||R)(t.Y36(p.gz),t.Y36(w.uw),t.Y36(Q.w),t.Y36(b))}),(0,i.Z)(R,"\u0275cmp",t.Xpm({type:R,selectors:[["exec-contexts"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Bt,7),t.Gf(Vt,7)),2&o){let c;t.iGM(c=t.CRH())&&(e.nextTable=c.first),t.iGM(c=t.CRH())&&(e.prevTable=c.first)}},decls:59,vars:7,consts:[[4,"ngIf"],["justify-content","space-between"],["justify-content","flex-start","gap","8px"],["mat-flat-button","mat-flat-button","disabled","disabled",3,"click"],["prevTable",""],["nextTable",""],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","routerLink"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","mat-header-cell",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","isExecContextValid"],["matColumnDef","execState"],["matColumnDef","completedOn"],["matColumnDef","bts"],["mat-header-row","mat-header-row",4,"matHeaderRowDef"],["mat-row","mat-row",3,"mat-row--deleted",4,"matRowDef","matRowDefColumns"],["mat-header-cell","mat-header-cell"],["mat-cell","mat-cell"],["justify-content","flex-end","gap","9px"],["mat-flat-button","mat-flat-button","color","primary","size","forTableRow",3,"routerLink"],["mat-flat-button","mat-flat-button","color","warn","size","forTableRow",3,"disabled","click"],["mat-flat-button","mat-flat-button","size","forTableRow","color","primary",3,"click"],["mat-header-row","mat-header-row"],["mat-row","mat-row"]],template:function(o,e){1&o&&(t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n        "),t.YNc(10,Kt,32,3,"ct-section-header-row",0),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n    "),t.TgZ(13,"ct-section-body"),t._uU(14,"\n        "),t.YNc(15,fe,54,3,"ct-section-body-row",0),t._uU(16,"\n    "),t.qZA(),t._uU(17,"\n    "),t.TgZ(18,"ct-section-footer"),t._uU(19,"\n        "),t.TgZ(20,"ct-section-footer-row"),t._uU(21,"\n            "),t.TgZ(22,"ct-flex",1),t._uU(23,"\n                "),t.TgZ(24,"ct-flex-item"),t._uU(25,"\n                    "),t.TgZ(26,"ct-flex",2),t._uU(27,"\n                        "),t.TgZ(28,"ct-flex-item"),t._uU(29,"\n                            "),t.TgZ(30,"button",3,4),t.NdJ("click",function(){return e.prev()}),t._uU(32,"\n                                "),t.TgZ(33,"mat-icon"),t._uU(34,"arrow_back_ios"),t.qZA(),t._uU(35,"\n                            "),t.qZA(),t._uU(36,"\n                        "),t.qZA(),t._uU(37,"\n                        "),t.TgZ(38,"ct-flex-item"),t._uU(39,"\n                            "),t.TgZ(40,"button",3,5),t.NdJ("click",function(){return e.next()}),t._uU(42,"\n                                "),t.TgZ(43,"mat-icon"),t._uU(44,"arrow_forward_ios"),t.qZA(),t._uU(45,"\n                            "),t.qZA(),t._uU(46,"\n                        "),t.qZA(),t._uU(47,"\n                    "),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n                "),t.TgZ(50,"ct-flex-item"),t._uU(51,"\n                    "),t.TgZ(52,"a",6),t._uU(53,"Add Exec\n                        Context"),t.qZA(),t._uU(54,"\n                "),t.qZA(),t._uU(55,"\n            "),t.qZA(),t._uU(56,"\n        "),t.qZA(),t._uU(57,"\n    "),t.qZA(),t._uU(58,"\n"),t.qZA()),2&o&&(t.xp6(7),t.hij("Exec Contexts in Source Code #",e.sourceCodeId,""),t.xp6(3),t.Q6J("ngIf",e.response),t.xp6(5),t.Q6J("ngIf",e.response),t.xp6(37),t.Q6J("disabled",!e.response)("routerLink",t.VKq(5,Ce,e.sourceCodeId)))},dependencies:[d.O5,p.rH,g.U,Z.n,S.V,q.R,P.a,h.i,x.Z,T.t,A.B,v.i,U._,m.zs,m.lW,M.Hw,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,d.uU],styles:[".mat-row--deleted[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.33;pointer-events:none}ct-section-header[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:1em}"]})),function(n,o,e,c){var r,s=arguments.length,u=s<3?o:null===c?c=Object.getOwnPropertyDescriptor(o,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,o,e,c);else for(var f=n.length-1;f>=0;f--)(r=n[f])&&(u=(s<3?r(u):s>3?r(o,e,u):r(o,e))||u);s>3&&u&&Object.defineProperty(o,e,u)}([(0,Y.K)({question:n=>`Do you want to delete ExecContext\xa0#${n.id}`,rejectTitle:"Cancel",resolveTitle:"Delete"}),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],R.prototype,"delete",null);var et=_(8318),nt=_(3788),ot=_(7824),H=function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)};function xe(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1,"Id "),t.qZA())}function Ue(n,o){if(1&n&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.id," ")}}function ge(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1,"UID of sourceCode"),t.qZA())}function he(n,o){if(1&n&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.uid," ")}}function Te(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1," Created on "),t.qZA())}function Ae(n,o){if(1&n&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",t.xi3(2,1,e.createdOn,"MMM d, yyyy, HH:mm:ss"),"\n                        ")}}function ve(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1,"Is valid? "),t.qZA())}function be(n,o){if(1&n&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.valid," ")}}function Se(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1,"Is locked? "),t.qZA())}function qe(n,o){if(1&n&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.locked," ")}}function we(n,o){1&n&&(t.TgZ(0,"th",14),t._uU(1," "),t.qZA())}function ye(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",15),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex",16),t._uU(3,"\n                                "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                                    "),t.TgZ(6,"button",17),t.NdJ("click",function(){const u=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.delete(u))}),t._uU(7,"\n                                        "),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA(),t._uU(10,"\n                                    "),t.qZA(),t._uU(11,"\n                                "),t.qZA(),t._uU(12,"\n                            "),t.qZA(),t._uU(13,"\n                        "),t.qZA()}}function Oe(n,o){1&n&&(t.TgZ(0,"tr",18),t._uU(1," "),t.qZA())}function Re(n,o){if(1&n&&t._UZ(0,"tr",19),2&n){const e=o.$implicit,c=t.oxw(2);t.ekj("deleted-table-row",c.deletedRows.includes(e))}}function Ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7,"Source Codes"),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n    "),t.qZA(),t._uU(10,"\n    "),t.TgZ(11,"ct-section-body"),t._uU(12,"\n        "),t.TgZ(13,"ct-section-body-row"),t._uU(14,"\n            "),t.TgZ(15,"ct-table",1),t._uU(16,"\n                "),t.TgZ(17,"table",2),t._uU(18,"\n                    "),t.ynx(19,3),t._uU(20,"\n                        "),t.YNc(21,xe,2,0,"th",4),t._uU(22,"\n                        "),t.YNc(23,Ue,2,1,"td",5),t._uU(24,"\n                    "),t.BQk(),t._uU(25,"\n                    "),t.ynx(26,6),t._uU(27,"\n                        "),t.YNc(28,ge,2,0,"th",4),t._uU(29,"\n                        "),t.YNc(30,he,2,1,"td",5),t._uU(31,"\n                    "),t.BQk(),t._uU(32,"\n                    "),t.ynx(33,7),t._uU(34,"\n                        "),t.YNc(35,Te,2,0,"th",4),t._uU(36,"\n                        "),t.YNc(37,Ae,3,4,"td",5),t._uU(38,"\n                    "),t.BQk(),t._uU(39,"\n                    "),t.ynx(40,8),t._uU(41,"\n                        "),t.YNc(42,ve,2,0,"th",4),t._uU(43,"\n                        "),t.YNc(44,be,2,1,"td",5),t._uU(45,"\n                    "),t.BQk(),t._uU(46,"\n                    "),t.ynx(47,9),t._uU(48,"\n                        "),t.YNc(49,Se,2,0,"th",4),t._uU(50,"\n                        "),t.YNc(51,qe,2,1,"td",5),t._uU(52,"\n                    "),t.BQk(),t._uU(53,"\n                    "),t.ynx(54,10),t._uU(55,"\n                        "),t.YNc(56,we,2,0,"th",4),t._uU(57,"\n                        "),t.YNc(58,ye,14,0,"td",5),t._uU(59,"\n                    "),t.BQk(),t._uU(60,"\n                    "),t.YNc(61,Oe,2,0,"tr",11),t._uU(62,"\n                    "),t.YNc(63,Re,1,2,"tr",12),t._uU(64,"\n                "),t.qZA(),t._uU(65,"\n            "),t.qZA(),t._uU(66,"\n        "),t.qZA(),t._uU(67,"\n    "),t.qZA(),t._uU(68,"\n    "),t.TgZ(69,"ct-section-footer"),t._uU(70,"\n        "),t.TgZ(71,"ct-section-footer-row"),t._uU(72,"\n            "),t.TgZ(73,"ct-table-pagination",13),t.NdJ("next",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.nextPage())})("prev",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.prevPage())}),t.qZA(),t._uU(74,"\n        "),t.qZA(),t._uU(75,"\n    "),t.qZA(),t._uU(76,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(15),t.Q6J("isWaiting",e.isLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.columnsToDisplay),t.xp6(10),t.Q6J("pageableDefault",null==e.sourceCodesResult?null:e.sourceCodesResult.items)("globalDisable",e.isLoading)}}class I extends et.S{constructor(o,e,c){super(c),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"sourceCodesResult",void 0),(0,i.Z)(this,"dataSource",new a.by([])),(0,i.Z)(this,"columnsToDisplay",["id","uid","createdOn","valid","locked","bts"]),(0,i.Z)(this,"deletedRows",[]),this.dialog=o,this.sourceCodesService=e,this.authenticationService=c}ngOnInit(){this.updateTable(0)}updateTable(o){this.setIsLoadingStart(),this.sourceCodesService.sourceCodeArchivedOnly(o.toString()).subscribe({next:e=>{this.sourceCodesResult=e,this.dataSource=new a.by(e.items.content||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(o){this.deletedRows.push(o),this.sourceCodesService.deleteCommit(o.id.toString()).subscribe()}nextPage(){this.updateTable(this.sourceCodesResult.items.number+1)}prevPage(){this.updateTable(this.sourceCodesResult.items.number-1)}}(0,i.Z)(I,"\u0275fac",function(o){return new(o||I)(t.Y36(w.uw),t.Y36(b),t.Y36(nt.$h))}),(0,i.Z)(I,"\u0275cmp",t.Xpm({type:I,selectors:[["source-codes-archive"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","mat-header-cell",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","uid"],["matColumnDef","createdOn"],["matColumnDef","valid"],["matColumnDef","locked"],["matColumnDef","bts"],["mat-header-row","mat-header-row",4,"matHeaderRowDef"],["mat-row","mat-row",3,"deleted-table-row",4,"matRowDef","matRowDefColumns"],[3,"pageableDefault","globalDisable","next","prev"],["mat-header-cell","mat-header-cell"],["mat-cell","mat-cell"],["justify-content","flex-end","gap","9px"],["mat-flat-button","mat-flat-button","color","warn","size","forTableRow","title","Delete",3,"click"],["mat-header-row","mat-header-row"],["mat-row","mat-row"]],template:function(o,e){1&o&&t.YNc(0,Ie,77,6,"ct-section",0),2&o&&t.Q6J("ngIf",e.sourceCodesResult)},dependencies:[d.O5,g.U,Z.n,S.V,q.R,P.a,h.i,x.Z,T.t,A.B,v.i,U._,ot.C,m.lW,M.Hw,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,d.uU]})),function(n,o,e,c){var r,s=arguments.length,u=s<3?o:null===c?c=Object.getOwnPropertyDescriptor(o,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,o,e,c);else for(var f=n.length-1;f>=0;f--)(r=n[f])&&(u=(s<3?r(u):s>3?r(o,e,u):r(o,e))||u);s>3&&u&&Object.defineProperty(o,e,u)}([(0,Y.K)({question:n=>`Do you want to delete SourceCode #${n.id}`,rejectTitle:"Cancel",resolveTitle:"Delete"}),H("design:type",Function),H("design:paramtypes",[Object]),H("design:returntype",void 0)],I.prototype,"delete",null);var Ee=_(4190),Ne=_(1336),ct=_(3848),it=function(n,o,e,c){var r,s=arguments.length,u=s<3?o:null===c?c=Object.getOwnPropertyDescriptor(o,e):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,o,e,c);else for(var f=n.length-1;f>=0;f--)(r=n[f])&&(u=(s<3?r(u):s>3?r(o,e,u):r(o,e))||u);return s>3&&u&&Object.defineProperty(o,e,u),u},E=function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)};const ke=["matTabGroup"],Me=["sourceCodesArchive"];function Ye(n,o){1&n&&t.GkF(0)}function Qe(n,o){if(1&n&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                            "),t.YNc(2,Ye,1,0,"ng-container",10),t._uU(3,"\n                        "),t.qZA()),2&n){t.oxw(2);const e=t.MAs(21);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function De(n,o){1&n&&(t.TgZ(0,"ct-section-header-row"),t._uU(1,"\n                    "),t.TgZ(2,"ct-alert",12),t._uU(3,"Creation of sourceCodes is disabled, assetMode is 'replicated'. "),t.qZA(),t._uU(4,"\n                "),t.qZA())}function Je(n,o){1&n&&t.GkF(0)}function Fe(n,o){1&n&&t.GkF(0)}function Pe(n,o){if(1&n&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                            "),t.YNc(2,Fe,1,0,"ng-container",10),t._uU(3,"\n                        "),t.qZA()),2&n){t.oxw(2);const e=t.MAs(21);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function je(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n            "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n                "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n                    "),t.TgZ(6,"ct-flex",8),t._uU(7,"\n                        "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                            "),t.TgZ(10,"ct-flex",9),t._uU(11,"\n                                "),t.TgZ(12,"ct-heading"),t._uU(13,"Source Codes"),t.qZA(),t._uU(14,"\n                            "),t.qZA(),t._uU(15,"\n                        "),t.qZA(),t._uU(16,"\n                        "),t.YNc(17,Qe,4,1,"ct-flex-item",3),t._uU(18,"\n                    "),t.qZA(),t._uU(19,"\n                "),t.qZA(),t._uU(20,"\n\n                "),t.YNc(21,De,5,0,"ct-section-header-row",3),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n\n            "),t.TgZ(24,"ct-section-body"),t._uU(25,"\n                "),t.TgZ(26,"ct-section-body-row"),t._uU(27,"\n                    "),t.YNc(28,Je,1,0,"ng-container",10),t._uU(29,"\n                "),t.qZA(),t._uU(30,"\n            "),t.qZA(),t._uU(31,"\n\n            "),t.TgZ(32,"ct-section-footer"),t._uU(33,"\n                "),t.TgZ(34,"ct-section-footer-row"),t._uU(35,"\n                    "),t.TgZ(36,"ct-flex",8),t._uU(37,"\n                        "),t.TgZ(38,"ct-flex-item"),t._uU(39,"\n                            "),t.TgZ(40,"ct-table-pagination",11),t.NdJ("next",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.nextPage())})("prev",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.prevPage())}),t._uU(41,"\n                            "),t.qZA(),t._uU(42,"\n                        "),t.qZA(),t._uU(43,"\n                        "),t.YNc(44,Pe,4,1,"ct-flex-item",3),t._uU(45,"\n                    "),t.qZA(),t._uU(46,"\n                "),t.qZA(),t._uU(47,"\n            "),t.qZA(),t._uU(48,"\n        "),t.qZA()}if(2&n){const e=t.oxw(),c=t.MAs(18);t.xp6(17),t.Q6J("ngIf",!e.dispatcherAssetModeService.isReplicated(e.sourceCodesResult.assetMode)),t.xp6(4),t.Q6J("ngIf",e.dispatcherAssetModeService.isReplicated(e.sourceCodesResult.assetMode)),t.xp6(7),t.Q6J("ngTemplateOutlet",c),t.xp6(12),t.Q6J("pageableDefault",null==e.sourceCodesResult?null:e.sourceCodesResult.items)("globalDisable",e.isLoading),t.xp6(4),t.Q6J("ngIf",!e.dispatcherAssetModeService.isReplicated(e.sourceCodesResult.assetMode))}}function He(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Id "),t.qZA())}function Ge(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.id," ")}}function $e(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"UID of sourceCode"),t.qZA())}function Be(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.uid," ")}}function Ve(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Type"),t.qZA())}function Ke(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit,c=t.oxw(2);t.xp6(1),t.hij("",c.getType(e.uid)," ")}}function ze(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1," Created on "),t.qZA())}function Le(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("\n                    ",t.xi3(2,1,e.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function We(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Is valid? "),t.qZA())}function Xe(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.valid," ")}}function tn(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1," "),t.qZA())}function en(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                            "),t.TgZ(2,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.archive(s))}),t._uU(3,"To Archive"),t.qZA(),t._uU(4,"\n                        "),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("disabled",e.locked)}}function nn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                            "),t.TgZ(2,"button",31),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.delete(s))}),t._uU(3,"\n                                "),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA(),t._uU(6,"\n                            "),t.qZA(),t._uU(7,"\n                        "),t.qZA()}}const on=function(n){return[n,"view"]},cn=function(n){return[n,"exec-contexts"]};function sn(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1,"\n                    "),t.TgZ(2,"ct-flex",27),t._uU(3,"\n                        "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                            "),t.TgZ(6,"button",28),t._uU(7,"View"),t.qZA(),t._uU(8,"\n                        "),t.qZA(),t._uU(9,"\n                        "),t.TgZ(10,"ct-flex-item"),t._uU(11,"\n                            "),t.TgZ(12,"button",29),t._uU(13,"Exec Contexts"),t.qZA(),t._uU(14,"\n                        "),t.qZA(),t._uU(15,"\n                        "),t.YNc(16,en,5,1,"ct-flex-item",3),t._uU(17,"\n                        "),t.YNc(18,nn,8,0,"ct-flex-item",3),t._uU(19,"\n                    "),t.qZA(),t._uU(20,"\n                "),t.qZA()),2&n){const e=o.$implicit,c=t.oxw(2);t.xp6(6),t.Q6J("routerLink",t.VKq(4,on,e.id)),t.xp6(6),t.Q6J("routerLink",t.VKq(6,cn,e.id)),t.xp6(4),t.Q6J("ngIf",!c.dispatcherAssetModeService.isReplicated(c.sourceCodesResult.assetMode)),t.xp6(2),t.Q6J("ngIf",!c.dispatcherAssetModeService.isReplicated(c.sourceCodesResult.assetMode))}}function un(n,o){1&n&&(t.TgZ(0,"tr",32),t._uU(1," "),t.qZA())}function _n(n,o){if(1&n&&(t.TgZ(0,"tr",33),t._uU(1,"\n            "),t.qZA()),2&n){const e=o.$implicit,c=t.oxw(2);t.ekj("deleted-table-row",c.deletedSourceCodes.includes(e)||c.archivedSourceCodes.includes(e))}}function an(n,o){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"ct-table",13),t._uU(2,"\n        "),t.TgZ(3,"table",14),t._uU(4,"\n            "),t.ynx(5,15),t._uU(6,"\n                "),t.YNc(7,He,2,0,"th",16),t._uU(8,"\n                "),t.YNc(9,Ge,2,1,"td",17),t._uU(10,"\n            "),t.BQk(),t._uU(11,"\n            "),t.ynx(12,18),t._uU(13,"\n                "),t.YNc(14,$e,2,0,"th",16),t._uU(15,"\n                "),t.YNc(16,Be,2,1,"td",17),t._uU(17,"\n            "),t.BQk(),t._uU(18,"\n            "),t.ynx(19,19),t._uU(20,"\n                "),t.YNc(21,Ve,2,0,"th",16),t._uU(22,"\n                "),t.YNc(23,Ke,2,1,"td",17),t._uU(24,"\n            "),t.BQk(),t._uU(25,"\n            "),t.ynx(26,20),t._uU(27,"\n                "),t.YNc(28,ze,2,0,"th",16),t._uU(29,"\n                "),t.YNc(30,Le,3,4,"td",17),t._uU(31,"\n            "),t.BQk(),t._uU(32,"\n            "),t.ynx(33,21),t._uU(34,"\n                "),t.YNc(35,We,2,0,"th",16),t._uU(36,"\n                "),t.YNc(37,Xe,2,1,"td",17),t._uU(38,"\n            "),t.BQk(),t._uU(39,"\n            "),t.ynx(40,22),t._uU(41,"\n                "),t.YNc(42,tn,2,0,"th",16),t._uU(43,"\n                "),t.YNc(44,sn,21,8,"td",17),t._uU(45,"\n            "),t.BQk(),t._uU(46,"\n            "),t.YNc(47,un,2,0,"tr",23),t._uU(48,"\n            "),t.YNc(49,_n,2,2,"tr",24),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n    "),t.qZA(),t._uU(52,"\n")),2&n){const e=t.oxw();t.xp6(1),t.Q6J("isWaiting",e.isLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.columnsToDisplay)}}function rn(n,o){1&n&&(t._uU(0,"\n    "),t.TgZ(1,"button",34),t._uU(2,"Add Source Code"),t.qZA(),t._uU(3,"\n"))}class y extends et.S{constructor(o,e,c,s){super(s),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"dispatcherAssetModeService",void 0),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"TABINDEX",0),(0,i.Z)(this,"sourceCodesResult",void 0),(0,i.Z)(this,"dataSource",new a.by([])),(0,i.Z)(this,"columnsToDisplay",["id","uid","type","createdOn","valid","bts"]),(0,i.Z)(this,"deletedSourceCodes",[]),(0,i.Z)(this,"archivedSourceCodes",[]),(0,i.Z)(this,"matTabGroup",void 0),(0,i.Z)(this,"sourceCodesArchive",void 0),this.dialog=o,this.sourceCodesService=e,this.dispatcherAssetModeService=c,this.authenticationService=s}ngOnInit(){this.updateTable(0)}updateTable(o){this.setIsLoadingStart(),this.sourceCodesService.sourceCodes(o.toString()).subscribe({next:e=>{this.sourceCodesResult=e,this.dataSource=new a.by(e.items.content||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(o){this.deletedSourceCodes.push(o),this.sourceCodesService.deleteCommit(o.id.toString()).subscribe()}archive(o){this.archivedSourceCodes.push(o),this.sourceCodesService.archiveCommit(o.id.toString()).subscribe()}tabChange(){1===this.matTabGroup.selectedIndex&&this.sourceCodesArchive.updateTable(0)}nextPage(){this.updateTable(this.sourceCodesResult.items.number+1)}prevPage(){this.updateTable(this.sourceCodesResult.items.number-1)}getType(o){return this.sourceCodesService.getSourceCodeType(o,this.sourceCodesResult)}}function dn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ct-cols",1),t._uU(1,"\n    "),t.TgZ(2,"ct-col",2),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"ct-section-content"),t._uU(20,"\n                        "),t.TgZ(21,"ct-pre"),t._uU(22),t.qZA(),t._uU(23,"\n                    "),t.qZA(),t._uU(24,"\n                "),t.qZA(),t._uU(25,"\n            "),t.qZA(),t._uU(26,"\n            "),t.TgZ(27,"ct-section-footer"),t._uU(28,"\n                "),t.TgZ(29,"ct-section-footer-row"),t._uU(30,"\n                    "),t.TgZ(31,"ct-flex",3),t._uU(32,"\n                        "),t.TgZ(33,"ct-flex-item"),t._uU(34,"\n                            "),t.TgZ(35,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.back())}),t._uU(36,"Back"),t.qZA(),t._uU(37,"\n                        "),t.qZA(),t._uU(38,"\n                        "),t.TgZ(39,"ct-flex-item"),t._uU(40,"\n                            "),t.TgZ(41,"button",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.validate())}),t._uU(42,"Validate"),t.qZA(),t._uU(43,"\n                        "),t.qZA(),t._uU(44,"\n                    "),t.qZA(),t._uU(45,"\n                "),t.qZA(),t._uU(46,"\n            "),t.qZA(),t._uU(47,"\n        "),t.qZA(),t._uU(48,"\n    "),t.qZA(),t._uU(49,"\n    "),t.TgZ(50,"ct-col",2),t._uU(51,"\n        "),t._UZ(52,"ct-rest-status",6),t._uU(53,"\n    "),t.qZA(),t._uU(54,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(11),t.hij("Edit SourceCode ",e.sourceCode?e.sourceCode.id:"",""),t.xp6(11),t.Oqu(e.sourceCode.source),t.xp6(30),t.Q6J("content",e.sourceCodeResponseForValidate)}}(0,i.Z)(y,"\u0275fac",function(o){return new(o||y)(t.Y36(w.uw),t.Y36(b),t.Y36(Ee.F),t.Y36(nt.$h))}),(0,i.Z)(y,"\u0275cmp",t.Xpm({type:y,selectors:[["source-codes"]],viewQuery:function(o,e){if(1&o&&(t.Gf(ke,7),t.Gf(Me,7)),2&o){let c;t.iGM(c=t.CRH())&&(e.matTabGroup=c.first),t.iGM(c=t.CRH())&&(e.sourceCodesArchive=c.first)}},features:[t.qOj],decls:22,vars:1,consts:[["mat-stretch-tabs","","dynamicHeight","",3,"selectedIndexChange"],["matTabGroup",""],["label","CURRENT"],[4,"ngIf"],["label","ARCHIVE"],["sourceCodesArchive",""],["mainTableTemplate",""],["addSourceCodeButtonTemplate",""],["justify-content","space-between"],["justify-content","flex-start","gap","8px"],[4,"ngTemplateOutlet"],[3,"pageableDefault","globalDisable","next","prev"],["theme","info"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","uid"],["matColumnDef","type"],["matColumnDef","createdOn"],["matColumnDef","valid"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"deleted-table-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px"],["mat-flat-button","mat-flat-button","size","forTableRow","color","primary","title","View",3,"routerLink"],["mat-flat-button","mat-flat-button","size","forTableRow","color","primary",3,"routerLink"],["mat-flat-button","mat-flat-button","size","forTableRow","color","warn","title","Archive",3,"disabled","click"],["mat-flat-button","mat-flat-button","size","forTableRow","color","warn","title","Delete",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","mat-flat-button","color","primary","routerLink","add"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-tab-group",0,1),t.NdJ("selectedIndexChange",function(){return e.tabChange()}),t._uU(2,"\n    "),t.TgZ(3,"mat-tab",2),t._UZ(4,"br"),t._uU(5,"\n\n        "),t.YNc(6,je,49,6,"ct-section",3),t._uU(7,"\n    "),t.qZA(),t._uU(8,"\n\n\n    "),t.TgZ(9,"mat-tab",4),t._UZ(10,"br"),t._uU(11,"\n        "),t._UZ(12,"source-codes-archive",null,5),t._uU(14,"\n    "),t.qZA(),t._uU(15,"\n"),t.qZA(),t._uU(16,"\n\n\n\n\n"),t.YNc(17,an,53,4,"ng-template",null,6,t.W1O),t._uU(19,"\n\n\n\n\n\n\n"),t.YNc(20,rn,4,0,"ng-template",null,7,t.W1O)),2&o&&(t.xp6(6),t.Q6J("ngIf",e.sourceCodesResult))},dependencies:[d.O5,d.tP,p.rH,g.U,Z.n,S.V,q.R,P.a,h.i,x.Z,T.t,A.B,v.i,U._,ot.C,Ne.v,m.lW,M.Hw,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,ct.uX,ct.SP,I,d.uU]})),it([(0,Y.K)({question:n=>`Do you want to delete SourceCode\xa0#${n.id}`,rejectTitle:"Cancel",resolveTitle:"Delete"}),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],y.prototype,"delete",null),it([(0,Y.K)({question:n=>`Do you want to archive SourceCode\xa0#${n.id}`,rejectTitle:"Cancel",resolveTitle:"Archive"}),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],y.prototype,"archive",null);const st=[{path:"",component:y},{path:"add",component:ht,data:{backConfig:["../"]}},{path:":sourceCodeId/view",component:(()=>{class n{constructor(e,c,s,u){(0,i.Z)(this,"route",void 0),(0,i.Z)(this,"sourceCodesService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"elRef",void 0),(0,i.Z)(this,"sourceCode",void 0),(0,i.Z)(this,"sourceCodeResponse",void 0),(0,i.Z)(this,"sourceCodeResponseForValidate",void 0),this.route=e,this.sourceCodesService=c,this.router=s,this.elRef=u}ngOnInit(){this.updateResponse()}updateResponse(){const e=this.route.snapshot.paramMap.get("sourceCodeId");this.sourceCodesService.edit(e).subscribe(c=>{this.sourceCodeResponse=c,this.sourceCode=c})}back(){this.router.navigate(["/dispatcher","source-codes"])}validate(){const e=this.route.snapshot.paramMap.get("sourceCodeId");this.sourceCodesService.validate(e).subscribe(c=>{this.sourceCodeResponse=c,this.sourceCodeResponseForValidate=c,this.scrollIntoView()})}scrollIntoView(){const e=this.elRef.nativeElement.querySelector("ct-rest-status");e&&e.scrollIntoView({block:"start",behavior:"smooth"})}}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(p.gz),t.Y36(b),t.Y36(p.F0),t.Y36(t.SBq))}),(0,i.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["view-source-code"]],decls:1,vars:1,consts:[["align-items","flex-start",4,"ngIf"],["align-items","flex-start"],["size","6"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"click"],[1,"uploadRestStatus",3,"content"]],template:function(e,c){1&e&&t.YNc(0,dn,55,3,"ct-cols",0),2&e&&t.Q6J("ngIf",c.sourceCodeResponse)},dependencies:[d.O5,B.a,X.Q,g.U,Z.n,S.V,q.R,D.t,J.W,h.i,x.Z,T.t,A.B,v.i,U._,W.R,m.lW]})),n})(),data:{backConfig:["../","../"]}},{path:":sourceCodeId/exec-contexts",component:R,data:{backConfig:["../","../"]}},{path:":sourceCodeId/exec-context/add",component:xt},{path:":sourceCodeId/exec-context/:execContextId/edit",component:Tt,data:{backConfig:["../","../"]}},{path:":sourceCodeId/exec-context/:execContextId/state",component:Ht,data:{backConfig:["../","../","../","exec-contexts"]}}];let ut=(()=>{class n{}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,i.Z)(n,"\u0275mod",t.oAB({type:n})),(0,i.Z)(n,"\u0275inj",t.cJS({imports:[p.Bz.forChild(st),p.Bz]})),n})(),ln=(()=>{class n{}return(0,i.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,i.Z)(n,"\u0275mod",t.oAB({type:n})),(0,i.Z)(n,"\u0275inj",t.cJS({imports:[d.ez,ut,rt.E,at.$,l.u5,l.UX,_t.aw.forChild({})]})),n})()}}]);