"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[576],{6576:(we,H,u)=>{u.r(H),u.d(H,{CompanyRoutes:()=>nt,CompanyRoutingModule:()=>et,CompnyModule:()=>ve});var i=u(1180),d=u(6895),r=u(9299),D=u(3081),ot=u(1623),ct=u(6423),t=u(4650);let it=(()=>{class e{constructor(){}ngOnInit(){}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["company"]],decls:3,vars:0,template:function(n,c){1&n&&(t.TgZ(0,"p"),t._uU(1,"company works!"),t.qZA(),t._uU(2,"\n"))}})),e})();var l=u(3626),O=u(8318),Z=u(3788),E=u(529),I=u(7528),at=u(2340),z=u(9751),st=u(2076),ut=u(9646),_t=u(5650),lt=u(4351),pt=u(262),$=u(4327);const m=e=>`${at.N.baseUrl}dispatcher/company/${e}`;let g=(()=>{class e{constructor(n){(0,i.Z)(this,"http",void 0),(0,i.Z)(this,"companies",c=>this.http.get(m("companies"),{params:{page:c}})),(0,i.Z)(this,"addFormCommitCompany",c=>this.http.post(m("company-add-commit"),(0,I.P)({companyName:c}))),(0,i.Z)(this,"editCompany",c=>this.http.get(m(`company-edit/${c}`))),(0,i.Z)(this,"editFormCommitCompany",(c,a,s)=>this.http.post(m("company-edit-commit"),(0,I.P)({companyUniqueId:c,name:a,groups:s}))),(0,i.Z)(this,"accounts",(c,a)=>this.http.get(m(`company-accounts/${a}`),{params:{page:c}})),(0,i.Z)(this,"addFormCommitNewAccount",(c,a)=>this.http.post(m(`company-account-add-commit/${a}`),c)),(0,i.Z)(this,"edit",(c,a)=>this.http.get(m(`company-account-edit/${c}/${a}`))),(0,i.Z)(this,"editFormCommit",(c,a,s,p)=>this.http.post(m(`company-account-edit-commit/${p}`),(0,I.P)({id:c,publicName:a,enabled:s,companyUniqueId:p}))),(0,i.Z)(this,"passwordEdit",(c,a)=>this.http.get(m(`company-account-password-edit/${a}/${c}`))),(0,i.Z)(this,"passwordEditFormCommit",(c,a,s,p)=>this.http.post(m(`company-account-password-edit-commit/${p}`),(0,I.P)({id:c,password:a,password2:s,companyUniqueId:p}))),(0,i.Z)(this,"editRoles",(c,a)=>this.http.get(m(`company-account-edit-roles/${a}/${c}`))),(0,i.Z)(this,"rolesEditFormCommit",(c,a,s,p)=>this.http.post(m(`company-account-edit-roles-commit/${p}`),(0,I.P)({accountId:c,role:a,checkbox:s,companyId:p}))),(0,i.Z)(this,"batches",(c,a)=>this.http.get(m(`batch/company-batches/${a}`),{params:{page:c}})),(0,i.Z)(this,"processBatchDelete",(c,a)=>this.http.get(m(`batch/company-batch-delete/${c}/${a}`))),(0,i.Z)(this,"processBatchDeleteCommit",(c,a)=>this.http.post(m(`batch/company-batch-delete-commit/${c}`),(0,I.P)({batchId:a}))),(0,i.Z)(this,"processBatchesBulkDeleteCommit",(c,a)=>this.http.post(m(`batch/company-batch-bulk-delete-commit/${c}`),(0,I.P)({batchIds:a}))),(0,i.Z)(this,"uploadFile",(c,a,s)=>this.http.post(m(`batch/company-batch-upload-from-file/${c}`),(0,I.P)({sourceCodeId:a,file:s}))),(0,i.Z)(this,"getBatchStatus",(c,a)=>this.http.get(m(`batch/company-batch-status/${c}/${a}`))),(0,i.Z)(this,"downloadProcessingResult",(c,a)=>{let s=new E.WM;return s=s.append("Accept","application/octet-stream"),this.http.get(m(`batch/company-batch-download-result/${c}/${a}`),{headers:s,observe:"response",responseType:"blob"})}),(0,i.Z)(this,"downloadOriginFile",(c,a,s)=>{let p=new E.WM;return p=p.append("Accept","application/octet-stream"),this.http.get(m(`batch/company-batch-download-origin-file/${c}/${a}/${s}`),{headers:p,observe:"response",responseType:"blob"})}),(0,i.Z)(this,"sourceCodesForCompany",c=>this.http.get(m(`batch/company-batch-source-codes/${c}`))),this.http=n}downloadProcessingResults(n,c){const a="result "+n.toString()+".zip",s=new _t,p=n.map(w=>({id:w.toString(),fileName:"empty",response:null,companyId:c}));return new z.y(w=>{(0,st.D)(p).pipe((0,lt.b)(b=>this.downloadProcessingResult(b.companyId,b.id).pipe((0,pt.K)(qe=>(0,ut.of)(qe)),this.parseProcessableItemOperator(b)))).subscribe({next:b=>{},error:b=>w.error(b),complete:()=>{p.forEach(b=>{s.file(b.fileName,b.response.body)}),s.generateAsync({type:"blob"}).then(b=>{$.saveAs(b,a)}),w.next(!0),w.complete()}})})}parseProcessableItemOperator(n){return c=>new z.y(a=>c.subscribe({next:s=>{n.response=s,n.fileName=s.ok?`${n.id}.zip`:`${n.id} error`,a.next()},error:s=>a.error(s),complete:()=>a.complete()}))}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.LFG(E.eN))}),(0,i.Z)(e,"\u0275prov",t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})),e})();var W=u(4190),f=u(1439),C=u(9185),R=u(6890),S=u(2555),j=u(7530),T=u(6264),x=u(305),A=u(5014),v=u(8868),q=u(3370),y=u(9863),P=u(7824),X=u(1336),U=u(4859);function rt(e,o){1&e&&t.GkF(0)}function mt(e,o){if(1&e&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                    "),t.YNc(2,rt,1,0,"ng-container",4),t._uU(3,"\n                "),t.qZA()),2&e){t.oxw(2);const n=t.MAs(6);t.xp6(2),t.Q6J("ngTemplateOutlet",n)}}function dt(e,o){1&e&&(t.TgZ(0,"ct-section-header-row"),t._uU(1,"\n            "),t.TgZ(2,"ct-alert",6),t._uU(3,"\n                Management of companies are disabled, assetMode is 'replicated'.\n            "),t.qZA(),t._uU(4,"\n        "),t.qZA())}function ht(e,o){1&e&&t.GkF(0)}function Ut(e,o){1&e&&t.GkF(0)}function Zt(e,o){if(1&e&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                    "),t.YNc(2,Ut,1,0,"ng-container",4),t._uU(3,"\n                "),t.qZA()),2&e){t.oxw(2);const n=t.MAs(6);t.xp6(2),t.Q6J("ngTemplateOutlet",n)}}function gt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",3),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Companies"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n                "),t.YNc(14,mt,4,1,"ct-flex-item",0),t._uU(15,"\n            "),t.qZA(),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n        "),t.YNc(18,dt,5,0,"ct-section-header-row",0),t._uU(19,"\n    "),t.qZA(),t._uU(20,"\n    "),t.TgZ(21,"ct-section-body"),t._uU(22,"\n        "),t.TgZ(23,"ct-section-body-row"),t._uU(24,"\n            "),t.YNc(25,ht,1,0,"ng-container",4),t._uU(26,"\n        "),t.qZA(),t._uU(27,"\n    "),t.qZA(),t._uU(28,"\n    "),t.TgZ(29,"ct-section-footer"),t._uU(30,"\n        "),t.TgZ(31,"ct-section-footer-row"),t._uU(32,"\n            "),t.TgZ(33,"ct-flex",3),t._uU(34,"\n                "),t.TgZ(35,"ct-flex-item"),t._uU(36,"\n                    "),t.TgZ(37,"ct-table-pagination",5),t.NdJ("prev",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.prevPage())})("next",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.nextPage())}),t.qZA(),t._uU(38,"\n                "),t.qZA(),t._uU(39,"\n                "),t.YNc(40,Zt,4,1,"ct-flex-item",0),t._uU(41,"\n            "),t.qZA(),t._uU(42,"\n        "),t.qZA(),t._uU(43,"\n    "),t.qZA(),t._uU(44,"\n"),t.qZA()}if(2&e){const n=t.oxw(),c=t.MAs(3);t.xp6(14),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.simpleCompaniesResult.assetMode)),t.xp6(4),t.Q6J("ngIf",n.dispatcherAssetModeService.isReplicated(n.simpleCompaniesResult.assetMode)),t.xp6(7),t.Q6J("ngTemplateOutlet",c),t.xp6(12),t.Q6J("pageableDefault",n.simpleCompaniesResult.companies),t.xp6(3),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.simpleCompaniesResult.assetMode))}}function ft(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Id"),t.qZA())}function Ct(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.uniqueId," ")}}function Tt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function xt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.name," ")}}function At(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1," "),t.qZA())}const yt=function(e){return["../",e,"edit"]};function bt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                    "),t.TgZ(4,"a",19),t._uU(5,"Edit"),t.qZA(),t._uU(6,"\n                                "),t.qZA(),t._uU(7,"\n                            "),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(1,yt,n.uniqueId))}}function vt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                            "),t.YNc(2,bt,8,3,"ng-container",0),t._uU(3,"\n                        "),t.BQk()),2&e){const n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.simpleCompaniesResult.assetMode))}}const qt=function(e){return["../",e,"accounts"]};function wt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                "),t.TgZ(4,"a",19),t._uU(5,"Accounts"),t.qZA(),t._uU(6,"\n                            "),t.qZA(),t._uU(7,"\n                        "),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(1,qt,n.uniqueId))}}const It=function(e){return["../",e,"batches"]};function Rt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                    "),t.TgZ(4,"a",19),t._uU(5,"Batches"),t.qZA(),t._uU(6,"\n                                "),t.qZA(),t._uU(7,"\n                            "),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(1,It,n.uniqueId))}}function St(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                            "),t.YNc(2,Rt,8,3,"ng-container",0),t._uU(3,"\n                        "),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",1!==n.id)}}function Nt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1,"\n                    "),t.TgZ(2,"ct-flex",18),t._uU(3,"\n                        "),t.YNc(4,vt,4,1,"ng-container",0),t._uU(5,"\n\n                        "),t.YNc(6,wt,8,3,"ng-container",0),t._uU(7,"\n\n                        "),t.YNc(8,St,4,1,"ng-container",0),t._uU(9,"\n                    "),t.qZA(),t._uU(10,"\n                "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("ngIf",n.authenticationService.isRoleMasterAdmin()),t.xp6(2),t.Q6J("ngIf",n.authenticationService.isRoleMasterAdmin()),t.xp6(2),t.Q6J("ngIf",n.authenticationService.isRoleMasterOperator()||n.authenticationService.isRoleMasterSupport())}}function Mt(e,o){1&e&&t._UZ(0,"tr",20)}function Jt(e,o){1&e&&t._UZ(0,"tr",21)}function kt(e,o){if(1&e&&(t._uU(0,"\n    "),t.TgZ(1,"ct-table",7),t._uU(2,"\n        "),t.TgZ(3,"table",8),t._uU(4,"\n            "),t.ynx(5,9),t._uU(6,"\n                "),t.YNc(7,ft,2,0,"th",10),t._uU(8,"\n                "),t.YNc(9,Ct,2,1,"td",11),t._uU(10,"\n            "),t.BQk(),t._uU(11,"\n            "),t.ynx(12,12),t._uU(13,"\n                "),t.YNc(14,Tt,2,0,"th",10),t._uU(15,"\n                "),t.YNc(16,xt,2,1,"td",11),t._uU(17,"\n            "),t.BQk(),t._uU(18,"\n            "),t.ynx(19,13),t._uU(20,"\n                "),t.YNc(21,At,2,0,"th",10),t._uU(22,"\n                "),t.YNc(23,Nt,11,3,"td",11),t._uU(24,"\n            "),t.BQk(),t._uU(25,"\n            "),t.YNc(26,Mt,1,0,"tr",14),t._uU(27,"\n            "),t.YNc(28,Jt,1,0,"tr",15),t._uU(29,"\n        "),t.qZA(),t._uU(30,"\n    "),t.qZA(),t._uU(31,"\n")),2&e){const n=t.oxw();t.xp6(1),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(23),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay)}}function Bt(e,o){1&e&&(t._uU(0,"\n    "),t.TgZ(1,"button",22),t._uU(2," Add New Company "),t.qZA(),t._uU(3,"\n"))}let Lt=(()=>{class e extends O.S{constructor(n,c,a){super(n),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"dispatcherAssetModeService",void 0),(0,i.Z)(this,"columnsToDisplay",["uniqueId","name","bts"]),(0,i.Z)(this,"simpleCompaniesResult",void 0),(0,i.Z)(this,"dataSource",new l.by([])),this.authenticationService=n,this.companyService=c,this.dispatcherAssetModeService=a}ngOnInit(){this.updateTable(0)}updateTable(n){this.setIsLoadingStart(),this.companyService.companies(n.toString()).subscribe({next:c=>{this.simpleCompaniesResult=c,this.dataSource=new l.by(this.simpleCompaniesResult.companies.content)},complete:()=>{this.setIsLoadingEnd()}})}prevPage(){this.updateTable(this.simpleCompaniesResult.companies.number-1)}nextPage(){this.updateTable(this.simpleCompaniesResult.companies.number+1)}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(Z.$h),t.Y36(g),t.Y36(W.F))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["companies"]],features:[t.qOj],decls:7,vars:1,consts:[[4,"ngIf"],["mainTableTemplate",""],["addButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"pageableDefault","prev","next"],["theme","info"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","uniqueId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","mat-cell"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","color","primary","size","forTableRow",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary","routerLink","../add"]],template:function(n,c){1&n&&(t.YNc(0,gt,45,5,"ct-section",0),t._uU(1,"\n\n\n\n"),t.YNc(2,kt,32,4,"ng-template",null,1,t.W1O),t._uU(4,"\n\n\n\n"),t.YNc(5,Bt,4,0,"ng-template",null,2,t.W1O)),2&n&&t.Q6J("ngIf",c.simpleCompaniesResult)},dependencies:[d.O5,d.tP,r.rH,f.U,C.n,R.V,S.R,j.a,T.i,x.Z,A.t,v.B,q.i,y._,P.C,X.v,U.zs,U.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk]})),e})();var F=u(2199),N=u(2379),M=u(5510),J=u(1023),Q=u(284),h=u(9549),_=u(4006);const Qt=function(){return["../../companies"]};function Yt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Edit Company"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"mat-form-field",2),t._uU(20,"\n                        "),t.TgZ(21,"mat-label"),t._uU(22,"Name of company"),t.qZA(),t._uU(23,"\n                        "),t.TgZ(24,"input",3),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.name=a)}),t.qZA(),t._uU(25,"\n                        "),t.TgZ(26,"mat-hint"),t._uU(27,"This is a required field."),t.qZA(),t._uU(28,"\n                    "),t.qZA(),t._uU(29,"\n                    "),t._UZ(30,"br"),t._uU(31,"\n                    "),t._UZ(32,"br"),t._uU(33,"\n                    "),t.TgZ(34,"mat-form-field",2),t._uU(35,"\n                        "),t.TgZ(36,"mat-label"),t._uU(37,"Company's groups"),t.qZA(),t._uU(38,"\n                        "),t.TgZ(39,"input",3),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.groups=a)}),t.qZA(),t._uU(40,"\n                    "),t.qZA(),t._uU(41,"\n                    "),t._UZ(42,"br"),t._uU(43,"\n                    "),t.TgZ(44,"ct-flex",4),t._uU(45,"\n                        "),t.TgZ(46,"ct-flex-item"),t._uU(47,"\n                            "),t.TgZ(48,"a",5),t._uU(49,"Cancel"),t.qZA(),t._uU(50,"\n                        "),t.qZA(),t._uU(51,"\n                        "),t.TgZ(52,"ct-flex-item"),t._uU(53,"\n                            "),t.TgZ(54,"button",6),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.saveChanges())}),t._uU(55,"Save Changes"),t.qZA(),t._uU(56,"\n                        "),t.qZA(),t._uU(57,"\n                    "),t.qZA(),t._uU(58,"\n                "),t.qZA(),t._uU(59,"\n            "),t.qZA(),t._uU(60,"\n        "),t.qZA(),t._uU(61,"\n    "),t.qZA(),t._uU(62,"\n    "),t.TgZ(63,"ct-col",1),t._uU(64,"\n        "),t._UZ(65,"ct-rest-status",7),t._uU(66,"\n    "),t.qZA(),t._uU(67,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(24),t.Q6J("ngModel",n.name),t.xp6(15),t.Q6J("ngModel",n.groups),t.xp6(9),t.Q6J("routerLink",t.DdM(4,Qt)),t.xp6(17),t.Q6J("content",n.operationStatusRest)}}let Dt=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"name",void 0),(0,i.Z)(this,"groups",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"simpleCompanyResult",void 0),this.companyService=n,this.activatedRoute=c,this.router=a}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editCompany(this.companyUniqueId).subscribe(n=>{this.simpleCompanyResult=n,this.name=n.company.name,this.groups=n.companyAccessControl.groups})}saveChanges(){this.companyService.editFormCommitCompany(this.companyUniqueId,this.name,this.groups).subscribe(n=>{n.status===F.o.OK?this.back():this.operationStatusRest=n})}back(){this.router.navigate(["../../companies"],{relativeTo:this.activatedRoute})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz),t.Y36(r.F0))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["company-edit"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],["matInput","matInput",3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(n,c){1&n&&t.YNc(0,Yt,68,5,"ct-cols",0),2&n&&t.Q6J("ngIf",c.simpleCompanyResult)},dependencies:[d.O5,r.rH,f.U,C.n,N.t,M.W,T.i,x.Z,A.t,v.B,q.i,y._,J.R,U.zs,U.lW,Q.Nt,h.KE,h.hX,h.bx,_.Fj,_.JJ,_.On]})),e})();function Ft(e,o){1&e&&t.GkF(0)}function Ot(e,o){if(1&e&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                    "),t.YNc(2,Ft,1,0,"ng-container",18),t._uU(3,"\n                "),t.qZA()),2&e){t.oxw(2);const n=t.MAs(3);t.xp6(2),t.Q6J("ngTemplateOutlet",n)}}function Et(e,o){1&e&&(t.TgZ(0,"ct-section-header-row"),t._uU(1,"\n            "),t.TgZ(2,"ct-alert",19),t._uU(3,"\n                Management of accounts are disabled, assetMode is 'replicated'.\n            "),t.qZA(),t._uU(4,"\n        "),t.qZA())}function $t(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"ID "),t.qZA())}function jt(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.id," ")}}function Pt(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Is enabled "),t.qZA())}function Gt(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.enabled?"Yes":"No"," ")}}function Kt(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Login "),t.qZA())}function Ht(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.username," ")}}function zt(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Public name "),t.qZA())}function Wt(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.publicName," ")}}function Xt(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Roles"),t.qZA())}function Vt(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.roles," ")}}function tn(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Created On "),t.qZA())}function nn(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n                            ",t.xi3(2,1,n.createdOn,"HH:mm:ss, MMM\xa0d,\xa0yyyy")," ")}}function en(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," "),t.qZA())}const on=function(e){return["../","account",e,"edit"]},cn=function(e){return["../","account",e,"edit-roles"]},an=function(e){return["../","account",e,"edit-password"]};function sn(e,o){if(1&e&&(t.TgZ(0,"ct-flex",23),t._uU(1,"\n                                "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                    "),t.TgZ(4,"a",24),t._uU(5," Edit"),t.qZA(),t._uU(6,"\n                                "),t.qZA(),t._uU(7,"\n                                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                                    "),t.TgZ(10,"a",24),t._uU(11,"Roles"),t.qZA(),t._uU(12,"\n                                "),t.qZA(),t._uU(13,"\n                                "),t.TgZ(14,"ct-flex-item"),t._uU(15,"\n                                    "),t.TgZ(16,"a",24),t._uU(17,"\n                                        Change Password"),t.qZA(),t._uU(18,"\n                                "),t.qZA(),t._uU(19,"\n                            "),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(3,on,n.id)),t.xp6(6),t.Q6J("routerLink",t.VKq(5,cn,n.id)),t.xp6(6),t.Q6J("routerLink",t.VKq(7,an,n.id))}}function un(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1,"\n                            "),t.YNc(2,sn,20,9,"ct-flex",22),t._uU(3,"\n                        "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}function _n(e,o){1&e&&(t.TgZ(0,"tr",25),t._uU(1," "),t.qZA())}function ln(e,o){1&e&&(t.TgZ(0,"tr",26),t._uU(1," "),t.qZA())}function pn(e,o){1&e&&t.GkF(0)}function rn(e,o){if(1&e&&(t.TgZ(0,"ct-flex-item"),t._uU(1,"\n                    "),t.YNc(2,pn,1,0,"ng-container",18),t._uU(3,"\n                "),t.qZA()),2&e){t.oxw(2);const n=t.MAs(3);t.xp6(2),t.Q6J("ngTemplateOutlet",n)}}function mn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",2),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Accounts"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n                "),t.YNc(14,Ot,4,1,"ct-flex-item",0),t._uU(15,"\n            "),t.qZA(),t._uU(16,"\n        "),t.qZA(),t._uU(17,"\n        "),t.YNc(18,Et,5,0,"ct-section-header-row",0),t._uU(19,"\n    "),t.qZA(),t._uU(20,"\n    "),t.TgZ(21,"ct-section-body"),t._uU(22,"\n        "),t.TgZ(23,"ct-section-body-row"),t._uU(24,"\n            "),t.TgZ(25,"ct-table",3),t._uU(26,"\n                "),t.TgZ(27,"table",4),t._uU(28,"\n                    "),t.ynx(29,5),t._uU(30,"\n                        "),t.YNc(31,$t,2,0,"th",6),t._uU(32,"\n                        "),t.YNc(33,jt,2,1,"td",7),t._uU(34,"\n                    "),t.BQk(),t._uU(35,"\n                    "),t.ynx(36,8),t._uU(37,"\n                        "),t.YNc(38,Pt,2,0,"th",6),t._uU(39,"\n                        "),t.YNc(40,Gt,2,1,"td",7),t._uU(41,"\n                    "),t.BQk(),t._uU(42,"\n                    "),t.ynx(43,9),t._uU(44,"\n                        "),t.YNc(45,Kt,2,0,"th",6),t._uU(46,"\n                        "),t.YNc(47,Ht,2,1,"td",7),t._uU(48,"\n                    "),t.BQk(),t._uU(49,"\n                    "),t.ynx(50,10),t._uU(51,"\n                        "),t.YNc(52,zt,2,0,"th",6),t._uU(53,"\n                        "),t.YNc(54,Wt,2,1,"td",7),t._uU(55,"\n                    "),t.BQk(),t._uU(56,"\n                    "),t.ynx(57,11),t._uU(58,"\n                        "),t.YNc(59,Xt,2,0,"th",6),t._uU(60,"\n                        "),t.YNc(61,Vt,2,1,"td",7),t._uU(62,"\n                    "),t.BQk(),t._uU(63,"\n                    "),t.ynx(64,12),t._uU(65,"\n                        "),t.YNc(66,tn,2,0,"th",6),t._uU(67,"\n                        "),t.YNc(68,nn,3,4,"td",7),t._uU(69,"\n                    "),t.BQk(),t._uU(70,"\n                    "),t.ynx(71,13),t._uU(72,"\n                        "),t.YNc(73,en,2,0,"th",6),t._uU(74,"\n                        "),t.YNc(75,un,4,1,"td",7),t._uU(76,"\n                    "),t.BQk(),t._uU(77,"\n                    "),t.YNc(78,_n,2,0,"tr",14),t._uU(79,"\n                    "),t.YNc(80,ln,2,0,"tr",15),t._uU(81,"\n                "),t.qZA(),t._uU(82,"\n            "),t.qZA(),t._uU(83,"\n        "),t.qZA(),t._uU(84,"\n    "),t.qZA(),t._uU(85,"\n    "),t.TgZ(86,"ct-section-footer"),t._uU(87,"\n        "),t.TgZ(88,"ct-section-footer-row"),t._uU(89,"\n            "),t.TgZ(90,"ct-flex",2),t._uU(91,"\n                "),t.TgZ(92,"ct-flex-item"),t._uU(93,"\n                    "),t.TgZ(94,"ct-flex",16),t._uU(95,"\n                        "),t.TgZ(96,"ct-table-pagination",17),t.NdJ("prev",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.prevPage())})("next",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.nextPage())}),t.qZA(),t._uU(97,"\n                    "),t.qZA(),t._uU(98,"\n                "),t.qZA(),t._uU(99,"\n                "),t.YNc(100,rn,4,1,"ct-flex-item",0),t._uU(101,"\n            "),t.qZA(),t._uU(102,"\n        "),t.qZA(),t._uU(103,"\n    "),t.qZA(),t._uU(104,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(14),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode)),t.xp6(4),t.Q6J("ngIf",n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode)),t.xp6(7),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(51),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(16),t.Q6J("pageableDefault",n.accountsResult.accounts),t.xp6(4),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}const dn=function(){return["../","account","add"]};function hn(e,o){1&e&&(t._uU(0,"\n    "),t.TgZ(1,"button",27),t._uU(2,"\n        Add New Account\n    "),t.qZA(),t._uU(3,"\n")),2&e&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,dn)))}let Un=(()=>{class e extends O.S{constructor(n,c,a,s){super(s),(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dispatcherAssetModeService",void 0),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"dataSource",new l.by([])),(0,i.Z)(this,"columnsToDisplay",["id","isEnabled","login","publicName","role","createdOn","bts"]),(0,i.Z)(this,"accountsResult",void 0),(0,i.Z)(this,"companyUniqueId",void 0),this.companyService=n,this.activatedRoute=c,this.dispatcherAssetModeService=a,this.authenticationService=s}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable(0)}updateTable(n){this.setIsLoadingStart(),this.companyService.accounts(n.toString(),this.companyUniqueId).subscribe({next:c=>{this.accountsResult=c,this.dataSource=new l.by(this.accountsResult.accounts.content||[])},complete:()=>{this.setIsLoadingEnd()}})}nextPage(){this.updateTable(this.accountsResult.accounts.number+1)}prevPage(){this.updateTable(this.accountsResult.accounts.number-1)}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz),t.Y36(W.F),t.Y36(Z.$h))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["accounts"]],features:[t.qOj],decls:4,vars:1,consts:[[4,"ngIf"],["addButtonTemplate",""],["justify-content","space-between"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isEnabled"],["matColumnDef","login"],["matColumnDef","publicName"],["matColumnDef","role"],["matColumnDef","createdOn"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","prev","next"],[4,"ngTemplateOutlet"],["theme","info"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px",4,"ngIf"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(n,c){1&n&&(t.YNc(0,mn,105,8,"ct-section",0),t._uU(1,"\n\n\n"),t.YNc(2,hn,4,2,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",c.accountsResult)},dependencies:[d.O5,d.tP,r.rH,f.U,C.n,R.V,S.R,j.a,T.i,x.Z,A.t,v.B,q.i,y._,P.C,X.v,U.zs,U.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,d.uU]})),e})();const Zn=function(){return["../companies"]};let gn=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"form",new _.cw({name:new _.NI("",[_.kI.required,_.kI.minLength(1)])})),this.companyService=n,this.router=c,this.activatedRoute=a}createCompany(){this.companyService.addFormCommitCompany(this.form.value.name).subscribe(n=>{n.status===F.o.OK?this.back():this.operationStatusRest=n})}back(){this.router.navigate(["../","companies"],{relativeTo:this.activatedRoute})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.F0),t.Y36(r.gz))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["company-add"]],decls:56,vars:5,consts:[["size","6"],[3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","formControlName","name"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"content"]],template:function(n,c){1&n&&(t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",0),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"New Company"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body",1),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"mat-form-field",2),t._uU(20,"\n                        "),t.TgZ(21,"mat-label"),t._uU(22,"Name of company"),t.qZA(),t._uU(23,"\n                        "),t._UZ(24,"input",3),t._uU(25,"\n                        "),t.TgZ(26,"mat-hint"),t._uU(27,"This is a required field."),t.qZA(),t._uU(28,"\n                    "),t.qZA(),t._uU(29,"\n                    "),t._UZ(30,"br"),t._uU(31,"\n                    "),t.TgZ(32,"ct-flex",4),t._uU(33,"\n                        "),t.TgZ(34,"ct-flex-item"),t._uU(35,"\n                            "),t.TgZ(36,"a",5),t._uU(37,"Cancel"),t.qZA(),t._uU(38,"\n                        "),t.qZA(),t._uU(39,"\n                        "),t.TgZ(40,"ct-flex-item"),t._uU(41,"\n                            "),t.TgZ(42,"button",6),t.NdJ("click",function(){return c.createCompany()}),t._uU(43,"Create\n                                Company"),t.qZA(),t._uU(44,"\n                        "),t.qZA(),t._uU(45,"\n                    "),t.qZA(),t._uU(46,"\n                "),t.qZA(),t._uU(47,"\n            "),t.qZA(),t._uU(48,"\n        "),t.qZA(),t._uU(49,"\n    "),t.qZA(),t._uU(50,"\n    "),t.TgZ(51,"ct-col",0),t._uU(52,"\n        "),t._UZ(53,"ct-rest-status",7),t._uU(54,"\n    "),t.qZA(),t._uU(55,"\n"),t.qZA()),2&n&&(t.xp6(15),t.Q6J("formGroup",c.form),t.xp6(21),t.Q6J("routerLink",t.DdM(4,Zn)),t.xp6(6),t.Q6J("disabled",c.form.invalid),t.xp6(11),t.Q6J("content",c.operationStatusRest))},dependencies:[r.rH,f.U,C.n,N.t,M.W,T.i,x.Z,A.t,v.B,q.i,y._,J.R,U.zs,U.lW,Q.Nt,h.KE,h.hX,h.bx,_.Fj,_.JJ,_.JL,_.sg,_.u]})),e})(),fn=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"accountResult",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"isLoading",void 0),(0,i.Z)(this,"isDone",void 0),(0,i.Z)(this,"form",new _.cw({publicName:new _.NI("",[_.kI.required,_.kI.minLength(3)]),username:new _.NI("",[_.kI.required,_.kI.minLength(3)]),password:new _.NI("",[_.kI.required,_.kI.minLength(3)]),password2:new _.NI("",[_.kI.required,_.kI.minLength(3),s=>{const p=this.form;return p?p.value.password===s.value?null:{notSame:!0}:null}])})),this.activatedRoute=n,this.companyService=c,this.router=a}ngOnInit(){this.isDone=!1,this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.isLoading=!1}back(){this.router.navigate(["../../","accounts"],{relativeTo:this.activatedRoute})}createAccount(){this.isLoading=!0,this.companyService.addFormCommitNewAccount({username:this.form.value.username,password:this.form.value.password,password2:this.form.value.password2,publicName:this.form.value.publicName},this.companyUniqueId).subscribe({next:n=>this.operationStatusRest=n,complete:()=>{this.operationStatusRest.status===F.o.OK&&(this.isDone=!0,this.form.reset()),this.isLoading=!1}})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(r.gz),t.Y36(g),t.Y36(r.F0))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-add"]],decls:108,vars:3,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","username"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["matInput","matInput","type","text","autocomplete","name","formControlName","publicName"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(n,c){1&n&&(t.TgZ(0,"ct-cols",0),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"New Account"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"form",2),t._uU(20,"\n                        "),t.TgZ(21,"mat-form-field",3),t._uU(22,"\n                            "),t.TgZ(23,"mat-label"),t._uU(24,"Name"),t.qZA(),t._uU(25,"\n                            "),t._UZ(26,"input",4),t._uU(27,"\n                            "),t.TgZ(28,"mat-hint"),t._uU(29,"This is a required field."),t.qZA(),t._uU(30,"\n                        "),t.qZA(),t._uU(31,"\n                        "),t._UZ(32,"br"),t._uU(33,"\n                        "),t._UZ(34,"br"),t._uU(35,"\n                        "),t.TgZ(36,"mat-form-field",3),t._uU(37,"\n                            "),t.TgZ(38,"mat-label"),t._uU(39,"Password"),t.qZA(),t._uU(40,"\n                            "),t._UZ(41,"input",5),t._uU(42,"\n                            "),t.TgZ(43,"mat-hint"),t._uU(44,"This is a required field."),t.qZA(),t._uU(45,"\n                        "),t.qZA(),t._uU(46,"\n                        "),t._UZ(47,"br"),t._uU(48,"\n                        "),t._UZ(49,"br"),t._uU(50,"\n                        "),t.TgZ(51,"mat-form-field",3),t._uU(52,"\n                            "),t.TgZ(53,"mat-label"),t._uU(54,"Password again"),t.qZA(),t._uU(55,"\n                            "),t._UZ(56,"input",6),t._uU(57,"\n                            "),t.TgZ(58,"mat-hint"),t._uU(59,"This is a required field."),t.qZA(),t._uU(60,"\n                        "),t.qZA(),t._uU(61,"\n                        "),t._UZ(62,"br"),t._uU(63,"\n                        "),t._UZ(64,"br"),t._uU(65,"\n                        "),t.TgZ(66,"mat-form-field",3),t._uU(67,"\n                            "),t.TgZ(68,"mat-label"),t._uU(69,"Public Name"),t.qZA(),t._uU(70,"\n                            "),t._UZ(71,"input",7),t._uU(72,"\n                            "),t.TgZ(73,"mat-hint"),t._uU(74,"This is a required field."),t.qZA(),t._uU(75,"\n                        "),t.qZA(),t._uU(76,"\n                    "),t.qZA(),t._uU(77,"\n                "),t.qZA(),t._uU(78,"\n            "),t.qZA(),t._uU(79,"\n            "),t.TgZ(80,"ct-section-footer"),t._uU(81,"\n                "),t.TgZ(82,"ct-section-footer-row"),t._uU(83,"\n                    "),t.TgZ(84,"ct-flex",8),t._uU(85,"\n                        "),t.TgZ(86,"ct-flex-item"),t._uU(87,"\n                            "),t.TgZ(88,"button",9),t.NdJ("click",function(){return c.back()}),t._uU(89,"Cancel"),t.qZA(),t._uU(90,"\n                        "),t.qZA(),t._uU(91,"\n                        "),t.TgZ(92,"ct-flex-item"),t._uU(93,"\n                            "),t.TgZ(94,"button",10),t.NdJ("click",function(){return c.createAccount()}),t._uU(95,"Create Account"),t.qZA(),t._uU(96,"\n                        "),t.qZA(),t._uU(97,"\n                    "),t.qZA(),t._uU(98,"\n                "),t.qZA(),t._uU(99,"\n            "),t.qZA(),t._uU(100,"\n        "),t.qZA(),t._uU(101,"\n    "),t.qZA(),t._uU(102,"\n    "),t.TgZ(103,"ct-col",1),t._uU(104,"\n        "),t._UZ(105,"ct-rest-status",11),t._uU(106,"\n    "),t.qZA(),t._uU(107,"\n"),t.qZA()),2&n&&(t.xp6(19),t.Q6J("formGroup",c.form),t.xp6(75),t.Q6J("disabled",c.isDone||c.isLoading||c.form.invalid),t.xp6(11),t.Q6J("content",c.operationStatusRest))},dependencies:[f.U,C.n,R.V,S.R,N.t,M.W,T.i,x.Z,A.t,v.B,q.i,y._,J.R,U.lW,Q.Nt,h.KE,h.hX,h.bx,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u]})),e})();var G=u(6709);function Cn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-cols",1),t._uU(1,"\n    "),t.TgZ(2,"ct-col",2),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"mat-form-field",3),t._uU(20,"\n                        "),t.TgZ(21,"mat-label"),t._uU(22,"Username"),t.qZA(),t._uU(23,"\n                        "),t._UZ(24,"input",4),t._uU(25,"\n                    "),t.qZA(),t._uU(26,"\n                    "),t.TgZ(27,"mat-form-field",5),t._uU(28,"\n                        "),t.TgZ(29,"mat-label"),t._uU(30,"Public Name"),t.qZA(),t._uU(31,"\n                        "),t.TgZ(32,"input",6),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.publicName=a)}),t.qZA(),t._uU(33,"\n                    "),t.qZA(),t._uU(34,"\n                    "),t._UZ(35,"br"),t._uU(36,"\n                    "),t.TgZ(37,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isEnabled=a)}),t._uU(38,"Is account enabled?"),t.qZA(),t._uU(39,"\n                "),t.qZA(),t._uU(40,"\n            "),t.qZA(),t._uU(41,"\n            "),t.TgZ(42,"ct-section-footer"),t._uU(43,"\n                "),t.TgZ(44,"ct-section-footer-row"),t._uU(45,"\n                    "),t.TgZ(46,"ct-flex",8),t._uU(47,"\n                        "),t.TgZ(48,"ct-flex-item"),t._uU(49,"\n                            "),t.TgZ(50,"button",9),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.back())}),t._uU(51,"Cancel"),t.qZA(),t._uU(52,"\n                        "),t.qZA(),t._uU(53,"\n                        "),t.TgZ(54,"ct-flex-item"),t._uU(55,"\n                            "),t.TgZ(56,"button",10),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.saveChanges())}),t._uU(57,"Save Changes"),t.qZA(),t._uU(58,"\n                        "),t.qZA(),t._uU(59,"\n                    "),t.qZA(),t._uU(60,"\n                "),t.qZA(),t._uU(61,"\n            "),t.qZA(),t._uU(62,"\n        "),t.qZA(),t._uU(63,"\n    "),t.qZA(),t._uU(64,"\n    "),t.TgZ(65,"ct-col",2),t._uU(66,"\n        "),t._UZ(67,"ct-rest-status",11),t._uU(68,"\n    "),t.qZA(),t._uU(69,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.hij("Edit Account #",n.accountId," "),t.xp6(13),t.Q6J("value",n.accountResult.account.username),t.xp6(8),t.Q6J("ngModel",n.publicName),t.xp6(5),t.Q6J("ngModel",n.isEnabled)}}let Tn=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"accountId",void 0),(0,i.Z)(this,"accountResult",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"isEnabled",void 0),(0,i.Z)(this,"publicName",void 0),(0,i.Z)(this,"username",void 0),this.companyService=n,this.activatedRoute=c,this.router=a}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyService.edit(this.companyUniqueId,this.accountId).subscribe(n=>{this.accountResult=n,this.username=n.account.username,this.publicName=n.account.publicName,this.isEnabled=n.account.enabled})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.companyService.editFormCommit(this.accountId,this.publicName,this.isEnabled,this.companyUniqueId).subscribe(n=>{n.status===F.o.OK?this.back():this.operationStatusRest=n})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz),t.Y36(r.F0))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-edit"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["appearance","outline","disabled","",2,"width","100%"],["matInput","","disabled","",3,"value"],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(n,c){1&n&&t.YNc(0,Cn,70,4,"ct-cols",0),2&n&&t.Q6J("ngIf",c.accountResult)},dependencies:[d.O5,f.U,C.n,R.V,S.R,N.t,M.W,T.i,x.Z,A.t,v.B,q.i,y._,J.R,U.lW,G.oG,Q.Nt,h.KE,h.hX,_.Fj,_.JJ,_.On]})),e})();function xn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-cols",1),t._uU(1,"\n    "),t.TgZ(2,"ct-col",2),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Edit Account "),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"form",3),t._uU(20,"\n                        "),t.TgZ(21,"mat-form-field",4),t._uU(22,"\n                            "),t.TgZ(23,"mat-label"),t._uU(24,"Password"),t.qZA(),t._uU(25,"\n                            "),t._UZ(26,"input",5),t._uU(27,"\n                            "),t.TgZ(28,"mat-hint"),t._uU(29,"This is a required field."),t.qZA(),t._uU(30,"\n                        "),t.qZA(),t._uU(31,"\n                        "),t._UZ(32,"br"),t._uU(33,"\n                        "),t._UZ(34,"br"),t._uU(35,"\n                        "),t.TgZ(36,"mat-form-field",4),t._uU(37,"\n                            "),t.TgZ(38,"mat-label"),t._uU(39,"Password again"),t.qZA(),t._uU(40,"\n                            "),t._UZ(41,"input",6),t._uU(42,"\n                            "),t.TgZ(43,"mat-hint"),t._uU(44,"This is a required field."),t.qZA(),t._uU(45,"\n                        "),t.qZA(),t._uU(46,"\n                    "),t.qZA(),t._uU(47,"\n                "),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n            "),t.TgZ(50,"ct-section-footer"),t._uU(51,"\n                "),t.TgZ(52,"ct-section-footer-row"),t._uU(53,"\n                    "),t.TgZ(54,"ct-flex",7),t._uU(55,"\n                        "),t.TgZ(56,"ct-flex-item"),t._uU(57,"\n                            "),t.TgZ(58,"button",8),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.back())}),t._uU(59,"Cancel"),t.qZA(),t._uU(60,"\n                        "),t.qZA(),t._uU(61,"\n                        "),t.TgZ(62,"ct-flex-item"),t._uU(63,"\n                            "),t.TgZ(64,"button",9),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.saveChanges())}),t._uU(65,"Save"),t.qZA(),t._uU(66,"\n                        "),t.qZA(),t._uU(67,"\n                    "),t.qZA(),t._uU(68,"\n                "),t.qZA(),t._uU(69,"\n            "),t.qZA(),t._uU(70,"\n        "),t.qZA(),t._uU(71,"\n    "),t.qZA(),t._uU(72,"\n    "),t.TgZ(73,"ct-col",2),t._uU(74,"\n        "),t._UZ(75,"ct-rest-status",10),t._uU(76,"\n    "),t.qZA(),t._uU(77,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(19),t.Q6J("formGroup",n.form),t.xp6(45),t.Q6J("disabled",n.isLoading),t.xp6(11),t.Q6J("content",n.operationStatusRest)}}let An=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"accountResult",void 0),(0,i.Z)(this,"accoundId",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"form",new _.cw({password:new _.NI("",[_.kI.required,_.kI.minLength(3)]),password2:new _.NI("",[_.kI.required,_.kI.minLength(3),s=>{const p=this.form;return p?p.value.password===s.value?null:{notSame:!0}:null}])})),(0,i.Z)(this,"isLoading",void 0),this.activatedRoute=n,this.companyService=c,this.router=a}ngOnInit(){this.isLoading=!0,this.accoundId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.passwordEdit(this.accoundId,this.companyUniqueId).subscribe({next:n=>this.accountResult=n,complete:()=>this.isLoading=!1})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.isLoading=!0,this.companyService.passwordEditFormCommit(this.accoundId,this.form.value.password,this.form.value.password2,this.companyUniqueId).subscribe({next:n=>this.operationStatusRest=n,complete:()=>this.isLoading=!1})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(r.gz),t.Y36(g),t.Y36(r.F0))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-edit-password"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(n,c){1&n&&t.YNc(0,xn,78,3,"ct-cols",0),2&n&&t.Q6J("ngIf",c.accountResult)},dependencies:[d.O5,f.U,C.n,R.V,S.R,N.t,M.W,T.i,x.Z,A.t,v.B,q.i,y._,J.R,U.lW,Q.Nt,h.KE,h.hX,h.bx,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u]})),e})();function yn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",4),t._uU(1,"\n                        "),t.TgZ(2,"mat-checkbox",5),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.value=a)})("change",function(){const s=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.save(s))}),t._uU(3),t.qZA(),t._uU(4,"\n                    "),t.qZA()}if(2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(2),t.Q6J("ngModel",n.value)("disabled",c.isLoading),t.xp6(1),t.hij("",n.key,"\n                        ")}}function bn(e,o){if(1&e&&(t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.YNc(19,yn,5,3,"div",2),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n    "),t.TgZ(26,"ct-col",1),t._uU(27,"\n        "),t._UZ(28,"ct-rest-status",3),t._uU(29,"\n    "),t.qZA(),t._uU(30,"\n"),t.qZA()),2&e){const n=t.oxw();t.xp6(11),t.hij("\n                        Edit Account #",n.accountId," Roles\n                    "),t.xp6(8),t.Q6J("ngForOf",t.lcZ(20,3,n.roleModel)),t.xp6(9),t.Q6J("content",n.operationStatusRest)}}let vn=(()=>{class e{constructor(n,c){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"accountId",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"accountWithRoleResult",void 0),(0,i.Z)(this,"operationStatusRest",void 0),(0,i.Z)(this,"roleModel",new Map),(0,i.Z)(this,"isLoading",void 0),this.companyService=n,this.activatedRoute=c}ngOnInit(){this.isLoading=!0,this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editRoles(this.accountId,this.companyUniqueId).subscribe(n=>{this.accountWithRoleResult=n,this.accountWithRoleResult.possibleRoles.forEach(c=>this.roleModel.set(c,!1)),this.accountWithRoleResult.account.authorities.forEach(c=>{this.roleModel.has(c.authority)&&this.roleModel.set(c.authority,!0)}),this.isLoading=!1})}save(n){this.isLoading=!0,this.companyService.rolesEditFormCommit(this.accountId,n.key,n.value,this.companyUniqueId).subscribe(c=>{this.operationStatusRest=c,this.isLoading=!1})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-edit-roles"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["style","margin: 0.5em 0",4,"ngFor","ngForOf"],[3,"content"],[2,"margin","0.5em 0"],[3,"ngModel","disabled","ngModelChange","change"]],template:function(n,c){1&n&&t.YNc(0,bn,31,5,"ct-cols",0),2&n&&t.Q6J("ngIf",c.accountWithRoleResult)},dependencies:[d.sg,d.O5,f.U,C.n,N.t,M.W,T.i,x.Z,A.t,y._,J.R,G.oG,_.JJ,_.On,d.Nd]})),e})();var qn=u(4853);function wn(e,o){if(1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n    "),t.qZA(),t._uU(10,"\n    "),t.TgZ(11,"ct-section-body"),t._uU(12,"\n        "),t.TgZ(13,"ct-section-body-row"),t._uU(14,"\n            "),t.TgZ(15,"ct-pre"),t._uU(16),t.qZA(),t._uU(17,"\n        "),t.qZA(),t._uU(18,"\n    "),t.qZA(),t._uU(19,"\n"),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("Batch #",null==n.batchDataStatus?null:n.batchDataStatus.batchId,""),t.xp6(9),t.Oqu(null==n.batchDataStatus?null:n.batchDataStatus.console)}}let In=(()=>{class e{constructor(n,c){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"isLoading",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"batchId",void 0),(0,i.Z)(this,"batchDataStatus",void 0),this.companyService=n,this.activatedRoute=c}ngOnInit(){this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyService.getBatchStatus(this.companyUniqueId,this.batchId).subscribe({next:n=>this.batchDataStatus=n,error:()=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["company-batch-status"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,c){1&n&&t.YNc(0,wn,20,2,"ct-section",0),2&n&&t.Q6J("ngIf",!c.isLoading)},dependencies:[d.O5,qn.Q,f.U,C.n,T.i,x.Z,A.t,y._]})),e})();var Rn=u(1099),Sn=u(2587),Nn=u(3238),Mn=u(4385);const Jn=["fileUpload"];function kn(e,o){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n                                "),t.TgZ(2,"mat-option",11),t._uU(3),t.qZA(),t._uU(4,"\n                            "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("value",n),t.xp6(1),t.Oqu(n.uid)}}function Bn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n                "),t.qZA(),t._uU(14,"\n            "),t.qZA(),t._uU(15,"\n            "),t.TgZ(16,"ct-section-body"),t._uU(17,"\n                "),t.TgZ(18,"ct-section-body-row"),t._uU(19,"\n                    "),t.TgZ(20,"mat-form-field",2),t._uU(21,"\n                        "),t.TgZ(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25,"\n                        "),t.TgZ(26,"mat-select",3),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.sourceCode=a)}),t._uU(27,"\n                            "),t.YNc(28,kn,5,2,"div",4),t._uU(29,"\n                        "),t.qZA(),t._uU(30,"\n                        "),t.TgZ(31,"mat-hint"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n\n                    "),t._UZ(36,"br"),t._uU(37,"\n                    "),t._UZ(38,"br"),t._uU(39,"\n\n                    "),t.TgZ(40,"div"),t._uU(41,"\n                        "),t.TgZ(42,"ct-file-upload",5,6),t.NdJ("changed",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.fileUploadChanged())}),t.ALo(44,"translate"),t._uU(45,"\n                        "),t.qZA(),t._uU(46,"\n                        "),t.TgZ(47,"ct-hint"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t._uU(50,"\n                        "),t.TgZ(51,"ct-hint"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t._uU(54,"\n                    "),t.qZA(),t._uU(55,"\n                "),t.qZA(),t._uU(56,"\n            "),t.qZA(),t._uU(57,"\n            "),t.TgZ(58,"ct-section-footer"),t._uU(59,"\n                "),t.TgZ(60,"ct-section-footer-row"),t._uU(61,"\n                    "),t.TgZ(62,"ct-flex",7),t._uU(63,"\n                        "),t.TgZ(64,"ct-flex-item"),t._uU(65,"\n                            "),t.TgZ(66,"button",8),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.back())}),t._uU(67),t.ALo(68,"translate"),t.qZA(),t._uU(69,"\n                        "),t.qZA(),t._uU(70,"\n                        "),t.TgZ(71,"ct-flex-item"),t._uU(72,"\n                            "),t.TgZ(73,"button",9),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.upload())}),t._uU(74),t.ALo(75,"translate"),t.qZA(),t._uU(76,"\n                        "),t.qZA(),t._uU(77,"\n                    "),t.qZA(),t._uU(78,"\n                "),t.qZA(),t._uU(79,"\n            "),t.qZA(),t._uU(80,"\n        "),t.qZA(),t._uU(81,"\n    "),t.qZA(),t._uU(82,"\n    "),t.TgZ(83,"ct-col",1),t._uU(84,"\n        "),t._UZ(85,"ct-rest-status",10),t._uU(86,"\n    "),t.qZA(),t._uU(87,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.Oqu(t.lcZ(12,12,"batch-add.Upload file for processing")),t.xp6(12),t.hij(" ",t.lcZ(24,14,"batch-add.List of Source Codes"),""),t.xp6(3),t.Q6J("ngModel",n.sourceCode),t.xp6(2),t.Q6J("ngForOf",n.sourceCodesForCompany.items),t.xp6(4),t.Oqu(t.lcZ(33,16,"batch-add.This is a required field.")),t.xp6(10),t.s9C("buttonTitle",t.lcZ(44,18,"batch-add.Select File")),t.xp6(6),t.Oqu(t.lcZ(49,20,"batch-add.This is a required field.")),t.xp6(4),t.Oqu(t.lcZ(53,22,"batch-add.Only .xml and .zip files are supported")),t.xp6(15),t.hij("\n                                ",t.lcZ(68,24,"batch-add.Cancel"),""),t.xp6(6),t.Q6J("disabled",!n.sourceCode||!n.file),t.xp6(1),t.hij(" ",t.lcZ(75,26,"batch-add.Upload-File-button"),""),t.xp6(11),t.Q6J("content",n.batchDataUploadingStatus)}}let Ln=(()=>{class e{constructor(n,c,a){(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"fileUpload",void 0),(0,i.Z)(this,"batchId",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"sourceCodesForCompany",void 0),(0,i.Z)(this,"sourceCode",void 0),(0,i.Z)(this,"file",void 0),(0,i.Z)(this,"batchDataUploadingStatus",void 0),this.companyService=n,this.activatedRoute=c,this.router=a}ngOnInit(){this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.sourceCodesForCompany(this.companyUniqueId).subscribe(n=>{this.sourceCodesForCompany=n})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}upload(){this.companyService.uploadFile(this.companyUniqueId,this.sourceCode.id.toString(),this.file).subscribe(n=>{this.batchDataUploadingStatus=n})}back(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g),t.Y36(r.gz),t.Y36(r.F0))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["company-batch-upload"]],viewQuery:function(n,c){if(1&n&&t.Gf(Jn,5),2&n){let a;t.iGM(a=t.CRH())&&(c.fileUpload=a.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(n,c){1&n&&t.YNc(0,Bn,88,28,"ct-cols",0),2&n&&t.Q6J("ngIf",c.sourceCodesForCompany)},dependencies:[d.sg,d.O5,f.U,C.n,R.V,S.R,N.t,M.W,Rn.E,T.i,x.Z,A.t,v.B,q.i,y._,Sn.C,J.R,Nn.ey,U.lW,h.KE,h.hX,h.bx,Mn.gD,_.JJ,_.On,D.X$]})),e})();var B=u(7520),V=u(9272),K=u(5986),Qn=u(5017),Yn=u(7318),Dn=u(5938),Fn=u(7392),tt=function(e,o,n,c){var p,a=arguments.length,s=a<3?o:null===c?c=Object.getOwnPropertyDescriptor(o,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,n,c);else for(var w=e.length-1;w>=0;w--)(p=e[w])&&(s=(a<3?p(s):a>3?p(o,n,s):p(o,n))||s);return a>3&&s&&Object.defineProperty(o,n,s),s},L=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)};function On(e,o){1&e&&t.GkF(0)}function En(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",20),t._uU(1,"\n                            "),t.TgZ(2,"mat-checkbox",21),t.NdJ("change",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.masterToggle())}),t._uU(3,"\n                                "),t._UZ(4,"div",22),t._uU(5,"\n                            "),t.qZA(),t._uU(6,"\n                        "),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function $n(e,o){if(1&e){const n=t.EpF();t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"mat-checkbox",24),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(){t.CHM(n);const a=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.selection.toggle(a))}),t._uU(3,"\n                                    "),t._UZ(4,"div",22),t._uU(5,"\n                                "),t.qZA(),t._uU(6,"\n                            "),t.BQk()}if(2&e){const n=t.oxw().$implicit,c=t.oxw(2);t.xp6(2),t.Q6J("checked",c.selection.isSelected(n))}}function jn(e,o){1&e&&(t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"mat-checkbox",25),t._uU(3,"\n                                    "),t._UZ(4,"div",22),t._uU(5,"\n                                "),t.qZA(),t._uU(6,"\n                            "),t.BQk())}function Pn(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1,"\n                            "),t.YNc(2,$n,7,1,"ng-container",0),t._uU(3,"\n                   \n                            "),t.YNc(4,jn,7,0,"ng-container",0),t._uU(5,"\n                   \n                        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngIf",n.batch.deleted),t.xp6(2),t.Q6J("ngIf",!n.batch.deleted)}}function Gn(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"ID"),t.qZA())}function Kn(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.batch.id," ")}}function Hn(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Created on "),t.qZA())}function zn(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n                            ",t.xi3(2,1,n.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Wn(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Is batch consistent?"),t.qZA())}function Xn(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"batch.isBatchConsistent.true")))}function Vn(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"batch.isBatchConsistent.false")))}function te(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1," "),t.YNc(2,Xn,3,3,"span",0),t.YNc(3,Vn,3,3,"span",0),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngIf",n.ok),t.xp6(1),t.Q6J("ngIf",!n.ok)}}function ne(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Is deleted? "),t.qZA())}function ee(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.batch.deleted," ")}}function oe(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"\n                            "),t.TgZ(2,"div",26),t._uU(3,"Source Code"),t.qZA(),t._uU(4,"\n                            "),t.TgZ(5,"div",26),t._uU(6,"File Name"),t.qZA(),t._uU(7,"\n                        "),t.qZA())}function ce(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1,"\n                            "),t.TgZ(2,"div",26),t._uU(3),t.qZA(),t._uU(4,"\n                            "),t.TgZ(5,"div",26),t._uU(6),t.qZA(),t._uU(7,"\n                        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(3),t.Oqu(n.sourceCodeUid),t.xp6(3),t.Oqu(n.uploadedFileName)}}function ie(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Exec State"),t.qZA())}function ae(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Error"),t.qZA())}function se(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Preparing"),t.qZA())}function ue(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Processing"),t.qZA())}function _e(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Finished"),t.qZA())}function le(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1,"\n                            "),t.YNc(2,ae,2,0,"span",0),t._uU(3,"\n                            "),t.YNc(4,se,2,0,"span",0),t._uU(5,"\n                            "),t.YNc(6,ue,2,0,"span",0),t._uU(7,"\n                            "),t.YNc(8,_e,2,0,"span",0),t._uU(9,"\n                        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngIf",-1===n.execState),t.xp6(2),t.Q6J("ngIf",2===n.execState),t.xp6(2),t.Q6J("ngIf",3===n.execState),t.xp6(2),t.Q6J("ngIf",4===n.execState)}}function pe(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," "),t.qZA())}function re(e,o){if(1&e){const n=t.EpF();t.ynx(0),t._uU(1,"\n                                    "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                        "),t.TgZ(4,"button",31),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.deleteOne(a))}),t._uU(5,"\n                                            "),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t._uU(8,"\n                                        "),t.qZA(),t._uU(9,"\n                                    "),t.qZA(),t._uU(10,"\n                                "),t.BQk()}if(2&e){const n=t.oxw().$implicit,c=t.oxw(2);t.xp6(4),t.Q6J("disabled",!(n.batch.deleted&&c.isFinished(n)))}}const me=function(e){return["../","batch",e]};function de(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",23),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex",27),t._uU(3,"\n                                "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                                    "),t.TgZ(6,"button",28),t._uU(7,"Status"),t.qZA(),t._uU(8,"\n                                "),t.qZA(),t._uU(9,"\n                                "),t.TgZ(10,"ct-flex-item"),t._uU(11,"\n                                    "),t.TgZ(12,"button",29),t.NdJ("click",function(){const s=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.downloadResult(s))}),t._uU(13,"\n                                        Result\n                                    "),t.qZA(),t._uU(14,"\n                                "),t.qZA(),t._uU(15,"\n                                "),t.TgZ(16,"ct-flex-item"),t._uU(17,"\n                                    "),t.TgZ(18,"button",30),t.NdJ("click",function(){const s=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.downloadOriginFile(s))}),t._uU(19,"\n                                        Origin File\n                                    "),t.qZA(),t._uU(20,"\n                                "),t.qZA(),t._uU(21,"\n                                "),t.YNc(22,re,11,1,"ng-container",0),t._uU(23,"\n                   \n                            "),t.qZA(),t._uU(24,"\n                        "),t.qZA()}if(2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(6),t.Q6J("routerLink",t.VKq(4,me,n.batch.id))("disabled",!c.isFinished(n)||c.isExecContextDeleted(n)),t.xp6(6),t.Q6J("disabled",!c.isFinished(n)||c.isExecContextDeleted(n)),t.xp6(10),t.Q6J("ngIf",c.isRole.MasterOperator)}}function he(e,o){1&e&&t._UZ(0,"tr",32)}function Ue(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const s=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.checkAndToggleRowSeletion(s))}),t.qZA()}if(2&e){const n=o.$implicit,c=t.oxw(2);t.ekj("selected-color",c.downloadSelector.isSelected(n))}}function Ze(e,o){if(1&e){const n=t.EpF();t.ynx(0),t._uU(1,"\n            "),t.TgZ(2,"ct-section-footer-row"),t._uU(3,"\n                "),t.TgZ(4,"button",34),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.deleteMany())}),t._uU(5,"\n                    Delete Checked\n                "),t.qZA(),t._uU(6,"\n            "),t.qZA(),t._uU(7,"\n        "),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("disabled",n.isLoading||0===n.selection.selected.length)}}function ge(e,o){1&e&&t.GkF(0)}function fe(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                        "),t.YNc(4,ge,1,0,"ng-container",4),t._uU(5,"\n                    "),t.qZA(),t._uU(6,"\n                "),t.BQk()),2&e){t.oxw(2);const n=t.MAs(3);t.xp6(4),t.Q6J("ngTemplateOutlet",n)}}function Ce(e,o){1&e&&t.GkF(0)}function Te(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",3),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11," Batch "),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n                "),t.TgZ(14,"ct-flex-item"),t._uU(15,"\n                    "),t.YNc(16,On,1,0,"ng-container",4),t._uU(17,"\n                "),t.qZA(),t._uU(18,"\n            "),t.qZA(),t._uU(19,"\n        "),t.qZA(),t._uU(20,"\n    "),t.qZA(),t._uU(21,"\n    "),t.TgZ(22,"ct-section-body"),t._uU(23,"\n        "),t.TgZ(24,"ct-section-body-row"),t._uU(25,"\n            "),t.TgZ(26,"ct-table",5),t._uU(27,"\n                "),t.TgZ(28,"table",6),t._uU(29,"\n                    "),t.ynx(30,7),t._uU(31,"\n                        "),t.YNc(32,En,7,2,"th",8),t._uU(33,"\n                        "),t.YNc(34,Pn,6,2,"td",9),t._uU(35,"\n                    "),t.BQk(),t._uU(36,"\n                   \n                    "),t.ynx(37,10),t._uU(38,"\n                        "),t.YNc(39,Gn,2,0,"th",8),t._uU(40,"\n                        "),t.YNc(41,Kn,2,1,"td",9),t._uU(42,"\n                    "),t.BQk(),t._uU(43,"\n                   \n                    "),t.ynx(44,11),t._uU(45,"\n                        "),t.YNc(46,Hn,2,0,"th",8),t._uU(47,"\n                        "),t.YNc(48,zn,3,4,"td",9),t._uU(49,"\n                    "),t.BQk(),t._uU(50,"\n                   \n                    "),t.ynx(51,12),t._uU(52,"\n                        "),t.YNc(53,Wn,2,0,"th",8),t._uU(54,"\n                        "),t.YNc(55,te,4,2,"td",9),t._uU(56,"\n                    "),t.BQk(),t._uU(57,"\n                   \n                    "),t.ynx(58,13),t._uU(59,"\n                        "),t.YNc(60,ne,2,0,"th",8),t._uU(61,"\n                        "),t.YNc(62,ee,2,1,"td",9),t._uU(63,"\n                    "),t.BQk(),t._uU(64,"\n                   \n                    "),t.ynx(65,14),t._uU(66,"\n                        "),t.YNc(67,oe,8,0,"th",8),t._uU(68,"\n                        "),t.YNc(69,ce,8,2,"td",9),t._uU(70,"\n                    "),t.BQk(),t._uU(71,"\n                   \n                    "),t.ynx(72,15),t._uU(73,"\n                        "),t.YNc(74,ie,2,0,"th",8),t._uU(75,"\n                        "),t.YNc(76,le,10,4,"td",9),t._uU(77,"\n                    "),t.BQk(),t._uU(78,"\n                   \n                    "),t.ynx(79,16),t._uU(80,"\n                        "),t.YNc(81,pe,2,0,"th",8),t._uU(82,"\n                        "),t.YNc(83,de,25,6,"td",9),t._uU(84,"\n                    "),t.BQk(),t._uU(85,"\n                   \n                    "),t.YNc(86,he,1,0,"tr",17),t._uU(87,"\n                    "),t.YNc(88,Ue,1,2,"tr",18),t._uU(89,"\n                "),t.qZA(),t._uU(90,"\n            "),t.qZA(),t._uU(91,"\n        "),t.qZA(),t._uU(92,"\n    "),t.qZA(),t._uU(93,"\n    "),t.TgZ(94,"ct-section-footer"),t._uU(95,"\n        "),t.YNc(96,Ze,8,1,"ng-container",0),t._uU(97,"\n        "),t.TgZ(98,"ct-section-footer-row"),t._uU(99,"\n            "),t.TgZ(100,"ct-flex",3),t._uU(101,"\n                "),t.TgZ(102,"ct-flex-item"),t._uU(103,"\n                    "),t.TgZ(104,"ct-table-pagination",19),t.NdJ("prev",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.prevPage())})("next",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.nextPage())}),t.qZA(),t._uU(105,"\n                "),t.qZA(),t._uU(106,"\n\n                "),t.YNc(107,fe,7,1,"ng-container",0),t._uU(108,"\n\n                "),t.TgZ(109,"ct-flex-item"),t._uU(110,"\n                    "),t.YNc(111,Ce,1,0,"ng-container",4),t._uU(112,"\n                "),t.qZA(),t._uU(113,"\n            "),t.qZA(),t._uU(114,"\n        "),t.qZA(),t._uU(115,"\n    "),t.qZA(),t._uU(116,"\n"),t.qZA()}if(2&e){const n=t.oxw(),c=t.MAs(6);t.xp6(16),t.Q6J("ngTemplateOutlet",c),t.xp6(10),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(58),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(8),t.Q6J("ngIf",n.isRole.MasterOperator),t.xp6(8),t.Q6J("pageableDefault",n.batchesResult.batches),t.xp6(3),t.Q6J("ngIf",n.downloadSelector.size>0),t.xp6(4),t.Q6J("ngTemplateOutlet",c)}}function xe(e,o){if(1&e){const n=t.EpF();t._uU(0,"\n    "),t.TgZ(1,"ct-flex",35),t._uU(2,"\n        "),t.TgZ(3,"ct-flex-item"),t._uU(4,"\n            "),t.TgZ(5,"div",36),t._uU(6),t.qZA(),t._uU(7,"\n        "),t.qZA(),t._uU(8,"\n        "),t.TgZ(9,"ct-flex-item"),t._uU(10,"\n            "),t.TgZ(11,"button",37),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.downloadResults())}),t._uU(12,"\n                Download\n            "),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n        "),t.TgZ(15,"ct-flex-item"),t._uU(16,"\n            "),t.TgZ(17,"button",37),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.downloadSelector.clear())}),t._uU(18,"\n                Discard\n            "),t.qZA(),t._uU(19,"\n        "),t.qZA(),t._uU(20,"\n    "),t.qZA(),t._uU(21,"\n")}if(2&e){const n=t.oxw();t.xp6(6),t.hij("\n                Selected \xd7 ",n.downloadSelector.size,"\n            "),t.xp6(5),t.Q6J("disabled",n.isLoading),t.xp6(6),t.Q6J("disabled",n.isLoading)}}const Ae=function(){return["upload"]};function ye(e,o){1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"button",38),t._uU(3,"Upload files and start\n            processing"),t.qZA(),t._uU(4,"\n    "),t.BQk()),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,Ae)))}function be(e,o){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,ye,5,2,"ng-container",0),t._uU(2,"\n")),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.isRole.MasterOperator)}}class k extends O.S{constructor(o,n,c,a,s){super(o),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"companyService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"companyUniqueId",void 0),(0,i.Z)(this,"batchesResult",void 0),(0,i.Z)(this,"batches",void 0),(0,i.Z)(this,"dataSource",new l.by([])),(0,i.Z)(this,"selection",new Qn.Ov(!0,[])),(0,i.Z)(this,"downloadSelector",new Yn.Z),this.authenticationService=o,this.companyService=n,this.activatedRoute=c,this.dialog=a,this.translate=s}checkAndToggleRowSeletion(o){this.isFinished(o)&&!this.isExecContextDeleted(o)&&this.downloadSelector.toggle(o)}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable("0")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.filter(o=>o.batch.deleted).length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.filter(o=>o.batch.deleted).forEach(o=>this.selection.select(o))}get columnsToDisplay(){return this.isRole.MasterOperator?["check","id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]:["id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]}updateTable(o){this.isLoading=!0,this.companyService.batches(o,this.companyUniqueId).subscribe({next:n=>{this.batchesResult=n,this.batches=this.batchesResult.batches.content,this.dataSource=new l.by(this.batches),this.selection.clear()},complete:()=>this.isLoading=!1})}isFinished(o){return o.batch.execState===K.h.Finished||o.batch.execState===K.h.Error||o.batch.execState===K.h.Archived}isExecContextDeleted(o){return o.execContextDeleted}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString())}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString())}deleteOne(o){this.isLoading=!0,this.companyService.processBatchDeleteCommit(this.companyUniqueId,o.batch.id.toString()).subscribe({complete:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}deleteMany(){this.isLoading=!0,this.companyService.processBatchesBulkDeleteCommit(this.companyUniqueId,this.selection.selected.map(o=>o.batch.id).toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}downloadResult(o){this.companyService.downloadProcessingResult(this.companyUniqueId,o.batch.id.toString()).subscribe(n=>{let c=n.headers.get("Content-Disposition");const a=c.replace("filename*=UTF-8''","")||"result.zip";console.log("company-batch-list.contentDisposition: "+c),console.log("company-batch-list.tryname: "+a);const s=decodeURI(a);console.log("company-batch-list.decodedName: "+s),$.saveAs(n.body,s)})}downloadOriginFile(o){this.companyService.downloadOriginFile(this.companyUniqueId,o.batch.id.toString(),o.uploadedFileName).subscribe(n=>{const c=n.headers.get("Content-Disposition").replace("filename*=UTF-8''","")||"result.zip";console.log("company-batchs: "+c),$.saveAs(n.body,c)})}downloadResults(){this.isLoading=!0,this.companyService.downloadProcessingResults(this.downloadSelector.getList(),this.companyUniqueId).subscribe(()=>{this.isLoading=!1,this.downloadSelector.clear()})}}(0,i.Z)(k,"\u0275fac",function(o){return new(o||k)(t.Y36(Z.$h),t.Y36(g),t.Y36(r.gz),t.Y36(Dn.uw),t.Y36(D.sK))}),(0,i.Z)(k,"\u0275cmp",t.Xpm({type:k,selectors:[["company-batch-list"]],features:[t.qOj],decls:7,vars:1,consts:[[4,"ngIf"],["downloadButtonsTemplate",""],["uploadButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","createdOn"],["matColumnDef","isBatchConsistent"],["matColumnDef","isDeleted"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected-color","click",4,"matRowDef","matRowDefColumns"],[3,"pageableDefault","prev","next"],["mat-header-cell",""],["color","warn",3,"checked","indeterminate","change"],[1,"check-area"],["mat-cell",""],["color","warn",3,"checked","click","change"],["disabled",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink","disabled"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","size","forTableRow","color","primary",3,"click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"click"],["mat-flat-button","","color","warn","title","Delete Checked",3,"disabled","click"],["justify-content","center","gap","unit(1)","align-items","center"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(o,n){1&o&&(t.YNc(0,Te,117,9,"ct-section",0),t._uU(1,"\n\n\n\n"),t.YNc(2,xe,22,3,"ng-template",null,1,t.W1O),t._uU(4,"\n\n\n\n"),t.YNc(5,be,3,1,"ng-template",null,2,t.W1O)),2&o&&t.Q6J("ngIf",n.batchesResult)},dependencies:[d.O5,d.tP,r.rH,f.U,C.n,R.V,S.R,j.a,T.i,x.Z,A.t,v.B,q.i,y._,P.C,U.lW,G.oG,Fn.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,d.uU,D.X$],styles:["mat-checkbox[_ngcontent-%COMP%]{position:relative}.check-area[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;top:50%;left:50%;margin-top:-20px;margin-left:-20px;background-color:#0000}.selected-color[_ngcontent-%COMP%]{background-color:#ffc1072e}.selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18);border-radius:4px;padding:10px 20px 8px}"]})),tt([(0,V.K)({question:e=>({text:(0,B.J)("batch-company.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:e.batch.id}}),rejectTitle:`${(0,B.J)("batch-company.delete-dialog.Cancel")}`,resolveTitle:`${(0,B.J)("batch-company.delete-dialog.Delete")}`}),L("design:type",Function),L("design:paramtypes",[Object]),L("design:returntype",void 0)],k.prototype,"deleteOne",null),tt([(0,V.K)({question:()=>({text:(0,B.J)("batch-company.delete-dialog.Do you want to delete Batches"),params:{}}),rejectTitle:`${(0,B.J)("batch-company.delete-dialog.Cancel")}`,resolveTitle:`${(0,B.J)("batch-company.delete-dialog.Delete")}`}),L("design:type",Function),L("design:paramtypes",[]),L("design:returntype",void 0)],k.prototype,"deleteMany",null);var Y=u(5126);const nt=[{path:"",component:it},{path:"companies",component:Lt},{path:":companyUniqueId/edit",canActivate:[Y.k],component:Dt,data:{backConfig:["../","../","companies"],requiredRoles:[Z.uU.MainAdmin]}},{path:"add",component:gn,data:{backConfig:["../","companies"]}},{path:":companyUniqueId/accounts",component:Un,canActivate:[Y.k],data:{backConfig:["../","../","companies"],requiredRoles:[Z.uU.MainAdmin]}},{path:":companyUniqueId/account/add",component:fn,data:{backConfig:["../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit",component:Tn,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-roles",component:vn,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-password",component:An,data:{backConfig:["../","../","../","accounts"]}},{path:"1/batches",redirectTo:"companies"},{path:":companyUniqueId/batches",component:k,canActivate:[Y.k],data:{backConfig:["../","../","companies"],requiredRoles:[Z.uU.MainSupport,Z.uU.MainOperator]}},{path:":companyUniqueId/batches/upload",component:Ln,canActivate:[Y.k],data:{backConfig:["../"],requiredRoles:[Z.uU.MainSupport,Z.uU.MainOperator]}},{path:":companyUniqueId/batch/:batchId",component:In,canActivate:[Y.k],data:{backConfig:["../","../","batches"],requiredRoles:[Z.uU.MainSupport,Z.uU.MainOperator]}}];let et=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[r.Bz.forChild(nt),r.Bz]})),e})(),ve=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[d.ez,et,ot.E,ct.$,_.u5,_.UX,D.aw.forChild({})]})),e})()}}]);