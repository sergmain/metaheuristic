"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[898],{653:(E,T,a)=>{a.d(T,{$:()=>C});var l=a(1180),o=(()=>{return(e=o||(o={})).NONE="NONE",e.IN_PROGRESS="IN_PROGRESS",e.ERROR="ERROR",e.OK="OK",e.NOT_USED_ANYMORE="NOT_USED_ANYMORE",e.SKIPPED="SKIPPED",e.CHECK_CACHE="CHECK_CACHE",o;var e})(),x=a(2231),U=a(4327),m=a(9272),t=a(4650),g=a(5938),u=a(6895),f=a(4859),c=a(7392),i=a(266),s=a(4853),Z=a(9185),v=a(305),I=a(8868),P=a(3370),D=a(9863),h=function(e,_){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,_)};const S=["errorDialogTemplate"];function k(e,_){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._uU(4,"\n                "),t.TgZ(5,"div"),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e){const n=_.$implicit;t.xp6(3),t.Oqu(n.process),t.xp6(3),t.Oqu(n.functionCode)}}function y(e,_){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",n.taskId,",\xa0",n.state,"")}}function N(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t._uU(1),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2).$implicit,d=t.oxw(3);return t.KtG(d.clearCache(p.taskId))}),t._uU(3,"CACHED"),t.qZA(),t._uU(4,"\n                    "),t.qZA()}if(2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",n.taskId,",\xa0",n.state,",\xa0\n                        ")}}function R(e,_){1&e&&t.GkF(0)}function q(e,_){1&e&&t.GkF(0)}const b=function(e){return{cell:e}};function K(e,_){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n                    "),t.YNc(2,y,2,2,"div",0),t._uU(3,"\n                    "),t.YNc(4,N,5,2,"div",0),t._uU(5,"\n                    "),t.YNc(6,R,1,0,"ng-container",9),t._uU(7,"\n                    "),t.YNc(8,q,1,0,"ng-container",9),t._uU(9,"\n                "),t.qZA()),2&e){const n=t.oxw().$implicit;t.oxw(3);const r=t.MAs(4),p=t.MAs(7);t.xp6(2),t.Q6J("ngIf",!n.fromCache),t.xp6(2),t.Q6J("ngIf",n.fromCache),t.xp6(2),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(6,b,n)),t.xp6(2),t.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",t.VKq(8,b,n))}}function $(e,_){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t.YNc(2,K,10,10,"div",0),t._uU(3,"\n            "),t.qZA()),2&e){const n=_.$implicit;t.xp6(2),t.Q6J("ngIf",!n.empty)}}function w(e,_){if(1&e&&(t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.YNc(5,$,4,1,"td",8),t._uU(6,"\n        "),t.qZA()),2&e){const n=_.$implicit;t.xp6(3),t.Oqu(n.context),t.xp6(2),t.Q6J("ngForOf",n.cells)}}function Q(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",4),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"table"),t._uU(11,"\n                        "),t.TgZ(12,"tr"),t._uU(13,"\n                            "),t.TgZ(14,"td"),t._uU(15,"UID: "),t.qZA(),t._uU(16,"\n                            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n                        "),t.qZA(),t._uU(20,"\n                        "),t.TgZ(21,"tr"),t._uU(22,"\n                            "),t.TgZ(23,"td"),t._uU(24,"Is valid:"),t.qZA(),t._uU(25,"\n                            "),t.TgZ(26,"td"),t._uU(27),t.qZA(),t._uU(28,"\n                        "),t.qZA(),t._uU(29,"\n                        "),t.TgZ(30,"tr"),t._uU(31,"\n                            "),t.TgZ(32,"td"),t._uU(33,"Type: "),t.qZA(),t._uU(34,"\n                            "),t.TgZ(35,"td"),t._uU(36),t.qZA(),t._uU(37,"\n                        "),t.qZA(),t._uU(38,"\n                    "),t.qZA(),t._uU(39,"\n                "),t.qZA(),t._uU(40,"\n                "),t.TgZ(41,"ct-flex-item",5),t._uU(42,"\n                    "),t.TgZ(43,"button",6),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.reload())}),t._uU(44,"\n                        "),t.TgZ(45,"mat-icon"),t._uU(46,"sync"),t.qZA(),t._uU(47,"\n                    "),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n            "),t.qZA(),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n    "),t.qZA(),t._uU(52,"\n\n    "),t.TgZ(53,"table",7),t._uU(54,"\n        "),t.TgZ(55,"thead"),t._uU(56,"\n        "),t.TgZ(57,"tr"),t._uU(58,"\n            "),t._UZ(59,"td"),t._uU(60,"\n            "),t.YNc(61,k,8,2,"td",8),t._uU(62,"\n        "),t.qZA(),t._uU(63,"\n        "),t.qZA(),t._uU(64,"\n        "),t.TgZ(65,"tbody"),t._uU(66,"\n        "),t.YNc(67,w,7,2,"tr",8),t._uU(68,"\n        "),t.qZA(),t._uU(69,"\n    "),t.qZA(),t._uU(70,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(18),t.Oqu(n.response.sourceCodeUid),t.xp6(9),t.Oqu(n.response.sourceCodeValid),t.xp6(9),t.Oqu(n.response.sourceCodeType),t.xp6(25),t.Q6J("ngForOf",n.response.header),t.xp6(6),t.Q6J("ngForOf",n.response.lines)}}function Y(e,_){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t._uU(1,"\n                "),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(n);const p=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.downloadFile(p))}),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(3),t.AsE("",n.id,", ",n.nm,"")}}function J(e,_){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE("\n                ",n.id,", ",n.nm,"\n            ")}}function F(e,_){if(1&e&&(t.ynx(0),t._uU(1,"\n            "),t.YNc(2,Y,5,2,"div",0),t._uU(3,"\n            "),t.YNc(4,J,2,2,"div",0),t._uU(5,"\n        "),t.BQk()),2&e){const n=_.$implicit;t.xp6(2),t.Q6J("ngIf",!n.n),t.xp6(2),t.Q6J("ngIf",n.n)}}function B(e,_){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,F,6,2,"ng-container",8),t._uU(3,"\n    "),t.BQk()),2&e){const n=t.oxw().cell;t.xp6(2),t.Q6J("ngForOf",n.outs)}}function W(e,_){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,B,4,1,"ng-container",0),t._uU(2,"\n")),2&e){const n=_.cell,r=t.oxw();t.xp6(1),t.Q6J("ngIf",n.state===r.TaskExecState.OK)}}function H(e,_){if(1&e){const n=t.EpF();t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(n);const p=t.oxw().cell,d=t.oxw();return t.KtG(d.openError(p.taskId))}),t._uU(3,"Task exec info"),t.qZA(),t._uU(4,"\n    "),t.BQk()}}function j(e,_){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,H,5,0,"ng-container",0),t._uU(2,"\n")),2&e){const n=_.cell,r=t.oxw();t.xp6(1),t.Q6J("ngIf",n.state===r.TaskExecState.ERROR)}}function G(e,_){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"div"),t._uU(3," "),t.TgZ(4,"b"),t._uU(5,"Task Exec Info"),t.qZA(),t._uU(6," "),t.qZA(),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9),t.qZA(),t._uU(10,"\n        "),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._uU(13,"\n        "),t.TgZ(14,"mat-dialog-content"),t._uU(15,"\n            "),t.TgZ(16,"ct-pre",11),t._uU(17),t.qZA(),t._uU(18,"\n        "),t.qZA(),t._uU(19,"\n        "),t.TgZ(20,"mat-dialog-actions",12),t._uU(21,"\n            "),t.TgZ(22,"button",13),t._uU(23,"Close"),t.qZA(),t._uU(24,"\n        "),t.qZA(),t._uU(25,"\n    "),t.BQk()),2&e){const n=t.oxw(2);t.xp6(9),t.hij(" taskId: ",n.taskExecInfo.taskId," "),t.xp6(3),t.hij(" execState: ",n.taskExecInfo.execState," "),t.xp6(5),t.hij("\n                ",n.taskExecInfo.console,"\n            ")}}function L(e,_){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,G,26,3,"ng-container",0),t._uU(2,"\n")),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.taskExecInfo)}}class C{constructor(_,n){(0,l.Z)(this,"execContextService",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"errorDialogTemplate",void 0),(0,l.Z)(this,"sourceCodeId",void 0),(0,l.Z)(this,"execContextId",void 0),(0,l.Z)(this,"response",void 0),(0,l.Z)(this,"taskExecInfo",void 0),(0,l.Z)(this,"TaskExecState",o),this.execContextService=_,this.dialog=n}ngOnInit(){this.reload()}reload(){this.sourceCodeId&&this.execContextId&&this.execContextService.execContextsState(this.sourceCodeId,this.execContextId).subscribe(_=>{this.response=_})}openError(_){this.taskExecInfo=null,this.dialog.open(this.errorDialogTemplate,{width:"100%"}),this.execContextService.taskExecInfo(this.sourceCodeId,this.execContextId,_).subscribe(n=>{this.taskExecInfo=n})}downloadFile(_){this.execContextService.downloadVariable(this.execContextId,_.id.toString()).subscribe(n=>{const r=n.headers.get("Content-Disposition").split("''")[1];console.log("state-of-tasks: "+r),U.saveAs(n.body,r)})}clearCache(_){this.execContextService.clearCache(_.toString()).subscribe(n=>{})}}(0,l.Z)(C,"\u0275fac",function(_){return new(_||C)(t.Y36(x.w),t.Y36(g.uw))}),(0,l.Z)(C,"\u0275cmp",t.Xpm({type:C,selectors:[["ct-state-of-tasks"]],viewQuery:function(_,n){if(1&_&&t.Gf(S,5),2&_){let r;t.iGM(r=t.CRH())&&(n.errorDialogTemplate=r.first)}},inputs:{sourceCodeId:"sourceCodeId",execContextId:"execContextId"},decls:11,vars:1,consts:[[4,"ngIf"],["stateOkTemplate",""],["stateErrorTemplate",""],["errorDialogTemplate",""],["justify-content","space-between"],["justify-content","flex-end"],["mat-icon-button","","matTooltip","Reload",3,"click"],[1,"state-table"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"link",3,"click"],[2,"font-size","80%"],["align","end"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(_,n){1&_&&(t._uU(0,"\n\n"),t.YNc(1,Q,71,5,"ct-section",0),t._uU(2,"\n\n\n"),t.YNc(3,W,3,1,"ng-template",null,1,t.W1O),t._uU(5,"\n\n"),t.YNc(6,j,3,1,"ng-template",null,2,t.W1O),t._uU(8,"\n\n\n"),t.YNc(9,L,3,1,"ng-template",null,3,t.W1O)),2&_&&(t.xp6(1),t.Q6J("ngIf",n.response))},dependencies:[u.sg,u.O5,u.tP,f.lW,f.RK,g.ZT,g.xY,g.H8,c.Hw,i.gM,s.Q,Z.n,v.Z,I.B,P.i,D._],styles:["[_nghost-%COMP%]{font-family:Roboto Mono,Courier New,Courier,monospace}.info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:18px;line-height:1.2;vertical-align:baseline}.state-table[_ngcontent-%COMP%]{border-collapse:collapse}.state-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#8080800d;vertical-align:baseline;white-space:nowrap;padding:6.75px 9px;font-size:80%;line-height:1.2}.state-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.66)}.state-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.33)}"]})),function(e,_,n,r){var O,p=arguments.length,d=p<3?_:null===r?r=Object.getOwnPropertyDescriptor(_,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,_,n,r);else for(var A=e.length-1;A>=0;A--)(O=e[A])&&(d=(p<3?O(d):p>3?O(_,n,d):O(_,n))||d);p>3&&d&&Object.defineProperty(_,n,d)}([(0,m.K)({question:e=>`Do you want to clear Cache for Task #${e}`,resolveTitle:"Clear Cache",rejectTitle:"Cancel",theme:"warn"}),h("design:type",Function),h("design:paramtypes",[Number]),h("design:returntype",void 0)],C.prototype,"clearCache",null)},7824:(E,T,a)=>{a.d(T,{C:()=>f});var l=a(1180),o=a(4650),x=a(6895),U=a(4859),m=a(7392),t=a(8868),g=a(3370);function u(c,i){if(1&c){const s=o.EpF();o.TgZ(0,"ct-flex",1),o._uU(1,"\n    "),o.TgZ(2,"ct-flex-item"),o._uU(3,"\n        "),o.TgZ(4,"button",2),o.NdJ("click",function(){o.CHM(s);const v=o.oxw();return o.KtG(v._prev())}),o._uU(5,"\n            "),o.TgZ(6,"mat-icon"),o._uU(7,"navigate_before"),o.qZA(),o._uU(8,"\n        "),o.qZA(),o._uU(9,"\n        "),o.TgZ(10,"button",2),o.NdJ("click",function(){o.CHM(s);const v=o.oxw();return o.KtG(v._next())}),o._uU(11,"\n            "),o.TgZ(12,"mat-icon"),o._uU(13,"navigate_next"),o.qZA(),o._uU(14,"\n        "),o.qZA(),o._uU(15,"\n    "),o.qZA(),o._uU(16,"\n"),o.qZA()}if(2&c){const s=o.oxw();o.xp6(4),o.Q6J("disabled",s.globalDisable||s.pageableDefault.first),o.xp6(6),o.Q6J("disabled",s.globalDisable||s.pageableDefault.last)}}let f=(()=>{class c{constructor(){(0,l.Z)(this,"next",new o.vpe),(0,l.Z)(this,"prev",new o.vpe),(0,l.Z)(this,"globalDisable",void 0),(0,l.Z)(this,"pageableDefault",void 0)}_next(){this.next.emit()}_prev(){this.prev.emit()}}return(0,l.Z)(c,"\u0275fac",function(s){return new(s||c)}),(0,l.Z)(c,"\u0275cmp",o.Xpm({type:c,selectors:[["ct-table-pagination"]],inputs:{globalDisable:"globalDisable",pageableDefault:"pageableDefault"},outputs:{next:"next",prev:"prev"},decls:1,vars:1,consts:[["justify-content","flex-start",4,"ngIf"],["justify-content","flex-start"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(s,Z){1&s&&o.YNc(0,u,17,2,"ct-flex",0),2&s&&o.Q6J("ngIf",Z.pageableDefault)},dependencies:[x.O5,U.RK,m.Hw,t.B,g.i]})),c})()},2231:(E,T,a)=>{a.d(T,{w:()=>g});var l=a(1180),o=a(529),x=a(7528),U=a(2340),m=a(4650);const t=u=>`${U.N.baseUrl}dispatcher/source-code/${u}`;let g=(()=>{class u{constructor(c){(0,l.Z)(this,"http",void 0),this.http=c}execContexts(c,i){return this.http.get(t(`exec-contexts/${c}`),{params:{page:i}})}execContextAddCommitUID(c,i){return this.http.post(t("uid-exec-context-add-commit"),(0,x.P)({uid:c,variable:i}))}execContextAddCommit(c,i){return this.http.post(t("exec-context-add-commit"),(0,x.P)({sourceCodeId:c,variable:i}))}execContextEdit(c,i){return this.http.get(t(`exec-context/${c}/${i}`))}execContextDeleteCommit(c,i){return this.http.post(t("exec-context-delete-commit"),(0,x.P)({sourceCodeId:c,execContextId:i}))}execContextTargetState(c,i,s){return this.http.get(t(`exec-context-target-state/${c}/${i}/${s}`))}execContextsState(c,i){return this.http.get(t(`exec-context-state/${c}/${i}`))}taskExecInfo(c,i,s){return this.http.get(t(`exec-context-task-exec-info/${c}/${i}/${s}`))}downloadVariable(c,i){let s=new o.WM;return s=s.append("Accept","application/octet-stream"),this.http.get(t(`exec-context/${c}/download-variable/${i}`),{headers:s,observe:"response",responseType:"blob"})}clearCache(c){return this.http.post(t("exec-context/task-reset-cache"),(0,x.P)({taskId:c}))}}return(0,l.Z)(u,"\u0275fac",function(c){return new(c||u)(m.LFG(o.eN))}),(0,l.Z)(u,"\u0275prov",m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})),u})()}}]);