"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[898],{653:(O,f,_)=>{_.d(f,{$:()=>W});var s=_(1180),o=(()=>{return(e=o||(o={})).NONE="NONE",e.IN_PROGRESS="IN_PROGRESS",e.ERROR="ERROR",e.OK="OK",e.NOT_USED_ANYMORE="NOT_USED_ANYMORE",e.SKIPPED="SKIPPED",e.CHECK_CACHE="CHECK_CACHE",o;var e})(),d=_(2231),C=_(4327),g=_(2026),t=_(4650),x=_(5938),r=_(6895),m=_(4859),c=_(7392),a=_(266),l=_(4853),T=_(9185),U=_(305),h=_(8868),A=_(3370),E=_(9863);const b=["errorDialogTemplate"];function I(e,i){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._uU(4,"\n                "),t.TgZ(5,"div"),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e){const n=i.$implicit;t.xp6(3),t.Oqu(n.process),t.xp6(3),t.Oqu(n.functionCode)}}function P(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",n.taskId,",\xa0",n.state,"")}}function D(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",n.taskId,",\xa0",n.state,",\xa0CACHED")}}function M(e,i){1&e&&t.GkF(0)}function S(e,i){1&e&&t.GkF(0)}const v=function(e){return{cell:e}};function k(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n                    "),t.YNc(2,P,2,2,"div",0),t._uU(3,"\n                    "),t.YNc(4,D,2,2,"div",0),t._uU(5,"\n                    "),t.YNc(6,M,1,0,"ng-container",9),t._uU(7,"\n                    "),t.YNc(8,S,1,0,"ng-container",9),t._uU(9,"\n                "),t.qZA()),2&e){const n=t.oxw().$implicit;t.oxw(3);const u=t.MAs(4),p=t.MAs(7);t.xp6(2),t.Q6J("ngIf",!n.fromCache),t.xp6(2),t.Q6J("ngIf",n.fromCache),t.xp6(2),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(6,v,n)),t.xp6(2),t.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",t.VKq(8,v,n))}}function N(e,i){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t.YNc(2,k,10,10,"div",0),t._uU(3,"\n            "),t.qZA()),2&e){const n=i.$implicit;t.xp6(2),t.Q6J("ngIf",!n.empty)}}function y(e,i){if(1&e&&(t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.YNc(5,N,4,1,"td",8),t._uU(6,"\n        "),t.qZA()),2&e){const n=i.$implicit;t.xp6(3),t.Oqu(n.context),t.xp6(2),t.Q6J("ngForOf",n.cells)}}function R(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",4),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"table"),t._uU(11,"\n                        "),t.TgZ(12,"tr"),t._uU(13,"\n                            "),t.TgZ(14,"td"),t._uU(15,"UID: "),t.qZA(),t._uU(16,"\n                            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n                        "),t.qZA(),t._uU(20,"\n                        "),t.TgZ(21,"tr"),t._uU(22,"\n                            "),t.TgZ(23,"td"),t._uU(24,"Is valid:"),t.qZA(),t._uU(25,"\n                            "),t.TgZ(26,"td"),t._uU(27),t.qZA(),t._uU(28,"\n                        "),t.qZA(),t._uU(29,"\n                        "),t.TgZ(30,"tr"),t._uU(31,"\n                            "),t.TgZ(32,"td"),t._uU(33,"Type: "),t.qZA(),t._uU(34,"\n                            "),t.TgZ(35,"td"),t._uU(36),t.qZA(),t._uU(37,"\n                        "),t.qZA(),t._uU(38,"\n                    "),t.qZA(),t._uU(39,"\n                "),t.qZA(),t._uU(40,"\n                "),t.TgZ(41,"ct-flex-item",5),t._uU(42,"\n                    "),t.TgZ(43,"button",6),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.reload())}),t._uU(44,"\n                        "),t.TgZ(45,"mat-icon"),t._uU(46,"sync"),t.qZA(),t._uU(47,"\n                    "),t.qZA(),t._uU(48,"\n                "),t.qZA(),t._uU(49,"\n            "),t.qZA(),t._uU(50,"\n        "),t.qZA(),t._uU(51,"\n    "),t.qZA(),t._uU(52,"\n\n    "),t.TgZ(53,"table",7),t._uU(54,"\n        "),t.TgZ(55,"thead"),t._uU(56,"\n        "),t.TgZ(57,"tr"),t._uU(58,"\n            "),t._UZ(59,"td"),t._uU(60,"\n            "),t.YNc(61,I,8,2,"td",8),t._uU(62,"\n        "),t.qZA(),t._uU(63,"\n        "),t.qZA(),t._uU(64,"\n        "),t.TgZ(65,"tbody"),t._uU(66,"\n        "),t.YNc(67,y,7,2,"tr",8),t._uU(68,"\n        "),t.qZA(),t._uU(69,"\n    "),t.qZA(),t._uU(70,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(18),t.Oqu(n.response.sourceCodeUid),t.xp6(9),t.Oqu(n.response.sourceCodeValid),t.xp6(9),t.Oqu(n.response.sourceCodeType),t.xp6(25),t.Q6J("ngForOf",n.response.header),t.xp6(6),t.Q6J("ngForOf",n.response.lines)}}function q(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t._uU(1,"\n                "),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(n);const p=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.downloadFile(p))}),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(3),t.AsE("",n.id,", ",n.nm,"")}}function K(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE("\n                ",n.id,", ",n.nm,"\n            ")}}function $(e,i){if(1&e&&(t.ynx(0),t._uU(1,"\n            "),t.YNc(2,q,5,2,"div",0),t._uU(3,"\n            "),t.YNc(4,K,2,2,"div",0),t._uU(5,"\n        "),t.BQk()),2&e){const n=i.$implicit;t.xp6(2),t.Q6J("ngIf",!n.n),t.xp6(2),t.Q6J("ngIf",n.n)}}function Q(e,i){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,$,6,2,"ng-container",8),t._uU(3,"\n    "),t.BQk()),2&e){const n=t.oxw().cell;t.xp6(2),t.Q6J("ngForOf",n.outs)}}function Y(e,i){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,Q,4,1,"ng-container",0),t._uU(2,"\n")),2&e){const n=i.cell,u=t.oxw();t.xp6(1),t.Q6J("ngIf",n.state===u.TaskExecState.OK)}}function J(e,i){if(1&e){const n=t.EpF();t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(n);const p=t.oxw().cell,Z=t.oxw();return t.KtG(Z.openError(p.taskId))}),t._uU(3,"Task exec info"),t.qZA(),t._uU(4,"\n    "),t.BQk()}}function w(e,i){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,J,5,0,"ng-container",0),t._uU(2,"\n")),2&e){const n=i.cell,u=t.oxw();t.xp6(1),t.Q6J("ngIf",n.state===u.TaskExecState.ERROR)}}function F(e,i){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"div"),t._uU(3," "),t.TgZ(4,"b"),t._uU(5,"Task Exec Info"),t.qZA(),t._uU(6," "),t.qZA(),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9),t.qZA(),t._uU(10,"\n        "),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._uU(13,"\n        "),t.TgZ(14,"mat-dialog-content"),t._uU(15,"\n            "),t.TgZ(16,"ct-pre",11),t._uU(17),t.qZA(),t._uU(18,"\n        "),t.qZA(),t._uU(19,"\n        "),t.TgZ(20,"mat-dialog-actions",12),t._uU(21,"\n            "),t.TgZ(22,"button",13),t._uU(23,"Close"),t.qZA(),t._uU(24,"\n        "),t.qZA(),t._uU(25,"\n    "),t.BQk()),2&e){const n=t.oxw(2);t.xp6(9),t.hij(" taskId: ",n.taskExecInfo.taskId," "),t.xp6(3),t.hij(" execState: ",n.taskExecInfo.execState," "),t.xp6(5),t.hij("\n                ",n.taskExecInfo.console,"\n            ")}}function B(e,i){if(1&e&&(t._uU(0,"\n    "),t.YNc(1,F,26,3,"ng-container",0),t._uU(2,"\n")),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.taskExecInfo)}}let W=(()=>{class e{constructor(n,u){(0,s.Z)(this,"execContextService",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"errorDialogTemplate",void 0),(0,s.Z)(this,"sourceCodeId",void 0),(0,s.Z)(this,"execContextId",void 0),(0,s.Z)(this,"response",void 0),(0,s.Z)(this,"taskExecInfo",void 0),(0,s.Z)(this,"TaskExecState",o),(0,s.Z)(this,"MhUtils",g.C),this.execContextService=n,this.dialog=u}ngOnInit(){this.reload()}reload(){this.sourceCodeId&&this.execContextId&&this.execContextService.execContextsState(this.sourceCodeId,this.execContextId).subscribe(n=>{this.response=n})}openError(n){this.taskExecInfo=null,this.dialog.open(this.errorDialogTemplate,{width:"100%"}),this.execContextService.taskExecInfo(this.sourceCodeId,this.execContextId,n).subscribe(u=>{this.taskExecInfo=u})}downloadFile(n){this.execContextService.downloadVariable(this.execContextId,n.id.toString()).subscribe(u=>{const p=u.headers.get("Content-Disposition").split("''")[1];console.log("state-of-tasks: "+p),C.saveAs(u.body,p)})}}return(0,s.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(d.w),t.Y36(x.uw))}),(0,s.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["ct-state-of-tasks"]],viewQuery:function(n,u){if(1&n&&t.Gf(b,5),2&n){let p;t.iGM(p=t.CRH())&&(u.errorDialogTemplate=p.first)}},inputs:{sourceCodeId:"sourceCodeId",execContextId:"execContextId"},decls:11,vars:1,consts:[[4,"ngIf"],["stateOkTemplate",""],["stateErrorTemplate",""],["errorDialogTemplate",""],["justify-content","space-between"],["justify-content","flex-end"],["mat-icon-button","","matTooltip","Reload",3,"click"],[1,"state-table"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"link",3,"click"],[2,"font-size","80%"],["align","end"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,u){1&n&&(t._uU(0,"\n\n"),t.YNc(1,R,71,5,"ct-section",0),t._uU(2,"\n\n\n"),t.YNc(3,Y,3,1,"ng-template",null,1,t.W1O),t._uU(5,"\n\n"),t.YNc(6,w,3,1,"ng-template",null,2,t.W1O),t._uU(8,"\n\n\n"),t.YNc(9,B,3,1,"ng-template",null,3,t.W1O)),2&n&&(t.xp6(1),t.Q6J("ngIf",u.response))},dependencies:[r.sg,r.O5,r.tP,m.lW,m.RK,x.ZT,x.xY,x.H8,c.Hw,a.gM,l.Q,T.n,U.Z,h.B,A.i,E._],styles:["[_nghost-%COMP%]{font-family:Roboto Mono,Courier New,Courier,monospace}.info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:18px;line-height:1.2;vertical-align:baseline}.state-table[_ngcontent-%COMP%]{border-collapse:collapse}.state-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#8080800d;vertical-align:baseline;white-space:nowrap;padding:6.75px 9px;font-size:80%;line-height:1.2}.state-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.66)}.state-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.33)}"]})),e})()},7824:(O,f,_)=>{_.d(f,{C:()=>m});var s=_(1180),o=_(4650),d=_(6895),C=_(4859),g=_(7392),t=_(8868),x=_(3370);function r(c,a){if(1&c){const l=o.EpF();o.TgZ(0,"ct-flex",1),o._uU(1,"\n    "),o.TgZ(2,"ct-flex-item"),o._uU(3,"\n        "),o.TgZ(4,"button",2),o.NdJ("click",function(){o.CHM(l);const U=o.oxw();return o.KtG(U._prev())}),o._uU(5,"\n            "),o.TgZ(6,"mat-icon"),o._uU(7,"navigate_before"),o.qZA(),o._uU(8,"\n        "),o.qZA(),o._uU(9,"\n        "),o.TgZ(10,"button",2),o.NdJ("click",function(){o.CHM(l);const U=o.oxw();return o.KtG(U._next())}),o._uU(11,"\n            "),o.TgZ(12,"mat-icon"),o._uU(13,"navigate_next"),o.qZA(),o._uU(14,"\n        "),o.qZA(),o._uU(15,"\n    "),o.qZA(),o._uU(16,"\n"),o.qZA()}if(2&c){const l=o.oxw();o.xp6(4),o.Q6J("disabled",l.globalDisable||l.pageableDefault.first),o.xp6(6),o.Q6J("disabled",l.globalDisable||l.pageableDefault.last)}}let m=(()=>{class c{constructor(){(0,s.Z)(this,"next",new o.vpe),(0,s.Z)(this,"prev",new o.vpe),(0,s.Z)(this,"globalDisable",void 0),(0,s.Z)(this,"pageableDefault",void 0)}_next(){this.next.emit()}_prev(){this.prev.emit()}}return(0,s.Z)(c,"\u0275fac",function(l){return new(l||c)}),(0,s.Z)(c,"\u0275cmp",o.Xpm({type:c,selectors:[["ct-table-pagination"]],inputs:{globalDisable:"globalDisable",pageableDefault:"pageableDefault"},outputs:{next:"next",prev:"prev"},decls:1,vars:1,consts:[["justify-content","flex-start",4,"ngIf"],["justify-content","flex-start"],["mat-icon-button","","color","primary",3,"disabled","click"]],template:function(l,T){1&l&&o.YNc(0,r,17,2,"ct-flex",0),2&l&&o.Q6J("ngIf",T.pageableDefault)},dependencies:[d.O5,C.RK,g.Hw,t.B,x.i]})),c})()},2231:(O,f,_)=>{_.d(f,{w:()=>x});var s=_(1180),o=_(529),d=_(7528),C=_(2340),g=_(4650);const t=r=>`${C.N.baseUrl}dispatcher/source-code/${r}`;let x=(()=>{class r{constructor(c){(0,s.Z)(this,"http",void 0),this.http=c}execContexts(c,a){return this.http.get(t(`exec-contexts/${c}`),{params:{page:a}})}execContextAddCommitUID(c,a){return this.http.post(t("uid-exec-context-add-commit"),(0,d.P)({uid:c,variable:a}))}execContextAddCommit(c,a){return this.http.post(t("exec-context-add-commit"),(0,d.P)({sourceCodeId:c,variable:a}))}execContextEdit(c,a){return this.http.get(t(`exec-context/${c}/${a}`))}execContextDeleteCommit(c,a){return this.http.post(t("exec-context-delete-commit/"),(0,d.P)({sourceCodeId:c,execContextId:a}))}execContextTargetState(c,a,l){return this.http.get(t(`exec-context-target-state/${c}/${a}/${l}`))}execContextsState(c,a){return this.http.get(t(`exec-context-state/${c}/${a}`))}taskExecInfo(c,a,l){return this.http.get(t(`exec-context-task-exec-info/${c}/${a}/${l}`))}downloadVariable(c,a){let l=new o.WM;return l=l.append("Accept","application/octet-stream"),this.http.get(t(`exec-context/${c}/download-variable/${a}`),{headers:l,observe:"response",responseType:"blob"})}}return(0,s.Z)(r,"\u0275fac",function(c){return new(c||r)(g.LFG(o.eN))}),(0,s.Z)(r,"\u0275prov",g.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})),r})()}}]);