"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[195],{9195:(Y,w,i)=>{i.r(w),i.d(w,{AccountsModule:()=>yt,AccountsRoutes:()=>R,AccountsRoutingModule:()=>J});var c=i(1180),_=i(6895),u=i(4006),m=i(9299),N=i(3081),l=i(3626),g=i(9732),p=i(8318),d=i(3788),t=i(4650),D=i(4190),h=i(1439),U=i(9185),f=i(6890),A=i(2555),L=i(7530),T=i(6264),C=i(305),b=i(5014),x=i(8868),v=i(3370),q=i(9863),Q=i(7824),F=i(1336),M=i(4859);function B(e,s){1&e&&(t.ynx(0),t._uU(1,"\n            "),t.TgZ(2,"ct-section-header-row"),t._uU(3,"\n                "),t.TgZ(4,"ct-alert",17),t._uU(5,"Creating and editing of accounts are disabled, assetMode is 'replicated'.\n                "),t.qZA(),t._uU(6,"\n            "),t.qZA(),t._uU(7,"\n        "),t.BQk())}function j(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"ID "),t.qZA())}function G(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("",n.id," ")}}function K(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Is enabled "),t.qZA())}function H(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("",n.enabled?"Yes":"No"," ")}}function W(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Login "),t.qZA())}function z(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("",n.username," ")}}function $(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Public name "),t.qZA())}function X(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("",n.publicName," ")}}function V(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Created On "),t.qZA())}function tt(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("\n                            ",t.xi3(2,1,n.createdOn,"HH:mm, MMM\xa0d,\xa0yyyy")," ")}}function nt(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Public name "),t.qZA())}function et(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij("",n.roles," ")}}function ot(e,s){1&e&&(t.TgZ(0,"th",18),t._uU(1," "),t.qZA())}const ct=function(e){return["/dispatcher/accounts/edit/",e]},st=function(e){return["/dispatcher/accounts/edit-password/",e]};function it(e,s){if(1&e&&(t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"ct-flex",20),t._uU(3,"\n                                    "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                                        "),t.TgZ(6,"button",21),t._uU(7,"\n                                            Edit"),t.qZA(),t._uU(8,"\n                                    "),t.qZA(),t._uU(9,"\n                                    "),t._uU(10,"\n                                    "),t._uU(11,"\n                                    "),t.TgZ(12,"ct-flex-item"),t._uU(13,"\n                                        "),t.TgZ(14,"button",21),t._uU(15,"\n                                            Change Password"),t.qZA(),t._uU(16,"\n                                    "),t.qZA(),t._uU(17,"\n                                "),t.qZA(),t._uU(18,"\n                            "),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(2,ct,n.id)),t.xp6(8),t.Q6J("routerLink",t.VKq(4,st,n.id))}}function ut(e,s){if(1&e&&(t.TgZ(0,"td",19),t._uU(1,"\n                            "),t.YNc(2,it,19,6,"ng-container",0),t._uU(3,"\n                        "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}function at(e,s){1&e&&(t.TgZ(0,"tr",22),t._uU(1," "),t.qZA())}function _t(e,s){1&e&&(t.TgZ(0,"tr",23),t._uU(1," "),t.qZA())}function rt(e,s){if(1&e&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                        "),t.TgZ(4,"button",24),t._uU(5,"\n                                Add New Account \n                        "),t.qZA(),t._uU(6,"\n                    "),t.qZA(),t._uU(7,"\n                "),t.BQk()),2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("disabled",n.isLoading)}}function lt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-heading"),t._uU(7,"\n                Accounts\n            "),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n\n        "),t.YNc(10,B,8,0,"ng-container",0),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n\n    "),t.TgZ(13,"ct-section-body"),t._uU(14,"\n        "),t.TgZ(15,"ct-section-body-row"),t._uU(16,"\n            "),t.TgZ(17,"ct-table",1),t._uU(18,"\n                "),t.TgZ(19,"table",2),t._uU(20,"\n                    "),t.ynx(21,3),t._uU(22,"\n                        "),t.YNc(23,j,2,0,"th",4),t._uU(24,"\n                        "),t.YNc(25,G,2,1,"td",5),t._uU(26,"\n                    "),t.BQk(),t._uU(27,"\n                    "),t.ynx(28,6),t._uU(29,"\n                        "),t.YNc(30,K,2,0,"th",4),t._uU(31,"\n                        "),t.YNc(32,H,2,1,"td",5),t._uU(33,"\n                    "),t.BQk(),t._uU(34,"\n                    "),t.ynx(35,7),t._uU(36,"\n                        "),t.YNc(37,W,2,0,"th",4),t._uU(38,"\n                        "),t.YNc(39,z,2,1,"td",5),t._uU(40,"\n                    "),t.BQk(),t._uU(41,"\n                    "),t.ynx(42,8),t._uU(43,"\n                        "),t.YNc(44,$,2,0,"th",4),t._uU(45,"\n                        "),t.YNc(46,X,2,1,"td",5),t._uU(47,"\n                    "),t.BQk(),t._uU(48,"\n                    "),t.ynx(49,9),t._uU(50,"\n                        "),t.YNc(51,V,2,0,"th",4),t._uU(52,"\n                        "),t.YNc(53,tt,3,4,"td",5),t._uU(54,"\n                    "),t.BQk(),t._uU(55,"\n                    "),t.ynx(56,10),t._uU(57,"\n                        "),t.YNc(58,nt,2,0,"th",4),t._uU(59,"\n                        "),t.YNc(60,et,2,1,"td",5),t._uU(61,"\n                    "),t.BQk(),t._uU(62,"\n                    "),t.ynx(63,11),t._uU(64,"\n                        "),t.YNc(65,ot,2,0,"th",4),t._uU(66,"\n                        "),t.YNc(67,ut,4,1,"td",5),t._uU(68,"\n                    "),t.BQk(),t._uU(69,"\n                    "),t.YNc(70,at,2,0,"tr",12),t._uU(71,"\n                    "),t.YNc(72,_t,2,0,"tr",13),t._uU(73,"\n                "),t.qZA(),t._uU(74,"\n            "),t.qZA(),t._uU(75,"\n        "),t.qZA(),t._uU(76,"\n    "),t.qZA(),t._uU(77,"\n\n    "),t.TgZ(78,"ct-section-footer"),t._uU(79,"\n        "),t.TgZ(80,"ct-section-footer-row"),t._uU(81,"\n            "),t.TgZ(82,"ct-flex",14),t._uU(83,"\n                "),t.TgZ(84,"ct-flex-item"),t._uU(85,"\n                    "),t.TgZ(86,"ct-flex",15),t._uU(87,"\n                        "),t.TgZ(88,"ct-table-pagination",16),t.NdJ("next",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.nextPage())})("prev",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.prevPage())}),t._uU(89,"\n                        "),t.qZA(),t._uU(90,"\n                    "),t.qZA(),t._uU(91,"\n                "),t.qZA(),t._uU(92,"\n\n                "),t.YNc(93,rt,8,1,"ng-container",0),t._uU(94,"\n            "),t.qZA(),t._uU(95,"\n        "),t.qZA(),t._uU(96,"\n    "),t.qZA(),t._uU(97,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(10),t.Q6J("ngIf",n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode)),t.xp6(7),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(51),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(16),t.Q6J("pageableDefault",n.accountsResult.accounts)("globalDisable",n.isLoading),t.xp6(5),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}let dt=(()=>{class e extends p.S{constructor(n,o,a){super(a),(0,c.Z)(this,"accountsService",void 0),(0,c.Z)(this,"dispatcherAssetModeService",void 0),(0,c.Z)(this,"authenticationService",void 0),(0,c.Z)(this,"dataSource",new l.by([])),(0,c.Z)(this,"columnsToDisplay",["id","isEnabled","login","publicName","createdOn","roles","bts"]),(0,c.Z)(this,"accountsResult",void 0),this.accountsService=n,this.dispatcherAssetModeService=o,this.authenticationService=a}ngOnInit(){this.updateTable(0)}updateTable(n){this.setIsLoadingStart(),this.accountsService.accounts(n.toString()).subscribe({next:o=>{this.accountsResult=o,this.dataSource=new l.by(this.accountsResult.accounts.content||[])},complete:()=>{this.setIsLoadingEnd()}})}nextPage(){this.updateTable(this.accountsResult.accounts.number+1)}prevPage(){this.updateTable(this.accountsResult.accounts.number-1)}}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g.i),t.Y36(D.F),t.Y36(d.$h))}),(0,c.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["accounts-view"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isEnabled"],["matColumnDef","login"],["matColumnDef","publicName"],["matColumnDef","createdOn"],["matColumnDef","roles"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","space-between"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","globalDisable","next","prev"],["theme","info"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary","wide","wide","routerLink","/dispatcher/accounts/add/",3,"disabled"]],template:function(n,o){1&n&&t.YNc(0,lt,98,8,"ct-section",0),2&n&&t.Q6J("ngIf",o.accountsResult)},dependencies:[_.O5,m.rH,h.U,U.n,f.V,A.R,L.a,T.i,C.Z,b.t,x.B,v.i,q._,Q.C,F.v,M.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.uU]})),e})();var I=i(535),mt=i(2199),y=i(3735),O=i(2379),S=i(5510),E=i(284),Z=i(9549);function gt(e,s){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Oqu(n)}}function pt(e,s){if(1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n      "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n          "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n          "),t.YNc(9,gt,2,1,"p",12),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.qZA(),t._uU(12,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let Zt=(()=>{class e{constructor(n,o){(0,c.Z)(this,"accountsService",void 0),(0,c.Z)(this,"router",void 0),(0,c.Z)(this,"states",I.C),(0,c.Z)(this,"currentStates",new Set),(0,c.Z)(this,"response",void 0),(0,c.Z)(this,"form",new u.cw({username:new u.NI("",[u.kI.required,u.kI.minLength(3)]),password:new u.NI("",[u.kI.required,u.kI.minLength(3)]),password2:new u.NI("",[u.kI.required,u.kI.minLength(3),a=>{const r=this.form;return r?r.value.password===a.value?null:{notSame:!0}:null}]),publicName:new u.NI("",[u.kI.required,u.kI.minLength(3)])})),this.accountsService=n,this.router=o}create(){this.currentStates.add(this.states.wait);const n=this.accountsService.addFormCommit(this.form.value).subscribe(o=>{o.status===mt.o.OK&&this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait),n.unsubscribe()})}}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(g.i),t.Y36(m.F0))}),(0,c.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-add"]],decls:109,vars:3,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline"],["type","text","matInput","matInput","autocomplete","off","formControlName","username"],["type","password","matInput","matInput","autocomplete","off","formControlName","password"],["type","password","matInput","matInput","autocomplete","off","formControlName","password2"],["type","text","matInput","matInput","autocomplete","off","formControlName","publicName"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button","routerLink","/dispatcher/accounts/"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t._uU(0,"\n"),t.TgZ(1,"ct-cols",0),t._uU(2,"\n  "),t.TgZ(3,"ct-col",1),t._uU(4,"\n    "),t.TgZ(5,"ct-section"),t._uU(6,"\n      "),t.TgZ(7,"ct-section-header"),t._uU(8,"\n        "),t.TgZ(9,"ct-section-header-row"),t._uU(10,"\n          "),t.TgZ(11,"ct-heading"),t._uU(12,"New Account"),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n      "),t.TgZ(16,"ct-section-body"),t._uU(17,"\n        "),t.TgZ(18,"ct-section-body-row"),t._uU(19,"\n          "),t.TgZ(20,"form",2),t._uU(21,"\n            "),t.TgZ(22,"ct-section-content"),t._uU(23,"\n              "),t.TgZ(24,"mat-form-field",3),t._uU(25,"\n                "),t.TgZ(26,"mat-label"),t._uU(27,"Username"),t.qZA(),t._uU(28,"\n                "),t._UZ(29,"input",4),t._uU(30,"\n                "),t.TgZ(31,"mat-hint"),t._uU(32,"This is a required field."),t.qZA(),t._uU(33,"\n              "),t.qZA(),t._uU(34,"\n            "),t.qZA(),t._uU(35,"\n            "),t.TgZ(36,"ct-section-content"),t._uU(37,"\n              "),t.TgZ(38,"mat-form-field",3),t._uU(39,"\n                "),t.TgZ(40,"mat-label"),t._uU(41,"Password"),t.qZA(),t._uU(42,"\n                "),t._UZ(43,"input",5),t._uU(44,"\n                "),t.TgZ(45,"mat-hint"),t._uU(46,"This is a required field."),t.qZA(),t._uU(47,"\n              "),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n            "),t.TgZ(50,"ct-section-content"),t._uU(51,"\n              "),t.TgZ(52,"mat-form-field",3),t._uU(53,"\n                "),t.TgZ(54,"mat-label"),t._uU(55,"Password again"),t.qZA(),t._uU(56,"\n                "),t._UZ(57,"input",6),t._uU(58,"\n                "),t.TgZ(59,"mat-hint"),t._uU(60,"This is a required field."),t.qZA(),t._uU(61,"\n              "),t.qZA(),t._uU(62,"\n            "),t.qZA(),t._uU(63,"\n            "),t.TgZ(64,"ct-section-content"),t._uU(65,"\n              "),t.TgZ(66,"mat-form-field",3),t._uU(67,"\n                "),t.TgZ(68,"mat-label"),t._uU(69,"Public name"),t.qZA(),t._uU(70,"\n                "),t._UZ(71,"input",7),t._uU(72,"\n                "),t.TgZ(73,"mat-hint"),t._uU(74,"This is a required field."),t.qZA(),t._uU(75,"\n              "),t.qZA(),t._uU(76,"\n            "),t.qZA(),t._uU(77,"\n          "),t.qZA(),t._uU(78,"\n        "),t.qZA(),t._uU(79,"\n      "),t.qZA(),t._uU(80,"\n      "),t.TgZ(81,"ct-section-footer"),t._uU(82,"\n        "),t.TgZ(83,"ct-section-footer-row"),t._uU(84,"\n          "),t.TgZ(85,"ct-flex",8),t._uU(86,"\n            "),t.TgZ(87,"ct-flex-item"),t._uU(88,"\n              "),t.TgZ(89,"button",9),t._uU(90,"Cancel"),t.qZA(),t._uU(91,"\n            "),t.qZA(),t._uU(92,"\n            "),t.TgZ(93,"ct-flex-item"),t._uU(94,"\n              "),t.TgZ(95,"button",10),t.NdJ("click",function(){return o.create()}),t._uU(96,"Create"),t.qZA(),t._uU(97,"\n            "),t.qZA(),t._uU(98,"\n          "),t.qZA(),t._uU(99,"\n        "),t.qZA(),t._uU(100,"\n      "),t.qZA(),t._uU(101,"\n    "),t.qZA(),t._uU(102,"\n  "),t.qZA(),t._uU(103,"\n  "),t.TgZ(104,"ct-col",1),t._uU(105,"\n    "),t.YNc(106,pt,13,2,"ct-section",11),t._uU(107,"\n  "),t.qZA(),t._uU(108,"\n"),t.qZA()),2&n&&(t.xp6(20),t.Q6J("formGroup",o.form),t.xp6(75),t.Q6J("disabled",o.currentStates.has(o.states.wait)||o.form.invalid),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[_.sg,_.O5,m.rH,y.a,h.U,U.n,f.V,A.R,O.t,S.W,T.i,C.Z,b.t,x.B,v.i,q._,M.lW,E.Nt,Z.KE,Z.hX,Z.bx,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),e})();var P=i(6709);function ht(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section-body-row",6),t._uU(1,"\n                    "),t.TgZ(2,"ct-section-content"),t._uU(3,"\n                        "),t.TgZ(4,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isManager=a)}),t._uU(5,"Manager"),t.qZA(),t._uU(6,"\n                    "),t.qZA(),t._uU(7,"\n                    "),t.TgZ(8,"ct-section-content"),t._uU(9,"\n                        "),t.TgZ(10,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isOperator=a)}),t._uU(11,"Operator"),t.qZA(),t._uU(12,"\n                    "),t.qZA(),t._uU(13,"\n                    "),t.TgZ(14,"ct-section-content"),t._uU(15,"\n                        "),t.TgZ(16,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isBilling=a)}),t._uU(17,"Billing"),t.qZA(),t._uU(18,"\n                    "),t.qZA(),t._uU(19,"\n                    "),t.TgZ(20,"ct-section-content"),t._uU(21,"\n                        "),t.TgZ(22,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isData=a)}),t._uU(23,"Data"),t.qZA(),t._uU(24,"\n                    "),t.qZA(),t._uU(25,"\n                    "),t.TgZ(26,"ct-section-content"),t._uU(27,"\n                        "),t.TgZ(28,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isServerRestAccess=a)}),t._uU(29,"Server Rest Access"),t.qZA(),t._uU(30,"\n                    "),t.qZA(),t._uU(31,"\n                    "),t.TgZ(32,"ct-section-content"),t._uU(33,"\n                        "),t.TgZ(34,"mat-checkbox",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw(2);return t.KtG(r.isAdmin=a)}),t._uU(35,"Admin"),t.qZA(),t._uU(36,"\n                    "),t.qZA(),t._uU(37,"\n                "),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("ngModel",n.isManager),t.xp6(6),t.Q6J("ngModel",n.isOperator),t.xp6(6),t.Q6J("ngModel",n.isBilling),t.xp6(6),t.Q6J("ngModel",n.isData),t.xp6(6),t.Q6J("ngModel",n.isServerRestAccess),t.xp6(6),t.Q6J("ngModel",n.isAdmin)}}function Ut(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.YNc(17,ht,38,6,"ct-section-body-row",2),t._uU(18,"\n            "),t.qZA(),t._uU(19,"\n            "),t.TgZ(20,"ct-section-footer"),t._uU(21,"\n                "),t.TgZ(22,"ct-section-footer-row"),t._uU(23,"\n                    "),t.TgZ(24,"ct-flex",3),t._uU(25,"\n                        "),t.TgZ(26,"ct-flex-item"),t._uU(27,"\n                            "),t.TgZ(28,"button",4),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.back())}),t._uU(29,"Cancel"),t.qZA(),t._uU(30,"\n                        "),t.qZA(),t._uU(31,"\n                        "),t.TgZ(32,"ct-flex-item"),t._uU(33,"\n                            "),t.TgZ(34,"button",5),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.save())}),t._uU(35,"Save"),t.qZA(),t._uU(36,"\n                        "),t.qZA(),t._uU(37,"\n                    "),t.qZA(),t._uU(38,"\n                "),t.qZA(),t._uU(39,"\n            "),t.qZA(),t._uU(40,"\n        "),t.qZA(),t._uU(41,"\n    "),t.qZA(),t._uU(42,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.AsE("\n                        Account Role id ",null==n.response.account?null:n.response.account.id,", login ",null==n.response.account?null:n.response.account.username,"\n                    "),t.xp6(6),t.Q6J("ngIf",n.response)}}let ft=(()=>{class e{constructor(n,o,a){(0,c.Z)(this,"router",void 0),(0,c.Z)(this,"route",void 0),(0,c.Z)(this,"accountsService",void 0),(0,c.Z)(this,"response",void 0),(0,c.Z)(this,"isManager",!1),(0,c.Z)(this,"isOperator",!1),(0,c.Z)(this,"isBilling",!1),(0,c.Z)(this,"isData",!1),(0,c.Z)(this,"isAdmin",!1),(0,c.Z)(this,"isServerRestAccess",!1),this.router=n,this.route=o,this.accountsService=a}ngOnInit(){this.accountsService.getAccount(this.route.snapshot.paramMap.get("accountId")).subscribe(n=>{this.response=n;const o=[];n.account.authorities.forEach(a=>o.push(a.authority)),this.isManager=o.includes(d.uU.ROLE_MANAGER),this.isOperator=o.includes(d.uU.ROLE_OPERATOR),this.isBilling=o.includes(d.uU.ROLE_BILLING),this.isData=o.includes(d.uU.ROLE_DATA),this.isAdmin=o.includes(d.uU.ROLE_ADMIN),this.isServerRestAccess=o.includes(d.uU.ROLE_SERVER_REST_ACCESS)})}save(){const n=[],o=this.route.snapshot.paramMap.get("accountId");this.isAdmin&&n.push(d.uU.ROLE_ADMIN),this.isBilling&&n.push(d.uU.ROLE_BILLING),this.isData&&n.push(d.uU.ROLE_DATA),this.isManager&&n.push(d.uU.ROLE_MANAGER),this.isOperator&&n.push(d.uU.ROLE_OPERATOR),this.isServerRestAccess&&n.push(d.uU.ROLE_SERVER_REST_ACCESS),this.accountsService.roleFormCommit(o,n.join(",")).subscribe(()=>{})}back(){this.router.navigate(["../.."],{relativeTo:this.route})}}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(g.i))}),(0,c.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-access"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["style","font-size:125%;",4,"ngIf"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[2,"font-size","125%"],[3,"ngModel","ngModelChange"]],template:function(n,o){1&n&&t.YNc(0,Ut,43,3,"ct-cols",0),2&n&&t.Q6J("ngIf",o.response)},dependencies:[_.O5,y.a,h.U,U.n,f.V,A.R,O.t,S.W,T.i,C.Z,b.t,x.B,v.i,q._,M.lW,P.oG,u.JJ,u.On]})),e})();function At(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ct-section-body"),t._uU(1,"\n                "),t.TgZ(2,"ct-section-body-row"),t._uU(3,"\n                    "),t.TgZ(4,"ct-section-content"),t._uU(5,"\n                        "),t.TgZ(6,"mat-form-field",6),t._uU(7,"\n                            "),t.TgZ(8,"mat-label"),t._uU(9,"Public Name"),t.qZA(),t._uU(10,"\n                            "),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw();return t.KtG(r.account.publicName=a)}),t.qZA(),t._uU(12,"\n                        "),t.qZA(),t._uU(13,"\n                    "),t.qZA(),t._uU(14,"\n                    "),t.TgZ(15,"ct-section-content"),t._uU(16,"\n                        "),t.TgZ(17,"mat-checkbox",8),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw();return t.KtG(r.account.enabled=a)}),t._uU(18,"Is account enabled?"),t.qZA(),t._uU(19,"\n                    "),t.qZA(),t._uU(20,"\n                "),t.qZA(),t._uU(21,"\n            "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.Q6J("ngModel",n.account.publicName),t.xp6(6),t.Q6J("ngModel",n.account.enabled)}}function Tt(e,s){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Oqu(n)}}function Ct(e,s){if(1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n            "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n                "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n                    "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n                    "),t.YNc(9,Tt,2,1,"p",9),t._uU(10,"\n                "),t.qZA(),t._uU(11,"\n            "),t.qZA(),t._uU(12,"\n        "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let bt=(()=>{class e{constructor(n,o,a,r){(0,c.Z)(this,"route",void 0),(0,c.Z)(this,"router",void 0),(0,c.Z)(this,"accountsService",void 0),(0,c.Z)(this,"location",void 0),(0,c.Z)(this,"states",I.C),(0,c.Z)(this,"currentStates",new Set),(0,c.Z)(this,"response",void 0),(0,c.Z)(this,"account",void 0),this.route=n,this.router=o,this.accountsService=a,this.location=r}ngOnInit(){this.currentStates.add(this.states.firstLoading),this.getAccount()}getAccount(){const n=this.route.snapshot.paramMap.get("id");this.accountsService.getAccount(n).subscribe(o=>{this.account=o.account},()=>{},()=>{this.currentStates.delete(this.states.firstLoading)})}back(){this.location.back()}save(){this.currentStates.add(this.states.wait),this.accountsService.editFormCommit(this.account.id.toString(),this.account.publicName,this.account.enabled).subscribe(n=>{this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait)})}}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(g.i),t.Y36(_.Ye))}),(0,c.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-edit"]],decls:45,vars:5,consts:[["align-items","baseline"],["size","6"],[4,"ngIf"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],["appearance","outline"],["matInput","matInput",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"ct-cols",0),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.YNc(15,At,22,2,"ct-section-body",2),t._uU(16,"\n            "),t.TgZ(17,"ct-section-footer"),t._uU(18,"\n                "),t.TgZ(19,"ct-section-footer-row"),t._uU(20,"\n                    "),t.TgZ(21,"ct-flex",3),t._uU(22,"\n                        "),t.TgZ(23,"ct-flex-item"),t._uU(24,"\n                            "),t.TgZ(25,"button",4),t.NdJ("click",function(){return o.back()}),t._uU(26,"Cancel"),t.qZA(),t._uU(27,"\n                        "),t.qZA(),t._uU(28,"\n                        "),t.TgZ(29,"ct-flex-item"),t._uU(30,"\n                            "),t.TgZ(31,"button",5),t.NdJ("click",function(){return o.save()}),t._uU(32,"Save"),t.qZA(),t._uU(33,"\n                        "),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n        "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n    "),t.TgZ(40,"ct-col",1),t._uU(41,"\n        "),t.YNc(42,Ct,13,2,"ct-section",2),t._uU(43,"\n    "),t.qZA(),t._uU(44,"\n"),t.qZA()),2&n&&(t.xp6(11),t.AsE("Edit Account ",o.account?o.account.username:""," (",o.account?o.account.publicName:"",")\n                    "),t.xp6(4),t.Q6J("ngIf",!o.currentStates.has(o.states.firstLoading)),t.xp6(16),t.Q6J("disabled",o.currentStates.has(o.states.wait)),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[_.sg,_.O5,y.a,h.U,U.n,f.V,A.R,O.t,S.W,T.i,C.Z,b.t,x.B,v.i,q._,M.lW,P.oG,E.Nt,Z.KE,Z.hX,u.Fj,u.JJ,u.On],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),e})();function xt(e,s){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Oqu(n)}}function vt(e,s){if(1&e&&(t.TgZ(0,"ct-section"),t._uU(1,"\n      "),t.TgZ(2,"ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n          "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n          "),t.YNc(9,xt,2,1,"p",10),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.qZA(),t._uU(12,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let qt=(()=>{class e{constructor(n,o,a,r){(0,c.Z)(this,"route",void 0),(0,c.Z)(this,"router",void 0),(0,c.Z)(this,"accountsService",void 0),(0,c.Z)(this,"location",void 0),(0,c.Z)(this,"states",I.C),(0,c.Z)(this,"currentStates",new Set),(0,c.Z)(this,"response",void 0),(0,c.Z)(this,"account",void 0),(0,c.Z)(this,"form",new u.cw({password:new u.NI("",[u.kI.required,u.kI.minLength(3)]),password2:new u.NI("",[u.kI.required,u.kI.minLength(3),Ot=>{const k=this.form;return k?k.value.password===Ot.value?null:{notSame:!0}:null}])})),this.route=n,this.router=o,this.accountsService=a,this.location=r}ngOnInit(){this.currentStates.add(this.states.firstLoading),this.getAccount()}back(){this.location.back()}getAccount(){const n=this.route.snapshot.paramMap.get("id");this.accountsService.getAccount(n).subscribe(o=>{this.account=o.account},()=>{},()=>{this.currentStates.delete(this.states.firstLoading)})}save(){this.currentStates.add(this.states.wait),this.accountsService.passwordEditFormCommit(this.account.id.toString(),this.form.value.password,this.form.value.password2).subscribe(n=>{this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait)})}}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(g.i),t.Y36(_.Ye))}),(0,c.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["account-edit-pass"]],decls:75,vars:5,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline"],["matInput","matInput","type","password","autocomplete","off","formControlName","password"],["matInput","matInput","type","password","autocomplete","off","formControlName","password2"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t._uU(0,"\n"),t.TgZ(1,"ct-cols",0),t._uU(2,"\n  "),t.TgZ(3,"ct-col",1),t._uU(4,"\n    "),t.TgZ(5,"ct-section"),t._uU(6,"\n      "),t.TgZ(7,"ct-section-header"),t._uU(8,"\n        "),t.TgZ(9,"ct-section-header-row"),t._uU(10,"\n          "),t.TgZ(11,"ct-heading"),t._uU(12),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n      "),t.TgZ(16,"ct-section-body"),t._uU(17,"\n        "),t.TgZ(18,"ct-section-body-row"),t._uU(19,"\n          "),t.TgZ(20,"form",2),t._uU(21,"\n            "),t.TgZ(22,"ct-section-content"),t._uU(23,"\n              "),t.TgZ(24,"mat-form-field",3),t._uU(25," \n                "),t.TgZ(26,"mat-label"),t._uU(27,"Password"),t.qZA(),t._uU(28,"\n                "),t._UZ(29,"input",4),t._uU(30,"\n              "),t.qZA(),t._uU(31,"\n            "),t.qZA(),t._uU(32,"\n            "),t.TgZ(33,"ct-section-content"),t._uU(34,"\n              "),t.TgZ(35,"mat-form-field",3),t._uU(36," \n                "),t.TgZ(37,"mat-label"),t._uU(38,"Password again"),t.qZA(),t._uU(39,"\n                "),t._UZ(40,"input",5),t._uU(41,"\n              "),t.qZA(),t._uU(42,"\n            "),t.qZA(),t._uU(43,"\n          "),t.qZA(),t._uU(44,"\n        "),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n      "),t.TgZ(47,"ct-section-footer"),t._uU(48,"\n        "),t.TgZ(49,"ct-section-footer-row"),t._uU(50,"\n          "),t.TgZ(51,"ct-flex",6),t._uU(52,"\n            "),t.TgZ(53,"ct-flex-item"),t._uU(54,"\n              "),t.TgZ(55,"button",7),t.NdJ("click",function(){return o.back()}),t._uU(56,"Cancel"),t.qZA(),t._uU(57,"\n            "),t.qZA(),t._uU(58,"\n            "),t.TgZ(59,"ct-flex-item"),t._uU(60,"\n              "),t.TgZ(61,"button",8),t.NdJ("click",function(){return o.save()}),t._uU(62,"Save"),t.qZA(),t._uU(63,"\n            "),t.qZA(),t._uU(64,"\n          "),t.qZA(),t._uU(65,"\n        "),t.qZA(),t._uU(66,"\n      "),t.qZA(),t._uU(67,"\n    "),t.qZA(),t._uU(68,"\n  "),t.qZA(),t._uU(69,"\n  "),t.TgZ(70,"ct-col",1),t._uU(71,"\n    "),t.YNc(72,vt,13,2,"ct-section",9),t._uU(73,"\n  "),t.qZA(),t._uU(74,"\n"),t.qZA()),2&n&&(t.xp6(12),t.AsE("Edit Account ",o.account?o.account.username:""," (",o.account?o.account.publicName:"",")"),t.xp6(8),t.Q6J("formGroup",o.form),t.xp6(41),t.Q6J("disabled",o.currentStates.has(o.states.wait)||o.form.invalid),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[_.sg,_.O5,y.a,h.U,U.n,f.V,A.R,O.t,S.W,T.i,C.Z,b.t,x.B,v.i,q._,M.lW,E.Nt,Z.KE,Z.hX,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),e})();var Mt=i(6423),wt=i(1623);const R=[{path:"",component:dt},{path:"add",component:Zt,data:{backConfig:["../"]}},{path:"access/:accountId",component:ft,data:{backConfig:["../","../"]}},{path:"edit/:id",component:bt,data:{backConfig:["../","../"]}},{path:"edit-password/:id",component:qt,data:{backConfig:["../","../"]}}];let J=(()=>{class e{}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,c.Z)(e,"\u0275mod",t.oAB({type:e})),(0,c.Z)(e,"\u0275inj",t.cJS({imports:[m.Bz.forChild(R),m.Bz]})),e})(),yt=(()=>{class e{}return(0,c.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,c.Z)(e,"\u0275mod",t.oAB({type:e})),(0,c.Z)(e,"\u0275inj",t.cJS({imports:[_.ez,J,wt.E,Mt.$,u.u5,u.UX,N.aw.forChild({})]})),e})()},7530:(Y,w,i)=>{i.d(w,{a:()=>N});var c=i(1180),_=i(4650),u=i(1572);const m=["*"];let N=(()=>{class l{constructor(p){(0,c.Z)(this,"changeDetector",void 0),(0,c.Z)(this,"isWaiting",void 0),(0,c.Z)(this,"state",{wait:!1}),(0,c.Z)(this,"isFnMode",void 0),this.changeDetector=p}ngOnInit(){void 0===this.isWaiting?this.isFnMode=!0:(this.isFnMode=!1,this.state.wait=this.isWaiting)}ngOnDestroy(){this.changeDetector.detach()}ngOnChanges(){this.isFnMode||(this.state.wait=this.isWaiting)}wait(){this.isFnMode&&(this.state.wait=!0,this.changeDetector.destroyed||this.changeDetector.detectChanges())}show(){this.isFnMode&&(this.state.wait=!1,this.changeDetector.destroyed||this.changeDetector.detectChanges())}}return(0,c.Z)(l,"\u0275fac",function(p){return new(p||l)(_.Y36(_.sBO))}),(0,c.Z)(l,"\u0275cmp",_.Xpm({type:l,selectors:[["ct-table"]],inputs:{isWaiting:"isWaiting"},features:[_.TTD],ngContentSelectors:m,decls:12,vars:2,consts:[[1,"ct-table"],[1,"ct-table__body"],[1,"ct-table__wait"]],template:function(p,d){1&p&&(_.F$t(),_.TgZ(0,"div",0),_._uU(1,"\n    "),_.TgZ(2,"div",1),_._uU(3,"\n        "),_.Hsn(4),_._uU(5,"\n    "),_.qZA(),_._uU(6,"\n    "),_.TgZ(7,"div",2),_._uU(8,"\n        "),_._UZ(9,"mat-spinner"),_._uU(10,"\n    "),_.qZA(),_._uU(11,"\n"),_.qZA()),2&p&&_.ekj("ct-table--wait",d.state.wait)},dependencies:[u.Ou],styles:["[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow-y:auto}[_nghost-%COMP%]     .mat-table{width:100%;border-collapse:collapse;background:none}[_nghost-%COMP%]     .mat-header-row{height:auto}[_nghost-%COMP%]     .mat-header-cell, [_nghost-%COMP%]     .mat-cell, [_nghost-%COMP%]     .mat-footer-cell{border-bottom-width:1px;border-bottom-style:solid;border-top-width:1px;border-top-style:solid;padding:9px;font-family:sans-serif;font-size:14.94px;line-height:18px}[_nghost-%COMP%]     .mat-header-cell{white-space:nowrap;font-weight:700;vertical-align:baseline;color:inherit}[_nghost-%COMP%]     .mat-cell{vertical-align:baseline}[_nghost-%COMP%]     .mat-header-cell:first-child, [_nghost-%COMP%]     .mat-cell:first-child{padding-left:9px}[_nghost-%COMP%]     .mat-header-cell:last-child, [_nghost-%COMP%]     .mat-cell:last-child{padding-right:9px}[_nghost-%COMP%]     .mat-row{height:auto}.light-theme[_nghost-%COMP%]     .mat-header-cell, .light-theme   [_nghost-%COMP%]     .mat-header-cell, .light-theme[_nghost-%COMP%]     .mat-cell, .light-theme   [_nghost-%COMP%]     .mat-cell, .light-theme[_nghost-%COMP%]     .mat-footer-cell, .light-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#f0f0f0;border-bottom-color:#f0f0f0}.dark-theme[_nghost-%COMP%]     .mat-header-cell, .dark-theme   [_nghost-%COMP%]     .mat-header-cell, .dark-theme[_nghost-%COMP%]     .mat-cell, .dark-theme   [_nghost-%COMP%]     .mat-cell, .dark-theme[_nghost-%COMP%]     .mat-footer-cell, .dark-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#474747;border-bottom-color:#474747}.ct-table[_ngcontent-%COMP%]{position:relative}.ct-table__wait[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background-color:#ffffff1a;overflow:hidden}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__body[_ngcontent-%COMP%]{opacity:.5}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__wait[_ngcontent-%COMP%]{display:flex}"]})),l})()}}]);