"use strict";(self.webpackChunkmetaheuristic_app=self.webpackChunkmetaheuristic_app||[]).push([[614],{9272:(Mt,$,d)=>{d.d($,{K:()=>M});var l=d(1180),f=d(5938),y=d(4128),F=d(2026),p=d(4650),q=d(4859);let u=(()=>{class Z{constructor(E,x){(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"data",void 0),this.dialogRef=E,this.data=x}onNoClick(){this.dialogRef.close(0)}onYesClick(){this.dialogRef.close(1)}getTheme(E){let x=F.C.isNull(E)?"warn":E;return console.log("theme, actualTheme: ",E,x),x}}return(0,l.Z)(Z,"\u0275fac",function(E){return new(E||Z)(p.Y36(f.so),p.Y36(f.WI))}),(0,l.Z)(Z,"\u0275cmp",p.Xpm({type:Z,selectors:[["app-dialog-confirmation"]],decls:14,vars:4,consts:[[1,"mat-dialog-content"],[1,"mat-dialog-actions"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button",3,"color","click"]],template:function(E,x){1&E&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"p"),p._uU(3),p.qZA(),p._uU(4,"\n"),p.qZA(),p._uU(5,"\n"),p.TgZ(6,"div",1),p._uU(7,"\n  "),p.TgZ(8,"button",2),p.NdJ("click",function(){return x.onNoClick()}),p._uU(9),p.qZA(),p._uU(10,"\n  "),p.TgZ(11,"button",3),p.NdJ("click",function(){return x.onYesClick()}),p._uU(12),p.qZA(),p._uU(13,"\n"),p.qZA()),2&E&&(p.xp6(3),p.Oqu(x.data.question),p.xp6(6),p.Oqu(x.data.rejectTitle),p.xp6(2),p.s9C("color",x.getTheme(x.data.theme)),p.xp6(1),p.Oqu(x.data.resolveTitle))},dependencies:[q.lW],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:8px}.mat-dialog-action[_ngcontent-%COMP%]{flex:1;margin:0 8px}.mat-dialog-action[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.mat-dialog-content[_ngcontent-%COMP%]{max-height:-moz-max-content!important;max-height:max-content!important;overflow:hidden!important;margin:8px}"]})),Z})();function M(Z){return function(E,x,t){const Ct=t.value;return t.value=function(...v){let I={text:"",params:!1};"string"==typeof Z.question(...v)?I.text=Z.question(...v):I=Z.question(...v),this.dialog||function G(){throw new Error("\ncomponent require MatDialog\n\nimport { MatDialog } from '@angular/material';\n...\nconstructor(\n    ...\n    private dialog: MatDialog\n    ...\n) {}\n                ")}(),I.params&&!this.translate&&function _(){throw new Error("\ncomponent require TranslateService\n\nimport { TranslateService } from '@ngx-translate/core';\n...\nconstructor(\n    ...\n    private translate: TranslateService\n    ...\n) {}\n                ")}();let z=F.C.isNull(Z.theme)?"warn":Z.theme;this.translate?(0,y.D)(this.translate.get(I.text,I.params),this.translate.get(Z.resolveTitle),this.translate.get(Z.rejectTitle),this.translate.get(z)).subscribe(R=>{this.dialog.open(u,{width:"500px",data:{question:R[0],resolveTitle:R[1],rejectTitle:R[2],theme:R[3]}}).afterClosed().subscribe(H=>{H&&Ct.apply(this,v)})}):this.dialog.open(u,{width:"500px",data:{question:I.text,resolveTitle:Z.resolveTitle,rejectTitle:Z.rejectTitle,theme:z}}).afterClosed().subscribe(R=>{R&&Ct.apply(this,v)})},t}}},4853:(Mt,$,d)=>{d.d($,{Q:()=>F});var l=d(1180),f=d(4650);const y=["*"];let F=(()=>{class p{constructor(){}ngOnInit(){}}return(0,l.Z)(p,"\u0275fac",function(u){return new(u||p)}),(0,l.Z)(p,"\u0275cmp",f.Xpm({type:p,selectors:[["ct-pre"]],ngContentSelectors:y,decls:1,vars:0,template:function(u,M){1&u&&(f.F$t(),f.Hsn(0))},styles:["[_nghost-%COMP%]{display:block;font-family:sans-serif;padding:0;font-size:12px;line-height:1.6;word-break:break-word;white-space:pre-wrap}[overflow-x=auto][_nghost-%COMP%]{overflow-x:auto}"]})),p})()},7530:(Mt,$,d)=>{d.d($,{a:()=>p});var l=d(1180),f=d(4650),y=d(1572);const F=["*"];let p=(()=>{class q{constructor(M){(0,l.Z)(this,"changeDetector",void 0),(0,l.Z)(this,"isWaiting",void 0),(0,l.Z)(this,"state",{wait:!1}),(0,l.Z)(this,"isFnMode",void 0),this.changeDetector=M}ngOnInit(){void 0===this.isWaiting?this.isFnMode=!0:(this.isFnMode=!1,this.state.wait=this.isWaiting)}ngOnDestroy(){this.changeDetector.detach()}ngOnChanges(){this.isFnMode||(this.state.wait=this.isWaiting)}wait(){this.isFnMode&&(this.state.wait=!0,this.changeDetector.destroyed||this.changeDetector.detectChanges())}show(){this.isFnMode&&(this.state.wait=!1,this.changeDetector.destroyed||this.changeDetector.detectChanges())}}return(0,l.Z)(q,"\u0275fac",function(M){return new(M||q)(f.Y36(f.sBO))}),(0,l.Z)(q,"\u0275cmp",f.Xpm({type:q,selectors:[["ct-table"]],inputs:{isWaiting:"isWaiting"},features:[f.TTD],ngContentSelectors:F,decls:12,vars:2,consts:[[1,"ct-table"],[1,"ct-table__body"],[1,"ct-table__wait"]],template:function(M,G){1&M&&(f.F$t(),f.TgZ(0,"div",0),f._uU(1,"\n    "),f.TgZ(2,"div",1),f._uU(3,"\n        "),f.Hsn(4),f._uU(5,"\n    "),f.qZA(),f._uU(6,"\n    "),f.TgZ(7,"div",2),f._uU(8,"\n        "),f._UZ(9,"mat-spinner"),f._uU(10,"\n    "),f.qZA(),f._uU(11,"\n"),f.qZA()),2&M&&f.ekj("ct-table--wait",G.state.wait)},dependencies:[y.Ou],styles:["[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow-y:auto}[_nghost-%COMP%]     .mat-table{width:100%;border-collapse:collapse;background:none}[_nghost-%COMP%]     .mat-header-row{height:auto}[_nghost-%COMP%]     .mat-header-cell, [_nghost-%COMP%]     .mat-cell, [_nghost-%COMP%]     .mat-footer-cell{border-bottom-width:1px;border-bottom-style:solid;border-top-width:1px;border-top-style:solid;padding:9px;font-family:sans-serif;font-size:14.94px;line-height:18px}[_nghost-%COMP%]     .mat-header-cell{white-space:nowrap;font-weight:700;vertical-align:baseline;color:inherit}[_nghost-%COMP%]     .mat-cell{vertical-align:baseline}[_nghost-%COMP%]     .mat-header-cell:first-child, [_nghost-%COMP%]     .mat-cell:first-child{padding-left:9px}[_nghost-%COMP%]     .mat-header-cell:last-child, [_nghost-%COMP%]     .mat-cell:last-child{padding-right:9px}[_nghost-%COMP%]     .mat-row{height:auto}.light-theme[_nghost-%COMP%]     .mat-header-cell, .light-theme   [_nghost-%COMP%]     .mat-header-cell, .light-theme[_nghost-%COMP%]     .mat-cell, .light-theme   [_nghost-%COMP%]     .mat-cell, .light-theme[_nghost-%COMP%]     .mat-footer-cell, .light-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#f0f0f0;border-bottom-color:#f0f0f0}.dark-theme[_nghost-%COMP%]     .mat-header-cell, .dark-theme   [_nghost-%COMP%]     .mat-header-cell, .dark-theme[_nghost-%COMP%]     .mat-cell, .dark-theme   [_nghost-%COMP%]     .mat-cell, .dark-theme[_nghost-%COMP%]     .mat-footer-cell, .dark-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#474747;border-bottom-color:#474747}.ct-table[_ngcontent-%COMP%]{position:relative}.ct-table__wait[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background-color:#ffffff1a;overflow:hidden}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__body[_ngcontent-%COMP%]{opacity:.5}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__wait[_ngcontent-%COMP%]{display:flex}"]})),q})()},4440:(Mt,$,d)=>{d.r($),d.d($,{ScenarioGroupRoutingModule:()=>ke,ScenarioModule:()=>ll,ScenarioRoutes:()=>Ne});var l=d(1180),f=d(6895),y=d(9299),F=d(3081),p=d(1623),q=d(6423),u=d(4006),M=d(5126),G=d(3788),_=d(3626),Z=d(8318),k=d(9272),E=d(2340),x=d(7528),t=d(4650),Ct=d(529);const v=n=>`${E.N.baseUrl}dispatcher/scenario/${n}`;let I=(()=>{class n{constructor(e){(0,l.Z)(this,"http",void 0),(0,l.Z)(this,"scenarios",(i,o)=>this.http.get(v(`scenarios/${o}`),{params:{page:i}})),this.http=e}getScenarioGroups(e){let i=v("scenario-groups");return console.log("ScenarioService.newUrl: "+i),this.http.get(i,{params:{page:e}})}scenarioSteps(e,i){return this.http.get(v(`scenarios/${e}/scenario/${i}/steps`))}querySourceCodeId(e,i){return this.http.get(v(`scenarios/${e}/scenario/${i}/sourceCodeId`))}scenarioGroupDeleteCommit(e){return console.log("Delete Scenario Group #"+e),this.http.post(v("scenario-group-delete-commit"),(0,x.P)({scenarioGroupId:e}))}addScenarioGroupFormCommit(e,i){return this.http.post(v("scenario-group-add-commit"),(0,x.P)({name:e,description:i}))}addScenarioFormCommit(e,i,o){return this.http.post(v("scenario-add-commit"),(0,x.P)({scenarioGroupId:e,name:i,description:o}))}addOrSaveScenarioStepFormCommit(e,i,o,r,a,c,g,h,b,C,Y,vt){const At=r;return this.http.post(v("scenario-step-add-change-commit"),(0,x.P)({scenarioGroupId:e,scenarioId:i,uuid:o,parentUuid:At,name:a,prompt:c,apiId:g,resultCode:h,functionCode:b,expected:vt,aggregateType:C,cachable:Y}))}scenarioDeleteCommit(e){return console.log("Delete Scenario #"+e),this.http.post(v("scenario-delete-commit"),(0,x.P)({scenarioId:e}))}runScenario(e,i){return console.log("Run Scenario #"+i),this.http.post(v("scenario-run"),(0,x.P)({scenarioGroupId:e,scenarioId:i}))}scenarioAdd(){return this.http.get(v("scenario-add"))}scenarioStepAdd(){return this.http.get(v("scenario-step-add"))}prepareStepForEvaluation(e,i){return this.http.get(v(`scenario-step-evaluation-prepare/${e}/${i}`))}scenarioStepDeleteCommit(e,i){return console.log("Delete ScenarioStep #"+e+", uuid: "+i),this.http.post(v("scenario-step-delete-commit"),(0,x.P)({scenarioId:e,uuid:i}))}scenarioStepRearrangeTable(e,i,o){return console.log("scenarioStepRearrangeTable #"+e+", prev: "+i+", curr: "+o),this.http.post(v("scenario-step-rearrange"),(0,x.P)({scenarioId:e,prev:i,curr:o}))}copyScenario(e,i){return console.log("Run Scenario #"+i),this.http.post(v("scenario-copy"),(0,x.P)({scenarioGroupId:e,scenarioId:i}))}updateScenarioInfoFormCommit(e,i,o,r){return this.http.post(v("scenario-update-info-commit"),(0,x.P)({scenarioGroupId:e,scenarioId:i,name:o,description:r}))}runStepEvaluation(e,i){console.log("runStepEvaluation Scenario #"+e+", uuid: "+i.uuid);let o=JSON.stringify(i);return this.http.post(v(`scenario-step-evaluation-run/${e}/${i.uuid}`),(0,x.P)({stepEvaluation:o}))}acceptNewPromptForStep(e,i,o){return this.http.post(v(`accept-new-prompt-for-step/${e}/${i}`),(0,x.P)({newPrompt:o}))}}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)(t.LFG(Ct.eN))}),(0,l.Z)(n,"\u0275prov",t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();var z=d(5938),R=d(1439),H=d(9185),rt=d(6890),lt=d(2555),Gt=d(7530),K=d(6264),W=d(305),X=d(5014),tt=d(8868),et=d(3370),nt=d(9863),Ht=d(7824),L=d(4859),St=d(7392),It=function(n,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,s)};function Ye(n,s){1&n&&t.GkF(0)}function Pe(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",2),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Scenario groups"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-flex",3),t._uU(16,"\n                "),t.TgZ(17,"ct-flex-item"),t._uU(18,"\n                    "),t.TgZ(19,"button",4),t._uU(20,"Add Scenario Group"),t.qZA(),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n    "),t.TgZ(26,"ct-section-body"),t._uU(27,"\n        "),t.TgZ(28,"ct-section-body-row"),t._uU(29,"\n            "),t.YNc(30,Ye,1,0,"ng-container",5),t._uU(31,"\n        "),t.qZA(),t._uU(32,"\n    "),t.qZA(),t._uU(33,"\n    "),t.TgZ(34,"ct-section-footer"),t._uU(35,"\n        "),t.TgZ(36,"ct-section-footer-row"),t._uU(37,"\n            "),t.TgZ(38,"ct-flex",2),t._uU(39,"\n                "),t.TgZ(40,"ct-flex-item"),t._uU(41,"\n                    "),t.TgZ(42,"ct-flex",6),t._uU(43,"\n                        "),t.TgZ(44,"ct-table-pagination",7),t.NdJ("next",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextPage())})("prev",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.prevPage())}),t._uU(45,"\n                        "),t.qZA(),t._uU(46,"\n                    "),t.qZA(),t._uU(47,"\n                "),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n        "),t.qZA(),t._uU(50,"\n    "),t.qZA(),t._uU(51,"\n"),t.qZA()}if(2&n){const e=t.oxw(),i=t.MAs(3);t.xp6(30),t.Q6J("ngTemplateOutlet",i),t.xp6(14),t.Q6J("pageableDefault",e.simpleScenarioGroupsResult.scenarioGroups)("globalDisable",e.isLoading)}}function Qe(n,s){1&n&&(t.TgZ(0,"th",19),t._uU(1,"ScenarioGroupId"),t.qZA())}function je(n,s){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.scenarioGroupId," ")}}function $e(n,s){1&n&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("\n                    ",t.lcZ(2,1,"main.CreatedOn"),"\n                "))}function He(n,s){if(1&n&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("\n                    ",t.xi3(2,1,e.createdOn,"MMM d, yyyy, HH:mm"),"\n                ")}}function Ve(n,s){1&n&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"br"),t._uU(4),t.ALo(5,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("\n                    ",t.lcZ(2,2,"main.Name"),""),t.xp6(3),t.hij("\n                    ",t.lcZ(5,4,"main.Description"),"\n                "))}function Je(n,s){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("\n                    ",e.name,""),t.xp6(2),t.hij("\n                    ",e.description,"\n                ")}}function ze(n,s){1&n&&t._UZ(0,"th",19)}const Ke=function(n){return["../scenario",n,"scenarios"]};function We(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td",21),t._uU(1,"\n                    "),t.TgZ(2,"ct-flex",22),t._uU(3,"\n                        "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                            "),t.TgZ(6,"button",23),t._uU(7,"Scenarios"),t.qZA(),t._uU(8,"\n                        "),t.qZA(),t._uU(9,"\n                        "),t.TgZ(10,"ct-flex-item"),t._uU(11,"\n                            "),t.TgZ(12,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.delete(r))}),t._uU(13,"\n                                "),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA(),t._uU(16,"\n                            "),t.qZA(),t._uU(17,"\n                        "),t.qZA(),t._uU(18,"\n                    "),t.qZA(),t._uU(19,"\n                "),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(1,Ke,e.scenarioGroupId))}}function Xe(n,s){1&n&&t._UZ(0,"tr",25)}function tn(n,s){1&n&&t._UZ(0,"tr",26)}function en(n,s){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"ct-table",8),t._uU(2,"\n        "),t.TgZ(3,"table",9),t._uU(4,"\n            "),t.ynx(5,10),t._uU(6,"\n                "),t.YNc(7,Qe,2,0,"th",11),t._uU(8,"\n                "),t.YNc(9,je,2,1,"td",12),t._uU(10,"\n            "),t.BQk(),t._uU(11,"\n            "),t.ynx(12,13),t._uU(13,"\n                "),t.YNc(14,$e,3,3,"th",11),t._uU(15,"\n                "),t.YNc(16,He,3,4,"td",14),t._uU(17,"\n            "),t.BQk(),t._uU(18,"\n            "),t.ynx(19,15),t._uU(20,"\n                "),t.YNc(21,Ve,6,6,"th",11),t._uU(22,"\n                "),t.YNc(23,Je,4,2,"td",12),t._uU(24,"\n            "),t.BQk(),t._uU(25,"\n            "),t.ynx(26,16),t._uU(27,"\n                "),t.YNc(28,ze,1,0,"th",11),t._uU(29,"\n                "),t.YNc(30,We,20,3,"td",14),t._uU(31,"\n            "),t.BQk(),t._uU(32,"\n            "),t.YNc(33,Xe,1,0,"tr",17),t._uU(34,"\n            "),t.YNc(35,tn,1,0,"tr",18),t._uU(36,"\n        "),t.qZA(),t._uU(37,"\n    "),t.qZA(),t._uU(38,"\n")),2&n){const e=t.oxw();t.xp6(1),t.Q6J("isWaiting",e.isLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.columnsToDisplay)}}class at extends Z.S{constructor(s,e,i){super(e),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"columnsToDisplay",["scenarioGroupId","createdOn","name","bts"]),(0,l.Z)(this,"simpleScenarioGroupsResult",void 0),(0,l.Z)(this,"dataSource",new _.by([])),this.dialog=s,this.authenticationService=e,this.scenarioService=i}ngOnInit(){console.log("scenario-groups.component.ts.ngOnInit()"),this.getScenarioGroups(0)}getScenarioGroups(s){this.setIsLoadingStart(),this.scenarioService.getScenarioGroups(s.toString()).subscribe({next:e=>{this.simpleScenarioGroupsResult=e,this.dataSource=new _.by(this.simpleScenarioGroupsResult.scenarioGroups.content||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(s){this.scenarioService.scenarioGroupDeleteCommit(s.scenarioGroupId.toString()).subscribe(e=>this.getScenarioGroups(this.simpleScenarioGroupsResult.scenarioGroups.number))}prevPage(){this.getScenarioGroups(this.simpleScenarioGroupsResult.scenarioGroups.number-1)}nextPage(){this.getScenarioGroups(this.simpleScenarioGroupsResult.scenarioGroups.number+1)}}(0,l.Z)(at,"\u0275fac",function(s){return new(s||at)(t.Y36(z.uw),t.Y36(G.$h),t.Y36(I))}),(0,l.Z)(at,"\u0275cmp",t.Xpm({type:at,selectors:[["scenario-groups"]],features:[t.qOj],decls:5,vars:1,consts:[[4,"ngIf"],["mainTableTemplate",""],["justify-content","space-between"],["justify-content","flex-end"],["mat-flat-button","mat-flat-button","color","primary","routerLink","scenario-group-add"],[4,"ngTemplateOutlet"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","globalDisable","next","prev"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","scenarioGroupId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","createdOn"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","mat-cell"],["mat-cell",""],["justify-content","flex-end","gap","8px"],["mat-flat-button","","color","primary","size","forTableRow",3,"routerLink"],["mat-flat-button","","color","warn","size","forTableRow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,e){1&s&&(t.YNc(0,Pe,52,3,"ct-section",0),t._uU(1,"\n\n\n\n"),t.YNc(2,en,39,4,"ng-template",null,1,t.W1O),t._uU(4,"\n\n\n")),2&s&&t.Q6J("ngIf",e.simpleScenarioGroupsResult)},dependencies:[f.O5,f.tP,y.rH,R.U,H.n,rt.V,lt.R,Gt.a,K.i,W.Z,X.t,tt.B,et.i,nt._,Ht.C,L.lW,St.Hw,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,f.uU,F.X$]})),function(n,s,e,i){var a,o=arguments.length,r=o<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,s,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(r=(o<3?a(r):o>3?a(s,e,r):a(s,e))||r);o>3&&r&&Object.defineProperty(s,e,r)}([(0,k.K)({question:n=>`Do you want to delete SimpleScenarioGroup\xa0#${n.scenarioGroupId}`,rejectTitle:"Cancel",resolveTitle:"Delete"}),It("design:type",Function),It("design:paramtypes",[Object]),It("design:returntype",void 0)],at.prototype,"delete",null);var Vt=d(266),Rt=function(n,s,e,i){var a,o=arguments.length,r=o<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,s,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(r=(o<3?a(r):o>3?a(s,e,r):a(s,e))||r);return o>3&&r&&Object.defineProperty(s,e,r),r},P=function(n,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,s)};function nn(n,s){1&n&&(t.TgZ(0,"th",16),t._uU(1,"ID "),t.qZA())}function sn(n,s){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.scenarioId," ")}}function on(n,s){1&n&&(t.TgZ(0,"th",16),t._uU(1,"Created On "),t.qZA())}function rn(n,s){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("\n                            ",t.xi3(2,1,e.createdOn,"MMM\xa0d,\xa0yyyy, HH:mm")," ")}}function ln(n,s){1&n&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t._UZ(2,"br"),t._uU(3,"Description"),t.qZA())}function an(n,s){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e.name),t.xp6(2),t.hij("",e.description," ")}}function cn(n,s){1&n&&t._UZ(0,"th",16)}const un=function(n,s){return["../..",n,"scenario",s,"details"]};function dn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td",17),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex",18),t._uU(3,"\n                                "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                                    "),t.TgZ(6,"button",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.runScenario(r))}),t._uU(7,"\n                                        "),t.TgZ(8,"mat-icon"),t._uU(9,"play_arrow"),t.qZA(),t._uU(10,"\n                                    "),t.qZA(),t._uU(11,"\n                                    "),t.TgZ(12,"button",20),t._uU(13,"\n                                        "),t.TgZ(14,"mat-icon"),t._uU(15,"edit_document"),t.qZA(),t._uU(16,"\n                                    "),t.qZA(),t._uU(17,"\n                                    "),t.TgZ(18,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.copyScenario(r))}),t._uU(19,"\n                                        "),t.TgZ(20,"mat-icon"),t._uU(21,"content_copy"),t.qZA(),t._uU(22,"\n                                    "),t.qZA(),t._uU(23,"\n                                    "),t.TgZ(24,"button",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.delete(r))}),t._uU(25,"\n                                        "),t.TgZ(26,"mat-icon"),t._uU(27,"delete_forever"),t.qZA(),t._uU(28,"\n                                    "),t.qZA(),t._uU(29,"\n                                "),t.qZA(),t._uU(30,"\n                            "),t.qZA(),t._uU(31,"\n                        "),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(12),t.Q6J("routerLink",t.WLB(1,un,i.scenarioGroupId,e.scenarioId))}}function gn(n,s){1&n&&(t.TgZ(0,"tr",23),t._uU(1," "),t.qZA())}function fn(n,s){1&n&&(t.TgZ(0,"tr",24),t._uU(1," "),t.qZA())}const mn=function(n){return["../..",n,"scenario-add"]};function pn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",1),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Scenarios"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n                "),t.TgZ(14,"ct-flex-item",2),t._uU(15,"\n                    "),t.TgZ(16,"button",3)(17,"mat-icon"),t._uU(18,"note_add"),t.qZA()(),t._uU(19,"\n                "),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n        "),t.qZA(),t._uU(22,"\n    "),t.qZA(),t._uU(23,"\n    "),t.TgZ(24,"ct-section-body"),t._uU(25,"\n        "),t.TgZ(26,"ct-section-body-row"),t._uU(27,"\n            "),t.TgZ(28,"ct-table",4),t._uU(29,"\n                "),t.TgZ(30,"table",5),t._uU(31,"\n                    "),t.ynx(32,6),t._uU(33,"\n                        "),t.YNc(34,nn,2,0,"th",7),t._uU(35,"\n                        "),t.YNc(36,sn,2,1,"td",8),t._uU(37,"\n                    "),t.BQk(),t._uU(38,"\n                    "),t.ynx(39,9),t._uU(40,"\n                        "),t.YNc(41,on,2,0,"th",7),t._uU(42,"\n                        "),t.YNc(43,rn,3,4,"td",8),t._uU(44,"\n                    "),t.BQk(),t._uU(45,"\n                    "),t.ynx(46,10),t._uU(47,"\n                        "),t.YNc(48,ln,4,0,"th",7),t._uU(49,"\n                        "),t.YNc(50,an,4,2,"td",8),t._uU(51,"\n                    "),t.BQk(),t._uU(52,"\n                    "),t.ynx(53,11),t._uU(54,"\n                        "),t.YNc(55,cn,1,0,"th",7),t._uU(56,"\n                        "),t.YNc(57,dn,32,4,"td",8),t._uU(58,"\n                    "),t.BQk(),t._uU(59,"\n                    "),t.YNc(60,gn,2,0,"tr",12),t._uU(61,"\n                    "),t.YNc(62,fn,2,0,"tr",13),t._uU(63,"\n                "),t.qZA(),t._uU(64,"\n            "),t.qZA(),t._uU(65,"\n        "),t.qZA(),t._uU(66,"\n    "),t.qZA(),t._uU(67,"\n    "),t.TgZ(68,"ct-section-footer"),t._uU(69,"\n        "),t.TgZ(70,"ct-section-footer-row"),t._uU(71,"\n            "),t.TgZ(72,"ct-flex",1),t._uU(73,"\n                "),t.TgZ(74,"ct-flex-item"),t._uU(75,"\n                    "),t.TgZ(76,"ct-flex",14),t._uU(77,"\n                        "),t.TgZ(78,"ct-table-pagination",15),t.NdJ("prev",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.prevPage())})("next",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextPage())}),t.qZA(),t._uU(79,"\n                    "),t.qZA(),t._uU(80,"\n                "),t.qZA(),t._uU(81,"\n            "),t.qZA(),t._uU(82,"\n        "),t.qZA(),t._uU(83,"\n    "),t.qZA(),t._uU(84,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(16),t.Q6J("routerLink",t.VKq(6,mn,e.scenarioGroupId)),t.xp6(12),t.Q6J("isWaiting",e.isLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.columnsToDisplay),t.xp6(16),t.Q6J("pageableDefault",e.scenariosResult.scenarios)}}class V extends Z.S{constructor(s,e,i,o){super(o),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"dataSource",new _.by([])),(0,l.Z)(this,"columnsToDisplay",["id","createdOn","name","bts"]),(0,l.Z)(this,"scenariosResult",void 0),(0,l.Z)(this,"scenarioGroupId",void 0),this.dialog=s,this.scenarioService=e,this.activatedRoute=i,this.authenticationService=o}ngOnInit(){this.scenarioGroupId=this.activatedRoute.snapshot.paramMap.get("scenarioGroupId"),this.updateTable(0)}updateTable(s){this.setIsLoadingStart(),this.scenarioService.scenarios(s.toString(),this.scenarioGroupId).subscribe({next:e=>{this.scenariosResult=e,this.dataSource=new _.by(this.scenariosResult.scenarios.content||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(s){this.scenarioService.scenarioDeleteCommit(s.scenarioId.toString()).subscribe(e=>this.updateTable(this.scenariosResult.scenarios.number))}runScenario(s){this.scenarioService.runScenario(s.scenarioGroupId.toString(),s.scenarioId.toString()).subscribe(e=>this.updateTable(this.scenariosResult.scenarios.number))}copyScenario(s){this.scenarioService.copyScenario(s.scenarioGroupId.toString(),s.scenarioId.toString()).subscribe(e=>this.updateTable(this.scenariosResult.scenarios.number))}nextPage(){this.updateTable(this.scenariosResult.scenarios.number+1)}prevPage(){this.updateTable(this.scenariosResult.scenarios.number-1)}}(0,l.Z)(V,"\u0275fac",function(s){return new(s||V)(t.Y36(z.uw),t.Y36(I),t.Y36(y.gz),t.Y36(G.$h))}),(0,l.Z)(V,"\u0275cmp",t.Xpm({type:V,selectors:[["scenarios"]],features:[t.qOj],decls:2,vars:1,consts:[[4,"ngIf"],["justify-content","space-between"],["justify-content","flex-end"],["mat-icon-button","","color","primary",3,"routerLink"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","name"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","prev","next"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","8px"],["mat-icon-button","","color","accent","size","forTableRow","matTooltip","Execute scenario",3,"click"],["mat-icon-button","","color","primary","matTooltip","Edit scenario",3,"routerLink"],["mat-icon-button","","color","primary","matTooltip","Copy scenario",3,"click"],["mat-icon-button","","color","warn","size","forTableRow","matTooltip","Delete scenario",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,e){1&s&&(t.YNc(0,pn,85,8,"ct-section",0),t._uU(1,"\n")),2&s&&t.Q6J("ngIf",e.scenariosResult)},dependencies:[f.O5,y.rH,R.U,H.n,rt.V,lt.R,Gt.a,K.i,W.Z,X.t,tt.B,et.i,nt._,Ht.C,L.RK,St.Hw,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,Vt.gM,f.uU],styles:[".mat-icon[_ngcontent-%COMP%]{margin-left:0;margin-right:0}"]})),Rt([(0,k.K)({question:n=>`Do you want to delete Scenario #${n.scenarioId}`,resolveTitle:"Delete",rejectTitle:"Cancel"}),P("design:type",Function),P("design:paramtypes",[Object]),P("design:returntype",void 0)],V.prototype,"delete",null),Rt([(0,k.K)({question:n=>`Do you want to exec Scenario #${n.scenarioId}, ${n.name}`,resolveTitle:"Run scenario",rejectTitle:"Cancel",theme:"primary"}),P("design:type",Function),P("design:paramtypes",[Object]),P("design:returntype",void 0)],V.prototype,"runScenario",null),Rt([(0,k.K)({question:n=>`Do you want to copy Scenario #${n.scenarioId}, ${n.name}`,resolveTitle:"Copy scenario",rejectTitle:"Cancel"}),P("design:type",Function),P("design:paramtypes",[Object]),P("design:returntype",void 0)],V.prototype,"copyScenario",null);var _t=d(535),Et=d(2199),wt=d(2379),Zt=d(5510),Ut=d(284),N=d(9549);let _n=(()=>{class n{constructor(e,i,o){(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"states",_t.C),(0,l.Z)(this,"currentStates",new Set),(0,l.Z)(this,"response",void 0),(0,l.Z)(this,"form",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(5)]),description:new u.NI("",[u.kI.required,u.kI.minLength(5)])})),(0,l.Z)(this,"button",void 0),this.scenarioService=e,this.router=i,this.activatedRoute=o}create(){this.button.disabled=!0,this.currentStates.add(this.states.wait);const e=this.scenarioService.addScenarioGroupFormCommit(this.form.value.name,this.form.value.description).subscribe(i=>{i.status===Et.o.OK&&this.router.navigate(["../"],{relativeTo:this.activatedRoute})},()=>{},()=>{this.currentStates.delete(this.states.wait),e.unsubscribe()})}}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(I),t.Y36(y.F0),t.Y36(y.gz))}),(0,l.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["scenario-group-add"]],viewQuery:function(e,i){if(1&e&&t.Gf(L.lW,5),2&e){let o;t.iGM(o=t.CRH())&&(i.button=o.first)}},decls:74,vars:5,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","name"],["matInput","matInput","type","text","autocomplete","description","formControlName","description"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button","routerLink","/mhbp/scenario"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],["button",""]],template:function(e,i){1&e&&(t._uU(0,"\n"),t.TgZ(1,"ct-cols",0),t._uU(2,"\n  "),t.TgZ(3,"ct-col",1),t._uU(4,"\n    "),t.TgZ(5,"ct-section"),t._uU(6,"\n      "),t.TgZ(7,"ct-section-header"),t._uU(8,"\n        "),t.TgZ(9,"ct-section-header-row"),t._uU(10,"\n          "),t.TgZ(11,"ct-heading"),t._uU(12,"Add new Scenario group"),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n      "),t.TgZ(16,"ct-section-body"),t._uU(17,"\n        "),t.TgZ(18,"form",2),t._uU(19,"\n          "),t.TgZ(20,"mat-form-field",3),t._uU(21,"\n            "),t.TgZ(22,"mat-label"),t._uU(23,"Name"),t.qZA(),t._uU(24,"\n            "),t._UZ(25,"input",4),t._uU(26,"\n            "),t.TgZ(27,"mat-hint"),t._uU(28,"This is a required field."),t.qZA(),t._uU(29,"\n          "),t.qZA(),t._uU(30,"\n          "),t._UZ(31,"br"),t._uU(32,"\n          "),t.TgZ(33,"mat-form-field",3),t._uU(34,"\n            "),t.TgZ(35,"mat-label"),t._uU(36,"Description"),t.qZA(),t._uU(37,"\n            "),t._UZ(38,"input",5),t._uU(39,"\n            "),t.TgZ(40,"mat-hint"),t._uU(41,"This is a required field."),t.qZA(),t._uU(42,"\n          "),t.qZA(),t._uU(43,"\n          "),t._UZ(44,"br"),t._uU(45,"\n        "),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n      "),t.TgZ(48,"ct-section-footer"),t._uU(49,"\n        "),t.TgZ(50,"ct-section-footer-row"),t._uU(51,"\n          "),t.TgZ(52,"ct-flex",6),t._uU(53,"\n            "),t.TgZ(54,"ct-flex-item"),t._uU(55,"\n              "),t.TgZ(56,"button",7),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._uU(59,"\n            "),t.qZA(),t._uU(60,"\n            "),t.TgZ(61,"ct-flex-item"),t._uU(62,"\n              "),t.TgZ(63,"button",8,9),t.NdJ("click",function(){return i.create()}),t._uU(65,"Add"),t.qZA(),t._uU(66,"\n            "),t.qZA(),t._uU(67,"\n          "),t.qZA(),t._uU(68,"\n        "),t.qZA(),t._uU(69,"\n      "),t.qZA(),t._uU(70,"\n    "),t.qZA(),t._uU(71,"\n  "),t.qZA(),t._uU(72,"\n"),t.qZA(),t._uU(73,"\n\n")),2&e&&(t.xp6(18),t.Q6J("formGroup",i.form),t.xp6(39),t.hij("\n                ",t.lcZ(58,3,"main.Cancel"),""),t.xp6(6),t.Q6J("disabled",!i.form.valid))},dependencies:[y.rH,R.U,rt.V,lt.R,wt.t,Zt.W,K.i,W.Z,X.t,tt.B,et.i,nt._,L.lW,Ut.Nt,N.KE,N.hX,N.bx,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,F.X$],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),n})();var ct=d(1145);const hn=function(n){return["../..",n,"scenarios"]};let xn=(()=>{class n extends Z.S{constructor(e,i,o,r,a,c){super(c),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"settingsService",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"states",_t.C),(0,l.Z)(this,"currentStates",new Set),(0,l.Z)(this,"scenarioGroupId",void 0),(0,l.Z)(this,"form",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(5)]),description:new u.NI("",[u.kI.required,u.kI.minLength(5)])})),(0,l.Z)(this,"button",void 0),this.scenarioService=e,this.router=i,this.activatedRoute=o,this.translate=r,this.settingsService=a,this.authenticationService=c}ngOnInit(){this.scenarioGroupId=this.activatedRoute.snapshot.paramMap.get("scenarioGroupId"),this.subscribeSubscription(this.settingsService.events.subscribe(e=>{e instanceof ct.U&&this.translate.use(e.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){}create(){this.button.disabled=!0,this.currentStates.add(this.states.wait);const e=this.scenarioService.addScenarioFormCommit(this.scenarioGroupId,this.form.value.name,this.form.value.description).subscribe(i=>{i.status===Et.o.OK&&this.router.navigate(["../scenarios"],{relativeTo:this.activatedRoute})},()=>{},()=>{this.currentStates.delete(this.states.wait),e.unsubscribe()})}back(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}notToCreate(){return this.form.invalid}}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(I),t.Y36(y.F0),t.Y36(y.gz),t.Y36(F.sK),t.Y36(ct.g),t.Y36(G.$h))}),(0,l.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["scenario-add"]],viewQuery:function(e,i){if(1&e&&t.Gf(L.lW,5),2&e){let o;t.iGM(o=t.CRH())&&(i.button=o.first)}},features:[t.qOj],decls:80,vars:26,consts:[["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","name"],["matInput","matInput","type","text","autocomplete","description","formControlName","description"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"routerLink"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",0),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n                "),t.qZA(),t._uU(14,"\n            "),t.qZA(),t._uU(15,"\n            "),t.TgZ(16,"ct-section-body"),t._uU(17,"\n                "),t.TgZ(18,"ct-section-body-row"),t._uU(19,"\n                    "),t.TgZ(20,"form",1),t._uU(21,"\n                        "),t.TgZ(22,"mat-form-field",2),t._uU(23,"\n                            "),t.TgZ(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._uU(27,"\n                            "),t._UZ(28,"input",3),t._uU(29,"\n                            "),t.TgZ(30,"mat-hint"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t._uU(33,"\n                        "),t.qZA(),t._uU(34,"\n                        "),t._UZ(35,"br"),t._uU(36,"\n                        "),t._UZ(37,"br"),t._uU(38,"\n                        "),t.TgZ(39,"mat-form-field",2),t._uU(40,"\n                            "),t.TgZ(41,"mat-label"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._uU(44,"\n                            "),t._UZ(45,"input",4),t._uU(46,"\n                            "),t.TgZ(47,"mat-hint"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t._uU(50,"\n                        "),t.qZA(),t._uU(51,"\n                    "),t.qZA(),t._uU(52,"\n                "),t.qZA(),t._uU(53,"\n            "),t.qZA(),t._uU(54,"\n\n            "),t.TgZ(55,"ct-section-footer"),t._uU(56,"\n                "),t.TgZ(57,"ct-section-footer-row"),t._uU(58,"\n                    "),t.TgZ(59,"ct-flex",5),t._uU(60,"\n                        "),t.TgZ(61,"ct-flex-item"),t._uU(62,"\n                            "),t.TgZ(63,"button",6),t._uU(64),t.ALo(65,"translate"),t.qZA(),t._uU(66,"\n                        "),t.qZA(),t._uU(67,"\n                        "),t.TgZ(68,"ct-flex-item"),t._uU(69,"\n                            "),t.TgZ(70,"button",7),t.NdJ("click",function(){return i.create()}),t._uU(71),t.ALo(72,"translate"),t.qZA(),t._uU(73,"\n                        "),t.qZA(),t._uU(74,"\n                    "),t.qZA(),t._uU(75,"\n                "),t.qZA(),t._uU(76,"\n            "),t.qZA(),t._uU(77,"\n        "),t.qZA(),t._uU(78,"\n    "),t.qZA(),t._uU(79,"\n"),t.qZA()),2&e&&(t.xp6(11),t.Oqu(t.lcZ(12,10,"evaluation-add.Create a new evaluation for specific API")),t.xp6(9),t.Q6J("formGroup",i.form),t.xp6(5),t.Oqu(t.lcZ(26,12,"main.Name")),t.xp6(6),t.Oqu(t.lcZ(32,14,"main.Name")),t.xp6(11),t.Oqu(t.lcZ(43,16,"main.Description")),t.xp6(6),t.Oqu(t.lcZ(49,18,"main.Description")),t.xp6(15),t.Q6J("routerLink",t.VKq(24,hn,i.scenarioGroupId)),t.xp6(1),t.hij("\n                                ",t.lcZ(65,20,"main.Cancel"),""),t.xp6(6),t.Q6J("disabled",i.notToCreate()),t.xp6(1),t.hij(" ",t.lcZ(72,22,"evaluation-add.Create"),""))},dependencies:[y.rH,R.U,H.n,rt.V,lt.R,wt.t,Zt.W,K.i,W.Z,X.t,tt.B,et.i,nt._,L.lW,Ut.Nt,N.KE,N.hX,N.bx,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,F.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),n})();var ht=d(1206),Lt=function(n,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,s)};function An(n,s){1&n&&(t.TgZ(0,"th",15),t._uU(1,"apiCode "),t.qZA())}function Cn(n,s){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.apiCode," ")}}function Sn(n,s){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Name"),t.qZA())}function wn(n,s){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e.name)}}function Zn(n,s){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Prompt"),t.qZA())}function Un(n,s){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e.prompt)}}function bn(n,s){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Answer"),t.qZA())}function Tn(n,s){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.answer," ")}}function Dn(n,s){1&n&&t._UZ(0,"th",15)}const Fn=function(n){return["../step",n,"step-edit"]};function Mn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n                            "),t.TgZ(2,"ct-flex",17),t._uU(3,"\n                                "),t.TgZ(4,"ct-flex-item"),t._uU(5,"\n                                    "),t.TgZ(6,"button",18),t._uU(7,"Edit"),t.qZA(),t._uU(8,"\n                                "),t.qZA(),t._uU(9,"\n                                "),t.TgZ(10,"ct-flex-item"),t._uU(11,"\n                                    "),t.TgZ(12,"button",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.delete(r))}),t._uU(13,"\n                                        "),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA(),t._uU(16,"\n                                    "),t.qZA(),t._uU(17,"\n                                "),t.qZA(),t._uU(18,"\n                            "),t.qZA(),t._uU(19,"\n                        "),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(1,Fn,e.uuid))}}function Gn(n,s){1&n&&(t.TgZ(0,"tr",20),t._uU(1," "),t.qZA())}function In(n,s){1&n&&(t.TgZ(0,"tr",21),t._uU(1," "),t.qZA())}const Rn=function(){return["../","scenario-step-add"]};function En(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",1),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Steps of Scenario"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-flex",2),t._uU(16,"\n                "),t.TgZ(17,"ct-flex-item"),t._uU(18,"\n                    "),t.TgZ(19,"button",3),t._uU(20,"Add Scenario Step"),t.qZA(),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n    "),t.TgZ(26,"ct-section-body"),t._uU(27,"\n        "),t.TgZ(28,"ct-section-body-row"),t._uU(29,"\n            "),t.TgZ(30,"ct-table",4),t._uU(31,"\n                "),t.TgZ(32,"table",5),t.NdJ("cdkDropListDropped",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.rearrangeTable(o))}),t._uU(33,"\n                    "),t.ynx(34,6),t._uU(35,"\n                        "),t.YNc(36,An,2,0,"th",7),t._uU(37,"\n                        "),t.YNc(38,Cn,2,1,"td",8),t._uU(39,"\n                    "),t.BQk(),t._uU(40,"\n                    "),t.ynx(41,9),t._uU(42,"\n                        "),t.YNc(43,Sn,2,0,"th",7),t._uU(44,"\n                        "),t.YNc(45,wn,2,1,"td",8),t._uU(46,"\n                    "),t.BQk(),t._uU(47,"\n                    "),t.ynx(48,10),t._uU(49,"\n                        "),t.YNc(50,Zn,2,0,"th",7),t._uU(51,"\n                        "),t.YNc(52,Un,2,1,"td",8),t._uU(53,"\n                    "),t.BQk(),t._uU(54,"\n                    "),t.ynx(55,11),t._uU(56,"\n                        "),t.YNc(57,bn,2,0,"th",7),t._uU(58,"\n                        "),t.YNc(59,Tn,2,1,"td",8),t._uU(60,"\n                    "),t.BQk(),t._uU(61,"\n                    "),t.ynx(62,12),t._uU(63,"\n                        "),t.YNc(64,Dn,1,0,"th",7),t._uU(65,"\n                        "),t.YNc(66,Mn,20,3,"td",8),t._uU(67,"\n                    "),t.BQk(),t._uU(68,"\n                    "),t.YNc(69,Gn,2,0,"tr",13),t._uU(70,"\n                    "),t.YNc(71,In,2,0,"tr",14),t._uU(72,"\n                "),t.qZA(),t._uU(73,"\n            "),t.qZA(),t._uU(74,"\n        "),t.qZA(),t._uU(75,"\n    "),t.qZA(),t._uU(76,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(19),t.Q6J("routerLink",t.DdM(5,Rn)),t.xp6(11),t.Q6J("isWaiting",e.isLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",e.columnsToDisplay)}}class ut extends Z.S{constructor(s,e,i,o,r){super(r),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"states",_t.C),(0,l.Z)(this,"currentStates",new Set),(0,l.Z)(this,"columnsToDisplay",["api","name","prompt","answer","bts"]),(0,l.Z)(this,"simpleScenarioSteps",void 0),(0,l.Z)(this,"scenarioGroupId",void 0),(0,l.Z)(this,"scenarioId",void 0),(0,l.Z)(this,"dataSource",new _.by([])),(0,l.Z)(this,"response",void 0),(0,l.Z)(this,"cancelCreationButton",void 0),this.dialog=s,this.scenarioService=e,this.router=i,this.activatedRoute=o,this.authenticationService=r}ngOnInit(){this.scenarioGroupId=this.activatedRoute.snapshot.paramMap.get("scenarioGroupId"),this.scenarioId=this.activatedRoute.snapshot.paramMap.get("scenarioId"),this.updateTable()}updateTable(){this.setIsLoadingStart(),this.scenarioService.scenarioSteps(this.scenarioGroupId,this.scenarioId).subscribe({next:s=>{this.simpleScenarioSteps=s,this.dataSource=new _.by(this.simpleScenarioSteps.steps||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(s){this.scenarioService.scenarioStepDeleteCommit(s.scenarioId.toString(),s.uuid).subscribe(e=>this.updateTable())}rearrangeTable(s){if(s.previousIndex===s.currentIndex)return;let e=this.simpleScenarioSteps.steps[s.previousIndex].uuid,i=this.simpleScenarioSteps.steps[s.currentIndex].uuid;this.scenarioService.scenarioStepRearrangeTable(this.scenarioId.toString(),e,i).subscribe(o=>this.updateTable())}}(0,l.Z)(ut,"\u0275fac",function(s){return new(s||ut)(t.Y36(z.uw),t.Y36(I),t.Y36(y.F0),t.Y36(y.gz),t.Y36(G.$h))}),(0,l.Z)(ut,"\u0275cmp",t.Xpm({type:ut,selectors:[["scenario-steps"]],viewQuery:function(s,e){if(1&s&&t.Gf(L.lW,5),2&s){let i;t.iGM(i=t.CRH())&&(e.cancelCreationButton=i.first)}},features:[t.qOj],decls:2,vars:1,consts:[[4,"ngIf"],["justify-content","space-between"],["justify-content","flex-end"],["mat-flat-button","mat-flat-button","color","primary",3,"routerLink"],[3,"isWaiting"],["mat-table","","cdkDropList","",3,"dataSource","cdkDropListDropped"],["matColumnDef","api"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","prompt"],["matColumnDef","answer"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","cdkDrag","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","8px"],["mat-flat-button","","color","primary","size","forTableRow",3,"routerLink"],["mat-flat-button","","color","warn","size","forTableRow",3,"click"],["mat-header-row",""],["mat-row","","cdkDrag",""]],template:function(s,e){1&s&&(t.YNc(0,En,77,6,"ct-section",0),t._uU(1,"\n\n")),2&s&&t.Q6J("ngIf",e.simpleScenarioSteps)},dependencies:[f.O5,y.rH,R.U,H.n,Gt.a,K.i,W.Z,X.t,tt.B,et.i,nt._,ht.Wj,ht.Zt,L.lW,St.Hw,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk]})),function(n,s,e,i){var a,o=arguments.length,r=o<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,s,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(r=(o<3?a(r):o>3?a(s,e,r):a(s,e))||r);o>3&&r&&Object.defineProperty(s,e,r)}([(0,k.K)({question:n=>`Do you want to delete Scenario Step #${n.uuid}`,resolveTitle:"Delete",rejectTitle:"Cancel"}),Lt("design:type",Function),Lt("design:paramtypes",[class yn{constructor(){(0,l.Z)(this,"nodeId",void 0),(0,l.Z)(this,"scenarioId",void 0),(0,l.Z)(this,"uuid",void 0),(0,l.Z)(this,"parentUuid",void 0),(0,l.Z)(this,"apiId",void 0),(0,l.Z)(this,"apiCode",void 0),(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"prompt",void 0),(0,l.Z)(this,"r",void 0),(0,l.Z)(this,"resultCode",void 0),(0,l.Z)(this,"expected",void 0),(0,l.Z)(this,"isNew",void 0),(0,l.Z)(this,"functionCode",void 0),(0,l.Z)(this,"aggregateType",void 0),(0,l.Z)(this,"isCachable",void 0),(0,l.Z)(this,"mode",void 0),(0,l.Z)(this,"steps",void 0)}}]),Lt("design:returntype",void 0)],ut.prototype,"delete",null);var Jt=d(3238),zt=d(4385);function Ln(n,s){if(1&n&&(t.TgZ(0,"div"),t._uU(1,"\n                                "),t.TgZ(2,"mat-option",12),t._uU(3),t.qZA(),t._uU(4,"\n                            "),t.qZA()),2&n){const e=s.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Oqu(e.uid)}}const On=function(){return["../steps"]};function qn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"New Step"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"ct-section-body-row"),t._uU(18,"\n                    "),t.TgZ(19,"form",2),t._uU(20,"\n                        "),t.TgZ(21,"mat-form-field",3),t._uU(22,"\n                            "),t.TgZ(23,"mat-label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._uU(26,"\n                            "),t._UZ(27,"input",4),t._uU(28,"\n                            "),t.TgZ(29,"mat-hint"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32,"\n                        "),t.qZA(),t._uU(33,"\n                        "),t._UZ(34,"br"),t._uU(35,"\n                        "),t._UZ(36,"br"),t._uU(37,"\n                        "),t.TgZ(38,"mat-form-field",3),t._uU(39,"\n                            "),t.TgZ(40,"mat-label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._uU(43,"\n                            "),t._UZ(44,"input",5),t._uU(45,"\n                            "),t.TgZ(46,"mat-hint"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t._uU(49,"\n                        "),t.qZA(),t._uU(50,"\n                    "),t.qZA(),t._uU(51,"\n                "),t.qZA(),t._uU(52,"\n                "),t.TgZ(53,"ct-section-body-row"),t._uU(54,"\n                    "),t.TgZ(55,"mat-form-field",6),t._uU(56,"\n                        "),t.TgZ(57,"mat-label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._uU(60,"\n                        "),t.TgZ(61,"mat-select",7),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.apiUid=o)}),t._uU(62,"\n                            "),t.YNc(63,Ln,5,2,"div",8),t._uU(64,"\n                        "),t.qZA(),t._uU(65,"\n                        "),t.TgZ(66,"mat-hint"),t._uU(67),t.ALo(68,"translate"),t.qZA(),t._uU(69,"\n                    "),t.qZA(),t._uU(70,"\n                "),t.qZA(),t._uU(71,"\n            "),t.qZA(),t._uU(72,"\n\n            "),t.TgZ(73,"ct-section-footer"),t._uU(74,"\n                "),t.TgZ(75,"ct-section-footer-row"),t._uU(76,"\n                    "),t.TgZ(77,"ct-flex",9),t._uU(78,"\n                        "),t.TgZ(79,"ct-flex-item"),t._uU(80,"\n                            "),t.TgZ(81,"button",10),t._uU(82),t.ALo(83,"translate"),t.qZA(),t._uU(84,"\n                        "),t.qZA(),t._uU(85,"\n                        "),t.TgZ(86,"ct-flex-item"),t._uU(87,"\n                            "),t.TgZ(88,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.create())}),t._uU(89),t.ALo(90,"translate"),t.qZA(),t._uU(91,"\n                        "),t.qZA(),t._uU(92,"\n                    "),t.qZA(),t._uU(93,"\n                "),t.qZA(),t._uU(94,"\n            "),t.qZA(),t._uU(95,"\n        "),t.qZA(),t._uU(96,"\n    "),t.qZA(),t._uU(97,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(19),t.Q6J("formGroup",e.form),t.xp6(5),t.Oqu(t.lcZ(25,13,"main.Name")),t.xp6(6),t.Oqu(t.lcZ(31,15,"main.This is a required field")),t.xp6(11),t.Oqu(t.lcZ(42,17,"step.Prompt")),t.xp6(6),t.Oqu(t.lcZ(48,19,"main.This is a required field")),t.xp6(11),t.hij(" ",t.lcZ(59,21,"evaluation-add.List of APIs"),""),t.xp6(3),t.Q6J("ngModel",e.apiUid),t.xp6(2),t.Q6J("ngForOf",e.listOfApis),t.xp6(4),t.Oqu(t.lcZ(68,23,"main.This is a required field")),t.xp6(14),t.Q6J("routerLink",t.DdM(29,On)),t.xp6(1),t.hij("\n                                ",t.lcZ(83,25,"main.Cancel"),""),t.xp6(6),t.Q6J("disabled",e.notToCreate()),t.xp6(1),t.hij(" ",t.lcZ(90,27,"main.Create"),"")}}let Nn=(()=>{class n extends Z.S{constructor(e,i,o,r,a,c){super(c),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"settingsService",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"states",_t.C),(0,l.Z)(this,"currentStates",new Set),(0,l.Z)(this,"response",void 0),(0,l.Z)(this,"scenarioGroupId",void 0),(0,l.Z)(this,"scenarioId",void 0),(0,l.Z)(this,"apiUid",void 0),(0,l.Z)(this,"listOfApis",[]),(0,l.Z)(this,"form",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(5)]),prompt:new u.NI("",[u.kI.required,u.kI.minLength(5)])})),(0,l.Z)(this,"button",void 0),this.scenarioService=e,this.router=i,this.activatedRoute=o,this.translate=r,this.settingsService=a,this.authenticationService=c}ngOnInit(){this.scenarioGroupId=this.activatedRoute.snapshot.paramMap.get("scenarioGroupId"),this.scenarioId=this.activatedRoute.snapshot.paramMap.get("scenarioId"),this.subscribeSubscription(this.settingsService.events.subscribe(e=>{e instanceof ct.U&&this.translate.use(e.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){this.scenarioService.scenarioStepAdd().subscribe(e=>{this.response=e,this.listOfApis=this.response.apis,this.isLoading=!1})}create(){this.button.disabled=!0,this.currentStates.add(this.states.wait);const e=this.scenarioService.addOrSaveScenarioStepFormCommit(this.scenarioGroupId,this.scenarioId,null,null,this.form.value.name,this.form.value.prompt,this.apiUid.id.toString(),"some code",null,null,"false",null).subscribe(i=>{i.status===Et.o.OK&&this.router.navigate(["../steps"],{relativeTo:this.activatedRoute})},()=>{},()=>{this.currentStates.delete(this.states.wait),e.unsubscribe()})}back(){this.router.navigate(["../steps"],{relativeTo:this.activatedRoute})}notToCreate(){return null==this.apiUid||this.form.invalid}}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(I),t.Y36(y.F0),t.Y36(y.gz),t.Y36(F.sK),t.Y36(ct.g),t.Y36(G.$h))}),(0,l.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["scenario-step-add"]],viewQuery:function(e,i){if(1&e&&t.Gf(L.lW,5),2&e){let o;t.iGM(o=t.CRH())&&(i.button=o.first)}},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","name"],["matInput","matInput","type","text","autocomplete","prompt","formControlName","prompt"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"routerLink"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"value"]],template:function(e,i){1&e&&t.YNc(0,qn,98,30,"ct-cols",0),2&e&&t.Q6J("ngIf",i.response)},dependencies:[f.sg,f.O5,y.rH,R.U,H.n,rt.V,lt.R,wt.t,Zt.W,K.i,W.Z,X.t,tt.B,et.i,nt._,Jt.ey,L.lW,Ut.Nt,N.KE,N.hX,N.bx,zt.gD,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,F.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),n})();var Kt=d(1135),kn=d(9751),Wt=d(6451),Ot=d(7579);function Xt(n){for(let e in n){var s;let i=null!==(s=n[e])&&void 0!==s?s:"";switch(e){case"display":n.display="flex"===i?["-webkit-flex","flex"]:"inline-flex"===i?["-webkit-inline-flex","inline-flex"]:i;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=i;break;case"flex-direction":n["-webkit-flex-direction"]=i,n["flex-direction"]=i;break;case"order":n.order=n["-webkit-"+e]=isNaN(+i)?"0":i}}return n}const qt="inline",bt=["row","column","row-reverse","column-reverse"];function te(n){let[s,e,i]=function ee(n){var s,e;n=null!==(s=null===(e=n)||void 0===e?void 0:e.toLowerCase())&&void 0!==s?s:"";let[i,o,r]=n.split(" ");return bt.find(a=>a===i)||(i=bt[0]),o===qt&&(o=r!==qt?r:"",r=qt),[i,Bn(o),!!r]}(n);return function Yn(n,s=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":s||null}}(s,e,i)}function Bn(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}var Nt=d(9300),Pn=d(8505);const jn={provide:t.tb,useFactory:function Qn(n,s){return()=>{if((0,f.NF)(s)){const e=Array.from(n.querySelectorAll(`[class*=${ne}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(o=>{o.classList.contains(`${ne}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(i,"")})}}},deps:[f.K0,t.Lbi],multi:!0},ne="flex-layout-";let kt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[jn]}),n})();class it{constructor(s=!1,e="all",i="",o="",r=0){this.matches=s,this.mediaQuery=e,this.mqAlias=i,this.suffix=o,this.priority=r,this.property=""}clone(){return new it(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let $n=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,o){const r=this.stylesheet.get(e);r?r.set(i,o):this.stylesheet.set(e,new Map([[i,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const o=this.stylesheet.get(e);let r="";if(o){const a=o.get(i);("number"==typeof a||"string"==typeof a)&&(r=a+"")}return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},B=new t.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Bt}),dt=new t.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Yt=new t.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function ie(n,s){var e,i;return n=null!==(e=null===(i=n)||void 0===i?void 0:i.clone())&&void 0!==e?e:new it,s&&(n.mqAlias=s.alias,n.mediaQuery=s.mediaQuery,n.suffix=s.suffix,n.priority=s.priority),n}class U{constructor(){this.shouldCache=!0}sideEffect(s,e,i){}}let A=(()=>{class n{constructor(e,i,o,r){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=o,this.layoutConfig=r}applyStyleToElement(e,i,o=null){let r={};"string"==typeof i&&(r[i]=o,i=r),r=this.layoutConfig.disableVendorPrefixes?i:Xt(i),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,i=[]){const o=this.layoutConfig.disableVendorPrefixes?e:Xt(e);i.forEach(r=>{this._applyMultiValueStyleToElement(o,r)})}getFlowDirection(e){const i="flex-direction";let o=this.lookupStyle(e,i);return[o||"row",this.lookupInlineStyle(e,i)||(0,f.PM)(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){var o;return null!==(o=e.getAttribute(i))&&void 0!==o?o:""}lookupInlineStyle(e,i){return(0,f.NF)(this._platformId)?e.style.getPropertyValue(i):function Hn(n,s){var e;return null!==(e=se(n)[s])&&void 0!==e?e:""}(e,i)}lookupStyle(e,i,o=!1){let r="";return e&&((r=this.lookupInlineStyle(e,i))||((0,f.NF)(this._platformId)?o||(r=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,i)))),r?r.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(o=>{const r=e[o],a=Array.isArray(r)?r:[r];a.sort();for(let c of a)c=c?c+"":"",(0,f.NF)(this._platformId)||!this._serverModuleLoaded?(0,f.NF)(this._platformId)?i.style.setProperty(o,c):Vn(i,o,c):this._serverStylesheet.addStyleToElement(i,o,c)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($n),t.LFG(dt),t.LFG(t.Lbi),t.LFG(B))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vn(n,s,e){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=se(n);i[s]=null!=e?e:"",function Jn(n,s){let e="";for(const i in s)s[i]&&(e+=`${i}:${s[i]};`);n.setAttribute("style",e)}(n,i)}function se(n){const s={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let o=0;o<i.length;o++){const r=i[o].trim();if(r.length>0){const a=r.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${r}`);s[r.substr(0,a).trim()]=r.substr(a+1).trim()}}}return s}function yt(n,s){return(s&&s.priority||0)-(n&&n.priority||0)}function zn(n,s){return(n.priority||0)-(s.priority||0)}let Pt=(()=>{class n{constructor(e,i,o){this._zone=e,this._platformId=i,this._document=o,this.source=new Kt.X(new it(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,o)=>{i.matches&&e.push(o)}),e}isActive(e){var i;const o=this.registry.get(e);return null!==(i=null==o?void 0:o.matches)&&void 0!==i?i:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const o=this._observable$.pipe((0,Nt.h)(a=>!i||e.indexOf(a.mediaQuery)>-1)),r=new kn.y(a=>{const c=this.registerQuery(e);if(c.length){const g=c.pop();c.forEach(h=>{a.next(h)}),this.source.next(g)}a.complete()});return(0,Wt.T)(r,o)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],o=[];return function Kn(n,s){const e=n.filter(i=>!oe[i]);if(e.length>0){const i=e.join(", ");try{const o=s.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(s.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),s.head.appendChild(o),e.forEach(r=>oe[r]=o)}catch(o){console.error(o)}}}(i,this._document),i.forEach(r=>{const a=g=>{this._zone.run(()=>this.source.next(new it(g.matches,r)))};let c=this.registry.get(r);c||(c=this.buildMQL(r),c.addListener(a),this.pendingRemoveListenerFns.push(()=>c.removeListener(a)),this.registry.set(r,c)),c.matches&&o.push(new it(!0,r))}),o}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Xn(n,s){return s&&window.matchMedia("all").addListener?window.matchMedia(n):function Wn(n){const s=new EventTarget;return s.matches="all"===n||""===n,s.media=n,s.addListener=()=>{},s.removeListener=()=>{},s.addEventListener=()=>{},s.dispatchEvent=()=>!1,s.onchange=null,s}(n)}(e,(0,f.NF)(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.R0b),t.LFG(t.Lbi),t.LFG(f.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oe={},ti=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],re="(orientation: portrait) and (max-width: 599.98px)",le="(orientation: landscape) and (max-width: 959.98px)",ae="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ce="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",ue="(orientation: portrait) and (min-width: 840px)",de="(orientation: landscape) and (min-width: 1280px)",j={HANDSET:`${re}, ${le}`,TABLET:`${ae} , ${ce}`,WEB:`${ue}, ${de} `,HANDSET_PORTRAIT:`${re}`,TABLET_PORTRAIT:`${ae} `,WEB_PORTRAIT:`${ue}`,HANDSET_LANDSCAPE:`${le}`,TABLET_LANDSCAPE:`${ce}`,WEB_LANDSCAPE:`${de}`},ei=[{alias:"handset",priority:2e3,mediaQuery:j.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:j.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:j.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:j.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:j.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:j.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:j.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:j.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:j.WEB_PORTRAIT,overlapping:!0}],ni=/(\.|-|_)/g;function ii(n){let s=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return s.toUpperCase()+e}const li=new t.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,t.f3M)(Yt),s=(0,t.f3M)(B),e=[].concat.apply([],(n||[]).map(o=>Array.isArray(o)?o:[o]));return function ri(n,s=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),s.forEach(i=>{e[i.alias]?function Q(n,...s){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of s)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}(e[i.alias],i):e[i.alias]=i}),function oi(n){return n.forEach(s=>{s.suffix||(s.suffix=function si(n){return n.replace(ni,"|").split("|").map(ii).join("")}(s.alias),s.overlapping=!!s.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((s.disableDefaultBps?[]:ti).concat(s.addOrientationBps?ei:[]),e)}});let Qt=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(zn)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var i;return null!==(i=null==e?void 0:e.suffix)&&void 0!==i?i:""})}findWithPredicate(e,i){var o;let r=this.findByMap.get(e);var a;return r||(r=null!==(a=this.items.find(i))&&void 0!==a?a:null,this.findByMap.set(e,r)),null!==(o=r)&&void 0!==o?o:null}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(li))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gt="print",ai={alias:gt,mediaQuery:gt,priority:1e3};let ci=(()=>{class n{constructor(e,i,o){this.breakpoints=e,this.layoutConfig=i,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new ui,this.deactivations=[]}withPrintQuery(e){return[...e,gt]}isPrintEvent(e){return e.mediaQuery.startsWith(gt)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(yt)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);var o,r;return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(o=null===(r=i)||void 0===r?void 0:r.mediaQuery)&&void 0!==o?o:""),ie(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new it(!0,gt))),e.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(o)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const o=this.breakpoints.findByQuery(i.mediaQuery);if(o){const r=this.formerActivations&&this.formerActivations.includes(o),a=!this.formerActivations&&e.activatedBreakpoints.includes(o);(r||a)&&(this.deactivations.push(o),this.deactivations.sort(yt))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Qt),t.LFG(B),t.LFG(f.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ui{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(s){return s.push(ai),s.sort(yt),s.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(s){s&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===s.mediaQuery)&&(this.printBreakpoints=function di(n){var s;return null!==(s=null==n?void 0:n.mediaQuery.startsWith(gt))&&void 0!==s&&s}(s)?[s,...this.printBreakpoints]:[...this.printBreakpoints,s])}clear(){this.printBreakpoints=[]}}let S=(()=>{class n{constructor(e,i,o){this.matchMedia=e,this.breakpoints=i,this.hook=o,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ot.x,this.observeActivations()}get activatedAlias(){var e,i;return null!==(e=null===(i=this.activatedBreakpoints[0])||void 0===i?void 0:i.alias)&&void 0!==e?e:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=ie(e,i);const o=this.activatedBreakpoints.indexOf(i);e.matches&&-1===o?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(yt),this.updateStyles()):!e.matches&&-1!==o&&(this._activatedBreakpoints.splice(o,1),this._activatedBreakpoints.sort(yt),this.updateStyles())}}init(e,i,o,r,a=[]){ge(this.updateMap,e,i,o),ge(this.clearMap,e,i,r),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,o){const r=this.elementMap.get(e);if(r){const a=void 0!==o?r.get(o):this.getActivatedValues(r,i);if(a)return a.get(i)}}hasValue(e,i){const o=this.elementMap.get(e);if(o){const r=this.getActivatedValues(o,i);if(r)return void 0!==r.get(i)||!1}return!1}setValue(e,i,o,r){let a=this.elementMap.get(e);if(a){var c;const h=(null!==(c=a.get(r))&&void 0!==c?c:new Map).set(i,o);a.set(r,h),this.elementMap.set(e,a)}else a=(new Map).set(r,(new Map).set(i,o)),this.elementMap.set(e,a);const g=this.getValue(e,i);void 0!==g&&this.updateElement(e,i,g)}trackValue(e,i){return this.subject.asObservable().pipe((0,Nt.h)(o=>o.element===e&&o.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const o=new Set(this.elementKeyMap.get(i));let r=this.getActivatedValues(e);r&&r.forEach((a,c)=>{this.updateElement(i,c,a),o.delete(c)}),o.forEach(a=>{if(r=this.getActivatedValues(e,a),r){const c=r.get(a);this.updateElement(i,a,c)}else this.clearElement(i,a)})})}clearElement(e,i){const o=this.clearMap.get(e);if(o){const r=o.get(i);r&&(r(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,o){const r=this.updateMap.get(e);if(r){const a=r.get(i);a&&(a(o),this.subject.next({element:e,key:i,value:o}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(r=>r.unsubscribe()),this.watcherMap.delete(e));const o=this.elementMap.get(e);o&&(o.forEach((r,a)=>o.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const o=this.elementMap.get(e);if(o){const r=this.getActivatedValues(o,i);r&&(i?this.updateElement(e,i,r.get(i)):r.forEach((a,c)=>this.updateElement(e,c,a)))}}buildElementKeyMap(e,i){let o=this.elementKeyMap.get(e);o||(o=new Set,this.elementKeyMap.set(e,o)),o.add(i)}watchExtraTriggers(e,i,o){if(o&&o.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(i)){const c=(0,Wt.T)(...o).subscribe(()=>{const g=this.getValue(e,i);this.updateElement(e,i,g)});r.set(i,c)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let r=0;r<this.activatedBreakpoints.length;r++){const c=e.get(this.activatedBreakpoints[r].alias);if(c&&(void 0===i||c.has(i)&&null!=c.get(i)))return c}if(!this._useFallbacks)return;const o=e.get("");return void 0===i||o&&o.has(i)?o:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Pn.b)(this.hook.interceptEvents(this)),(0,Nt.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Pt),t.LFG(Qt),t.LFG(ci))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ge(n,s,e,i){if(void 0!==i){var o;const r=null!==(o=n.get(s))&&void 0!==o?o:new Map;r.set(e,i),n.set(s,r)}}let w=(()=>{class n{constructor(e,i,o,r){this.elementRef=e,this.styleBuilder=i,this.styler=o,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ot.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const o=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const o=this.styleBuilder,r=o.shouldCache;let a=this.styleCache.get(e);(!a||!r)&&(a=o.buildStyles(e,i),r&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),o.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[o,r]=this.styler.getFlowDirection(e);if(!r&&i){const a=te(o);this.styler.applyStyleToElements(a,[e])}return o.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,o=this.nativeElement){this.styler.applyStyleToElement(o,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(U),t.Y36(A),t.Y36(S))},n.\u0275dir=t.lG2({type:n,features:[t.TTD]}),n})();class fi extends EventTarget{constructor(s){super(),this._mediaQuery=s,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(s=>{s.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(s=>{s.call(this,{matches:this.matches,media:this.media})})),this}addListener(s){-1===this._listeners.indexOf(s)&&this._listeners.push(s),this._isActive&&s.call(this,{matches:this.matches,media:this.media})}removeListener(s){}dispatchEvent(s){return!1}}d(1281),d(2722),d(1481);let vi=(()=>{class n extends w{constructor(e,i,o,r,a,c,g){super(e,null,i,o),this.ngClassInstance=g,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new f.mk(r,a,e,c)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(A),t.Y36(S),t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.Qsj),t.Y36(f.mk,10))},n.\u0275dir=t.lG2({type:n,inputs:{klass:["class","klass"]},features:[t.qOj]}),n})();const Ai=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let _e=(()=>{class n extends vi{constructor(){super(...arguments),this.inputs=Ai}}return n.\u0275fac=function(){let s;return function(i){return(s||(s=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[t.qOj]}),n})(),Ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[kt]}),n})();var $t=d(445);let Ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[kt,$t.vT]}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[kt]}),n})(),ir=(()=>{class n{constructor(e,i){(0,f.PM)(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:B,useValue:{...Bt,...e}},{provide:Yt,useValue:i,multi:!0},{provide:dt,useValue:!0}]:[{provide:B,useValue:{...Bt,...e}},{provide:Yt,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(dt),t.LFG(t.Lbi))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Ue,Ce,Re,Ue,Ce,Re]}),n})();var sr=d(7851),st=d(5423),or=d(9646),rr=d(5017),m=d(2026);class lr{constructor(){(0,l.Z)(this,"uuid",void 0),(0,l.Z)(this,"prompt",void 0),(0,l.Z)(this,"variables",void 0)}}class ar{constructor(){(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"value",void 0)}}var cr=d(4620),ur=d(9349),dr=d(455),Ee=function(n,s,e,i){var a,o=arguments.length,r=o<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,s,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(r=(o<3?a(r):o>3?a(s,e,r):a(s,e))||r);return o>3&&r&&Object.defineProperty(s,e,r),r},mt=function(n,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,s)};const gr=["execContexts"],fr=["formDirective"];function mr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.stateOfTasks())}),t._uU(1,"\n                        "),t.TgZ(2,"mat-icon"),t._uU(3,"list"),t.qZA(),t._uU(4,"\n                    "),t.qZA()}}function pr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex-item",12),t._uU(1,"\n                    "),t.TgZ(2,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.startEditingScenarioInfo())}),t._uU(3,"\n                        "),t.TgZ(4,"mat-icon"),t._uU(5,"edit_document"),t.qZA(),t._uU(6,"\n                    "),t.qZA(),t._uU(7,"\n                    "),t.TgZ(8,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.runScenario())}),t._uU(9,"\n                        "),t.TgZ(10,"mat-icon"),t._uU(11,"play_arrow"),t.qZA(),t._uU(12,"\n                    "),t.qZA(),t._uU(13,"\n                    "),t.YNc(14,mr,5,0,"button",15),t._uU(15,"\n                "),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(14),t.Q6J("ngIf",e.isSourceCodeId())}}function _r(n,s){if(1&n&&(t.TgZ(0,"ct-section-body-row"),t._uU(1,"\n            "),t.TgZ(2,"form",17),t._uU(3,"\n                "),t.TgZ(4,"mat-form-field",18),t._uU(5,"\n                    "),t.TgZ(6,"mat-label"),t._uU(7,"Name of Scenario, min 5 chars, required"),t.qZA(),t._uU(8,"\n                    "),t._UZ(9,"input",19),t._uU(10,"\n                "),t.qZA(),t._uU(11,"\n                "),t.TgZ(12,"mat-form-field",18),t._uU(13,"\n                    "),t.TgZ(14,"mat-label"),t._uU(15,"Description of Scenario, min 5 chars, required"),t.qZA(),t._uU(16,"\n                    "),t._UZ(17,"textarea",20),t._uU(18,"\n                "),t.qZA(),t._uU(19,"\n            "),t.qZA(),t._uU(20,"\n        "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e.scenarioForm)}}function hr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-section-footer",8),t._uU(1,"\n        "),t.TgZ(2,"ct-section-footer-row"),t._uU(3,"\n            "),t.TgZ(4,"ct-flex",21),t._uU(5,"\n                "),t.TgZ(6,"ct-flex-item"),t._uU(7,"\n                    "),t.TgZ(8,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.isFormActive=!1,t.KtG(o.updateScenarioInfo())}),t._uU(9,"\n                        Save"),t.qZA(),t._uU(10,"\n                "),t.qZA(),t._uU(11,"\n                "),t.TgZ(12,"ct-flex-item"),t._uU(13,"\n                    "),t.TgZ(14,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancelUpdatingScenarioInfo())}),t._uU(15,"\n                        Cancel"),t.qZA(),t._uU(16,"\n                "),t.qZA(),t._uU(17,"\n            "),t.qZA(),t._uU(18,"\n        "),t.qZA(),t._uU(19,"\n    "),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(8),t.Q6J("disabled",e.notToUpdateScenarioInfo())}}function xr(n,s){if(1&n&&(t.TgZ(0,"ct-section"),t._uU(1,"\n    "),t.TgZ(2,"ct-section-body",8),t._uU(3,"\n        "),t.TgZ(4,"ct-section-body-row"),t._uU(5,"\n            "),t.TgZ(6,"ct-flex",9),t._uU(7,"\n                "),t.TgZ(8,"ct-flex-item"),t._uU(9),t._UZ(10,"br"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.YNc(13,pr,16,1,"ct-flex-item",10),t._uU(14,"\n            "),t.qZA(),t._uU(15,"\n        "),t.qZA(),t._uU(16,"\n        "),t.YNc(17,_r,21,1,"ct-section-body-row",0),t._uU(18,"\n    "),t.qZA(),t._uU(19,"\n    "),t.YNc(20,hr,20,1,"ct-section-footer",11),t._uU(21,"\n"),t.qZA()),2&n){const e=t.oxw();t.xp6(9),t.hij("\n                    Scenario: ",e.simpleScenarioSteps.scenarioInfo.name,""),t.xp6(2),t.hij("\n                    ",e.simpleScenarioSteps.scenarioInfo.description,"\n                "),t.xp6(2),t.Q6J("ngIf",!e.newNodePresent()&&!e.isFormActive),t.xp6(4),t.Q6J("ngIf",e.isFormActive),t.xp6(3),t.Q6J("ngIf",e.isFormActive)}}function yr(n,s){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE("\n                                ",e.id,", ",e.uid,"\n                            ")}}function vr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-cols",24),t._uU(1,"\n    "),t.TgZ(2,"ct-col",25),t._uU(3,"\n        "),t.TgZ(4,"ct-section"),t._uU(5,"\n            "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"ct-heading"),t._uU(11,"Add the first step to Scenario"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"ct-section-body"),t._uU(16,"\n                "),t.TgZ(17,"form",17,26),t._uU(19,"\n                    "),t.TgZ(20,"mat-form-field",27),t._uU(21,"\n                        "),t.TgZ(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25,"\n                        "),t.TgZ(26,"mat-select",28),t._uU(27,"\n                            "),t.YNc(28,yr,2,3,"mat-option",29),t._uU(29,"\n                        "),t.qZA(),t._uU(30,"\n                        "),t.TgZ(31,"mat-hint"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                    "),t.TgZ(36,"mat-form-field",18),t._uU(37,"\n                        "),t.TgZ(38,"mat-label"),t._uU(39,"Prompt name, min 5 chars, required"),t.qZA(),t._uU(40,"\n                        "),t._UZ(41,"input",19),t._uU(42,"\n                    "),t.qZA(),t._uU(43,"\n                    "),t.TgZ(44,"mat-form-field",18),t._uU(45,"\n                        "),t.TgZ(46,"mat-label"),t._uU(47,"Prompt, min 3 chars, required"),t.qZA(),t._uU(48,"\n                        "),t._UZ(49,"textarea",30),t._uU(50,"\n                    "),t.qZA(),t._uU(51,"\n                    "),t.TgZ(52,"mat-form-field",18),t._uU(53,"\n                        "),t.TgZ(54,"mat-label"),t._uU(55,"Code of result, min 3 chars, required"),t.qZA(),t._uU(56,"\n                        "),t._UZ(57,"input",31),t._uU(58,"\n                    "),t.qZA(),t._uU(59,"\n                "),t.qZA(),t._uU(60,"\n            "),t.qZA(),t._uU(61,"\n            "),t.TgZ(62,"ct-section-footer"),t._uU(63,"\n                "),t.TgZ(64,"ct-section-footer-row"),t._uU(65,"\n                    "),t.TgZ(66,"ct-flex",21),t._uU(67,"\n                        "),t.TgZ(68,"ct-flex-item"),t._uU(69,"\n                            "),t.TgZ(70,"button",32,33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createFirstDetail())}),t._uU(72,"Create"),t.qZA(),t._uU(73,"\n                        "),t.qZA(),t._uU(74,"\n                    "),t.qZA(),t._uU(75,"\n                "),t.qZA(),t._uU(76,"\n            "),t.qZA(),t._uU(77,"\n        "),t.qZA(),t._uU(78,"\n    "),t.qZA(),t._uU(79,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(17),t.Q6J("formGroup",e.form),t.xp6(6),t.hij(" ",t.lcZ(24,5,"evaluation-add.List of APIs"),""),t.xp6(5),t.Q6J("ngForOf",e.listOfApis),t.xp6(4),t.Oqu(t.lcZ(33,7,"main.This is a required field")),t.xp6(38),t.Q6J("disabled",e.notToCreate())}}function Ar(n,s){1&n&&t.GkF(0)}function Cr(n,s){1&n&&(t.TgZ(0,"ct-heading"),t._uU(1,"New step"),t.qZA())}function Sr(n,s){1&n&&(t.TgZ(0,"ct-heading"),t._uU(1,"Edit step"),t.qZA())}function wr(n,s){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,"scenario-function-"+e.code))}}function Zr(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",46),t._uU(1,"\n                                        "),t.TgZ(2,"mat-label"),t._uU(3,"Type of processing, required"),t.qZA(),t._uU(4,"\n                                        "),t.TgZ(5,"mat-select",47),t._uU(6,"\n                                            "),t.YNc(7,wr,3,4,"mat-option",29),t._uU(8,"\n                                        "),t.qZA(),t._uU(9,"\n                                    "),t.qZA()),2&n){const e=t.oxw(4);t.xp6(7),t.Q6J("ngForOf",e.listOfFunctions)}}function Ur(n,s){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.uid)}}function br(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",46),t._uU(1,"\n                                                "),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n                                                "),t.TgZ(6,"mat-select",28),t._uU(7,"\n                                                    "),t.YNc(8,Ur,2,2,"mat-option",29),t._uU(9,"\n                                                "),t.qZA(),t._uU(10,"\n                                            "),t.qZA()),2&n){const e=t.oxw(4);t.xp6(3),t.Oqu(t.lcZ(4,2,"scenario.API")),t.xp6(5),t.Q6J("ngForOf",e.listOfApis)}}function Tr(n,s){1&n&&(t.TgZ(0,"ct-flex-item",12),t._uU(1,"\n                                            "),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n                                            "),t._UZ(6,"mat-slide-toggle",48),t._uU(7,"\n                                        "),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scenario.Use cache")))}function Dr(n,s){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Prompt name, min 5 chars, required"),t.qZA())}function Fr(n,s){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Name of process, min 5 chars, required"),t.qZA())}function Mr(n,s){1&n&&(t.TgZ(0,"mat-form-field",18),t._uU(1,"\n                                        "),t.TgZ(2,"mat-label"),t._uU(3,"Prompt, min 3 chars, required"),t.qZA(),t._uU(4,"\n                                        "),t._UZ(5,"textarea",30),t._uU(6,"\n                                    "),t.qZA())}function Gr(n,s){1&n&&(t.TgZ(0,"mat-form-field",18),t._uU(1,"\n                                        "),t.TgZ(2,"mat-label"),t._uU(3,"Input data, must be defined before, min 3 chars, required"),t.qZA(),t._uU(4,"\n                                        "),t._UZ(5,"textarea",49),t._uU(6,"\n                                    "),t.qZA())}function Ir(n,s){1&n&&(t.TgZ(0,"mat-form-field",18),t._uU(1,"\n                                        "),t.TgZ(2,"mat-label"),t._uU(3,"Expected result of calling API, min 1 chars, required"),t.qZA(),t._uU(4,"\n                                        "),t._UZ(5,"input",50),t._uU(6,"\n                                    "),t.qZA())}function Rr(n,s){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Er(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",46),t._uU(1,"\n                                        "),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n                                        "),t.TgZ(6,"mat-select",51),t._uU(7,"\n                                            "),t.YNc(8,Rr,2,2,"mat-option",29),t._uU(9,"\n                                        "),t.qZA(),t._uU(10,"\n                                        "),t.TgZ(11,"mat-hint"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._uU(14,"\n                                    "),t.qZA()),2&n){const e=t.oxw(4);t.xp6(3),t.Oqu(t.lcZ(4,3,"evaluation-add.Type of aggregation")),t.xp6(5),t.Q6J("ngForOf",e.listOfAggregateTypes),t.xp6(4),t.Oqu(t.lcZ(13,5,"main.This is a required field"))}}function Lr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex",21),t._uU(1,"\n                                    "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                        "),t.TgZ(4,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw(2);return r.showMyContainer=!1,t.KtG(r.saveNode(o))}),t._uU(5,"\n                                            Create"),t.qZA(),t._uU(6,"\n                                    "),t.qZA(),t._uU(7,"\n                                    "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                                        "),t.TgZ(10,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.deleteNewNode(o))}),t._uU(11,"\n                                            Delete"),t.qZA(),t._uU(12,"\n                                    "),t.qZA(),t._uU(13,"\n                                "),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(4),t.Q6J("disabled",e.notToCreate())}}function Or(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-flex",21),t._uU(1,"\n                                    "),t.TgZ(2,"ct-flex-item"),t._uU(3,"\n                                        "),t.TgZ(4,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw(2);return r.showMyContainer=!1,t.KtG(r.saveNode(o))}),t._uU(5,"\n                                            Save"),t.qZA(),t._uU(6,"\n                                    "),t.qZA(),t._uU(7,"\n                                    "),t.TgZ(8,"ct-flex-item"),t._uU(9,"\n                                        "),t.TgZ(10,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.setModeToShow(o))}),t._uU(11,"\n                                            Cancel"),t.qZA(),t._uU(12,"\n                                    "),t.qZA(),t._uU(13,"\n                                "),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(4),t.Q6J("disabled",e.notToCreate())}}function qr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ct-cols",2),t._uU(1,"\n                "),t.TgZ(2,"ct-col",41),t._uU(3,"\n                    "),t.TgZ(4,"ct-section"),t._uU(5,"\n                        "),t.TgZ(6,"ct-section-header"),t._uU(7,"\n                            "),t.TgZ(8,"ct-section-header-row"),t._uU(9,"\n                                "),t.TgZ(10,"ct-section-header-row"),t._uU(11,"\n                                    "),t.TgZ(12,"ct-flex",42),t._uU(13,"\n                                        "),t.TgZ(14,"ct-flex-item"),t._uU(15,"\n                                            "),t.YNc(16,Cr,2,0,"ct-heading",0),t._uU(17,"\n                                            "),t.YNc(18,Sr,2,0,"ct-heading",0),t._uU(19,"\n                                        "),t.qZA(),t._uU(20,"\n                                        "),t.TgZ(21,"ct-flex-item"),t._uU(22,"\n                                            "),t.TgZ(23,"ct-flex",21),t._uU(24,"\n                                                "),t.TgZ(25,"ct-flex-item"),t._uU(26,"\n                                                    "),t.TgZ(27,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.isApi=!o.isApi)}),t._uU(28,"API"),t.qZA(),t._uU(29,"\n                                                "),t.qZA(),t._uU(30,"\n                                                "),t.TgZ(31,"ct-flex-item"),t._uU(32,"\n                                                    "),t.TgZ(33,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.isApi=!o.isApi)}),t._uU(34,"Processing"),t.qZA(),t._uU(35,"\n                                                "),t.qZA(),t._uU(36,"\n                                            "),t.qZA(),t._uU(37,"\n                                        "),t.qZA(),t._uU(38,"\n                                    "),t.qZA(),t._uU(39,"\n                                "),t.qZA(),t._uU(40,"\n                            "),t.qZA(),t._uU(41,"\n                        "),t.qZA(),t._uU(42,"\n                        "),t.TgZ(43,"ct-section-body"),t._uU(44,"\n                            "),t.TgZ(45,"ct-section-body-row"),t._uU(46,"\n                                "),t.TgZ(47,"form",17,26),t._uU(49,"\n                                    "),t.YNc(50,Zr,10,1,"mat-form-field",43),t._uU(51,"\n                                    "),t.TgZ(52,"ct-flex",9),t._uU(53,"\n                                        "),t.TgZ(54,"ct-flex-item",2),t._uU(55,"\n                                            "),t.YNc(56,br,11,4,"mat-form-field",43),t._uU(57,"\n                                        "),t.qZA(),t._uU(58,"\n                                        "),t.YNc(59,Tr,8,3,"ct-flex-item",10),t._uU(60,"\n                                    "),t.qZA(),t._uU(61,"\n\n                                    "),t.TgZ(62,"mat-form-field",18),t._uU(63,"\n                                        "),t.YNc(64,Dr,2,0,"mat-label",0),t._uU(65,"\n                                        "),t.YNc(66,Fr,2,0,"mat-label",0),t._uU(67,"\n                                        "),t._UZ(68,"input",19),t._uU(69,"\n                                    "),t.qZA(),t._uU(70,"\n                                    "),t.YNc(71,Mr,7,0,"mat-form-field",44),t._uU(72,"\n                                    "),t.YNc(73,Gr,7,0,"mat-form-field",44),t._uU(74,"\n                                    "),t.TgZ(75,"mat-form-field",18),t._uU(76,"\n                                        "),t.TgZ(77,"mat-label"),t._uU(78,"Code of result, min 3 chars, required"),t.qZA(),t._uU(79,"\n                                        "),t._UZ(80,"input",31),t._uU(81,"\n                                    "),t.qZA(),t._uU(82,"\n                                    "),t.YNc(83,Ir,7,0,"mat-form-field",44),t._uU(84,"\n                                    "),t.YNc(85,Er,15,7,"mat-form-field",43),t._uU(86,"\n                                "),t.qZA(),t._uU(87,"\n                            "),t.qZA(),t._uU(88,"\n                        "),t.qZA(),t._uU(89,"\n                        "),t.TgZ(90,"ct-section-footer"),t._uU(91,"\n                            "),t.TgZ(92,"ct-section-footer-row"),t._uU(93,"\n                                "),t.YNc(94,Lr,14,1,"ct-flex",45),t._uU(95,"\n                                "),t.YNc(96,Or,14,1,"ct-flex",45),t._uU(97,"\n                            "),t.qZA(),t._uU(98,"\n                        "),t.qZA(),t._uU(99,"\n                    "),t.qZA(),t._uU(100,"\n                "),t.qZA(),t._uU(101,"\n            "),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(16),t.Q6J("ngIf",i.modeNewNode(e)),t.xp6(2),t.Q6J("ngIf",i.modeEditNode(e)),t.xp6(9),t.Q6J("disabled",i.isApi),t.xp6(6),t.Q6J("disabled",!i.isApi),t.xp6(14),t.Q6J("formGroup",i.form),t.xp6(3),t.Q6J("ngIf",!i.isApi),t.xp6(6),t.Q6J("ngIf",i.isApiNeeded()),t.xp6(3),t.Q6J("ngIf",i.isApi),t.xp6(5),t.Q6J("ngIf",i.isApi),t.xp6(2),t.Q6J("ngIf",!i.isApi),t.xp6(5),t.Q6J("ngIf",i.isApi),t.xp6(2),t.Q6J("ngIf",!i.isApi),t.xp6(10),t.Q6J("ngIf",i.isAcceptanceTestFunc()),t.xp6(2),t.Q6J("ngIf",i.isMhAggregateFunc()),t.xp6(9),t.Q6J("ngIf",i.modeNewNode(e)),t.xp6(2),t.Q6J("ngIf",i.modeEditNode(e))}}function Nr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",38),t.NdJ("mouseenter",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.dragHover(r))})("mouseleave",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragHoverEnd())})("cdkDragStarted",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragStart())})("cdkDragReleased",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragEnd())}),t._uU(1,"\n            "),t._UZ(2,"button",39),t._uU(3,"\n\n            "),t.YNc(4,qr,102,16,"ct-cols",40),t._uU(5,"\n        "),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.Q6J("cdkDragData",e),t.xp6(4),t.Q6J("ngIf",i.showMyContainer)}}function kr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",52),t.NdJ("mouseenter",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.dragHover(r))})("mouseleave",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragHoverEnd())})("cdkDragStarted",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragStart())})("cdkDragReleased",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragEnd())}),t._uU(1,"\n            "),t.TgZ(2,"button",53),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.expansionModel.toggle(r.uuid))}),t._uU(3,"\n                "),t.TgZ(4,"mat-icon",54),t._uU(5),t.qZA(),t._uU(6,"\n            "),t.qZA(),t._uU(7),t._UZ(8,"br"),t._uU(9),t._UZ(10,"br"),t._uU(11),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.Q6J("cdkDragData",e),t.xp6(2),t.uIk("aria-label","toggle "+e.uuid),t.xp6(3),t.hij("\n                    ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right","\n                "),t.xp6(2),t.hij("\n            ",e.name,""),t.xp6(2),t.hij(" ",e.prompt,""),t.xp6(2),t.hij("Result code: [[",e.resultCode,"]]\n        ")}}function Br(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("expected: ",e.expected,"")}}function Yr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.addNewStubItem(o))}),t._uU(1,"\n                            "),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()}}function Pr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.startEditingNode(o))}),t._uU(1,"\n                            "),t.TgZ(2,"mat-icon"),t._uU(3,"edit_document"),t.qZA(),t._uU(4,"\n                        "),t.qZA()}}function Qr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.startStepEvaluation(o))}),t._uU(1,"\n                            "),t.TgZ(2,"mat-icon"),t._uU(3,"chat_paste_go"),t.qZA(),t._uU(4,"\n                        "),t.qZA()}}function jr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.delete(o))}),t._uU(1,"\n                            "),t.TgZ(2,"mat-icon"),t._uU(3,"delete_forever"),t.qZA(),t._uU(4,"\n                        "),t.qZA()}}function $r(n,s){1&n&&t.GkF(0)}function Hr(n,s){if(1&n&&(t.TgZ(0,"ct-flex"),t._uU(1,"\n                        "),t.YNc(2,$r,1,0,"ng-container",4),t._uU(3,"\n                    "),t.qZA()),2&n){t.oxw(3);const e=t.MAs(25);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}const Vr=function(n){return{"background-highlight":n}};function Jr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",52),t.NdJ("mouseenter",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.dragHover(r))})("mouseleave",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragHoverEnd())})("cdkDragStarted",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragStart())})("cdkDragReleased",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dragEnd())}),t._uU(1,"\n            "),t.TgZ(2,"ct-section-body",2),t._uU(3,"\n                "),t.TgZ(4,"ct-section-body-row",55),t._uU(5,"\n                    "),t.TgZ(6,"ct-flex"),t._uU(7,"\n                        "),t._uU(8,"\n                        "),t.TgZ(9,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.expansionModel.toggle(r.uuid))}),t._uU(10,"\n                            "),t.TgZ(11,"mat-icon",54),t._uU(12),t.qZA(),t._uU(13,"\n                        "),t.qZA(),t._uU(14),t._UZ(15,"br"),t._uU(16),t._UZ(17,"br"),t._uU(18),t.YNc(19,Br,3,1,"ng-container",0),t._uU(20,"\n                        "),t.YNc(21,Yr,4,0,"button",57),t._uU(22,"\n                        "),t.YNc(23,Pr,5,0,"button",58),t._uU(24,"\n                        "),t.YNc(25,Qr,5,0,"button",59),t._uU(26,"\n                        "),t.YNc(27,jr,5,0,"button",60),t._uU(28,"\n                    "),t.qZA(),t._uU(29,"\n                "),t.qZA(),t._uU(30,"\n                "),t.TgZ(31,"ct-section-body-row"),t._uU(32,"\n                    "),t.YNc(33,Hr,4,1,"ct-flex",0),t._uU(34,"\n                "),t.qZA(),t._uU(35,"\n            "),t.qZA(),t._uU(36,"\n        "),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.Q6J("cdkDragData",e),t.xp6(4),t.Q6J("ngClass",t.VKq(14,Vr,i.isActiveNode(e))),t.xp6(5),t.uIk("aria-label","toggle "+e.uuid),t.xp6(3),t.hij("\n                                ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right","\n                            "),t.xp6(2),t.AsE("\n                        Type: ",i.MhUtils.isNull(e.functionCode)?"API: "+e.apiCode:"Process: "+e.functionCode,", Name: ",e.name,""),t.xp6(2),t.Oqu(e.prompt),t.xp6(2),t.hij("Result code: [[",e.resultCode,"]]\n                        "),t.xp6(1),t.Q6J("ngIf",i.isMhAcceptanceTestNode(e)),t.xp6(2),t.Q6J("ngIf",!i.stepEvaluation()),t.xp6(2),t.Q6J("ngIf",!i.stepEvaluation()),t.xp6(2),t.Q6J("ngIf",!i.stepEvaluation()&&i.canBeEvaluated(e)),t.xp6(2),t.Q6J("ngIf",!i.stepEvaluation()),t.xp6(6),t.Q6J("ngIf",i.stepEvaluation()&&i.isActiveNode(e))}}function zr(n,s){if(1&n){const e=t.EpF();t._uU(0,"\n    "),t.TgZ(1,"mat-tree",35),t.NdJ("cdkDropListDropped",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.drop(o))}),t._uU(2,"\n        "),t.YNc(3,Nr,6,2,"mat-tree-node",36),t._uU(4,"\n\n        "),t.YNc(5,kr,12,6,"mat-tree-node",37),t._uU(6,"\n\n        "),t.YNc(7,Jr,37,16,"mat-tree-node",37),t._uU(8,"\n    "),t.qZA(),t._uU(9,"\n")}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.modeEditOrNewNode),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasNewNodePresent),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasNewNodeAbsentAndNotEvaluation)}}function Kr(n,s){if(1&n&&(t.ynx(0,70),t._uU(1,"\n                                "),t.TgZ(2,"ct-flex",71),t._uU(3,"\n                                    "),t.TgZ(4,"ct-flex-item",2),t._uU(5,"\n                                        "),t.TgZ(6,"mat-form-field",18),t._uU(7,"\n                                            "),t.TgZ(8,"mat-label"),t._uU(9),t.qZA(),t._uU(10,"\n                                            "),t._UZ(11,"input",72),t._uU(12,"\n                                        "),t.qZA(),t._uU(13,"\n                                    "),t.qZA(),t._uU(14,"\n                                "),t.qZA(),t._uU(15,"\n                            "),t.BQk()),2&n){const e=s.index,i=t.oxw(2);t.xp6(2),t.Q6J("formGroupName",e),t.xp6(7),t.hij("Variable ",i.getNameOfField(e),", min 1 chars, required")}}function Wr(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",73),t._uU(1,"\n                                    "),t.TgZ(2,"mat-label"),t._uU(3,"Actual prompt:"),t.qZA(),t._uU(4,"\n"),t._uU(5,"\n                                    "),t._UZ(6,"textarea",74),t._uU(7,"\n                                "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("value",e.stepEvaluationState.prompt)}}function Xr(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",73),t._uU(1,"\n                                    "),t.TgZ(2,"mat-label"),t._uU(3,"Result of evaluation:"),t.qZA(),t._uU(4,"\n                                    "),t._UZ(5,"textarea",74),t._uU(6,"\n                                "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("value",e.stepEvaluationState.result)}}function tl(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",73),t._uU(1,"\n                                    "),t.TgZ(2,"mat-label"),t._uU(3,"Raw result of evaluation:"),t.qZA(),t._uU(4,"\n                                    "),t._UZ(5,"textarea",74),t._uU(6,"\n                                "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("value",e.stepEvaluationState.rawResult)}}function el(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",73),t._uU(1,"\n                                    "),t.TgZ(2,"mat-label"),t._uU(3,"Error:"),t.qZA(),t._uU(4,"\n                                    "),t._UZ(5,"textarea",74),t._uU(6,"\n                                "),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("value",e.stepEvaluationState.error)}}function nl(n,s){if(1&n){const e=t.EpF();t._uU(0,"\n    "),t.TgZ(1,"ct-cols",2),t._uU(2,"\n        "),t.TgZ(3,"ct-col",41),t._uU(4,"\n            "),t.TgZ(5,"ct-section"),t._uU(6,"\n                "),t.TgZ(7,"ct-section-header"),t._uU(8,"\n                    "),t.TgZ(9,"ct-section-header-row"),t._uU(10,"\n                        "),t.TgZ(11,"ct-section-header-row"),t._uU(12,"\n                            "),t.TgZ(13,"ct-flex",65),t._uU(14,"\n                                "),t.TgZ(15,"ct-flex-item"),t._uU(16,"\n                                    "),t.TgZ(17,"ct-heading"),t._uU(18,"Evaluate step"),t.qZA(),t._uU(19,"\n                                "),t.qZA(),t._uU(20,"\n                                "),t.TgZ(21,"ct-flex-item",12),t._uU(22,"\n                                    "),t.TgZ(23,"button",66),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.runStepEvaluation())}),t._uU(24,"\n                                        Evaluate\n                                    "),t.qZA(),t._uU(25,"\n                                    "),t.TgZ(26,"button",66),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.acceptStepEvaluation())}),t._uU(27,"\n                                        Accept\n                                    "),t.qZA(),t._uU(28,"\n                                    "),t.TgZ(29,"button",67),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancelStepEvaluation())}),t._uU(30,"\n                                        Cancel\n                                    "),t.qZA(),t._uU(31,"\n                                "),t.qZA(),t._uU(32,"\n                            "),t.qZA(),t._uU(33,"\n                        "),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                "),t.qZA(),t._uU(36,"\n                "),t.TgZ(37,"ct-section-body"),t._uU(38,"\n                    "),t.TgZ(39,"ct-section-body-row"),t._uU(40,"\n                        "),t.TgZ(41,"form",17),t._uU(42,"\n                            "),t.YNc(43,Kr,16,2,"ng-container",68),t._uU(44,"\n                            "),t.TgZ(45,"mat-form-field",18),t._uU(46,"\n                                "),t.TgZ(47,"mat-label"),t._uU(48,"Prompt for evaluating, min 3 chars, required"),t.qZA(),t._uU(49,"\n                                "),t._UZ(50,"textarea",30),t._uU(51,"\n                            "),t.qZA(),t._uU(52,"\n                        "),t.qZA(),t._uU(53,"\n                    "),t.qZA(),t._uU(54,"\n                "),t.qZA(),t._uU(55,"\n                "),t.TgZ(56,"ct-section-footer"),t._uU(57,"\n                    "),t.TgZ(58,"ct-section-footer-row"),t._uU(59,"\n                        "),t.TgZ(60,"ct-flex"),t._uU(61,"\n                            "),t.TgZ(62,"ct-flex-item",41),t._uU(63,"\n                                "),t.YNc(64,Wr,8,1,"mat-form-field",69),t._uU(65,"\n                                "),t.YNc(66,Xr,7,1,"mat-form-field",69),t._uU(67,"\n                                "),t.YNc(68,tl,7,1,"mat-form-field",69),t._uU(69,"\n                                "),t.YNc(70,el,7,1,"mat-form-field",69),t._uU(71,"\n                            "),t.qZA(),t._uU(72,"\n                        "),t.qZA(),t._uU(73,"\n                    "),t.qZA(),t._uU(74,"\n                "),t.qZA(),t._uU(75,"\n            "),t.qZA(),t._uU(76,"\n        "),t.qZA(),t._uU(77,"\n    "),t.qZA(),t._uU(78,"\n")}if(2&n){const e=t.oxw();t.xp6(23),t.Q6J("disabled",e.dontDoStepEvaluation()),t.xp6(3),t.Q6J("disabled",e.dontAcceptStepEvaluation()),t.xp6(15),t.Q6J("formGroup",e.evalStepForm),t.xp6(2),t.Q6J("ngForOf",null==e.evalStepForm.controls.variables?null:e.evalStepForm.controls.variables.value)("ngForTrackBy",e.trackByFn),t.xp6(21),t.Q6J("ngIf",e.MhUtils.isNotNull(e.stepEvaluationState.prompt)),t.xp6(2),t.Q6J("ngIf",e.MhUtils.isNotNull(e.stepEvaluationState.result)),t.xp6(2),t.Q6J("ngIf",e.MhUtils.isNotNull(e.stepEvaluationState.rawResult)),t.xp6(2),t.Q6J("ngIf",e.MhUtils.isNotNull(e.stepEvaluationState.error))}}function il(n,s){if(1&n&&(t._uU(0,"\n    "),t.ynx(1),t._uU(2,"\n        "),t._UZ(3,"ct-exec-contexts",75),t._uU(4,"\n    "),t.BQk(),t._uU(5,"\n")),2&n){const e=t.oxw();t.xp6(3),t.Q6J("sourceCodeId",e.sourceCodeId)}}const Le="mh.acceptance-test";var T=(()=>{return(n=T||(T={})).new="new",n.edit="edit",n.show="show",T;var n})();class ol{constructor(s,e){(0,l.Z)(this,"node",void 0),(0,l.Z)(this,"parent",void 0),this.node=s,this.parent=e}}class qe{constructor(s,e,i,o,r,a,c,g,h,b,C,Y,vt,At,ot,Ft){(0,l.Z)(this,"nodeId",void 0),(0,l.Z)(this,"expandable",void 0),(0,l.Z)(this,"level",void 0),(0,l.Z)(this,"uuid",void 0),(0,l.Z)(this,"apiId",void 0),(0,l.Z)(this,"apiCode",void 0),(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"prompt",void 0),(0,l.Z)(this,"r",void 0),(0,l.Z)(this,"resultCode",void 0),(0,l.Z)(this,"expected",void 0),(0,l.Z)(this,"isNew",void 0),(0,l.Z)(this,"functionCode",void 0),(0,l.Z)(this,"aggregateType",void 0),(0,l.Z)(this,"isCachable",void 0),(0,l.Z)(this,"mode",void 0),this.nodeId=s,this.expandable=e,this.level=i,this.uuid=o,this.apiId=r,this.apiCode=a,this.name=c,this.prompt=g,this.r=h,this.resultCode=b,this.expected=C,this.isNew=Y,this.functionCode=vt,this.aggregateType=At,this.isCachable=ot,this.mode=Ft}}class rl{constructor(){(0,l.Z)(this,"activeNode",null),(0,l.Z)(this,"prompt",null),(0,l.Z)(this,"result",null),(0,l.Z)(this,"rawResult",null),(0,l.Z)(this,"error",null),(0,l.Z)(this,"previousPrompt",null)}}class O extends Z.S{get variables(){return this.getVariables()}getVariables(){return this.evalStepForm.controls.variables}ngAfterViewInit(){}ngOnInit(){console.log("ngOnInit() start"),this.scenarioGroupId=this.activatedRoute.snapshot.paramMap.get("scenarioGroupId"),this.scenarioId=this.activatedRoute.snapshot.paramMap.get("scenarioId"),this.subscribeSubscription(this.settingsService.events.subscribe(s=>{s instanceof ct.U&&this.translate.use(s.settings.language)})),this.loadAssetsForCreation(),this.updateTree(),this.getSourceCodeId(),console.log("ngOnInit() end")}ngOnDestroy(){this.unsubscribeSubscriptions()}constructor(s,e,i,o,r,a,c){super(c),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"scenarioService",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"settingsService",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"authenticationService",void 0),(0,l.Z)(this,"execContexts",void 0),(0,l.Z)(this,"treeControl",void 0),(0,l.Z)(this,"treeFlattener",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"expansionModel",new rr.Ov(!0)),(0,l.Z)(this,"dragging",!1),(0,l.Z)(this,"expandTimeout",void 0),(0,l.Z)(this,"expandDelay",1e3),(0,l.Z)(this,"validateDrop",!1),(0,l.Z)(this,"listOfApis",[]),(0,l.Z)(this,"listOfFunctions",[]),(0,l.Z)(this,"listOfAggregateTypes",[]),(0,l.Z)(this,"response",void 0),(0,l.Z)(this,"scenarioGroupId",void 0),(0,l.Z)(this,"scenarioId",void 0),(0,l.Z)(this,"sourceCodeId",void 0),(0,l.Z)(this,"needToExpandAll",!0),(0,l.Z)(this,"showMyContainer",!0),(0,l.Z)(this,"isFormActive",!1),(0,l.Z)(this,"isStepEvaluation",!1),(0,l.Z)(this,"allUuids",[]),(0,l.Z)(this,"isApi",!0),(0,l.Z)(this,"dataChange",new Kt.X([])),(0,l.Z)(this,"dataTree",void 0),(0,l.Z)(this,"simpleScenarioSteps",null),(0,l.Z)(this,"stepEvaluationState",new rl),(0,l.Z)(this,"preparedStep",null),(0,l.Z)(this,"form",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(5)]),prompt:new u.NI("",[u.kI.required,u.kI.minLength(3)]),resultCode:new u.NI("",[u.kI.required,u.kI.minLength(3)]),apiUid:new u.NI(null),aggregateType:new u.NI(null),processingFunction:new u.NI(null),expected:new u.NI(""),cachable:new u.NI(!1)})),(0,l.Z)(this,"scenarioForm",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(5)]),description:new u.NI("",[u.kI.required,u.kI.minLength(5)])})),(0,l.Z)(this,"variableForm",new u.cw({name:new u.NI("",[u.kI.required,u.kI.minLength(1)]),value:new u.NI("",[u.kI.required,u.kI.minLength(1)])})),(0,l.Z)(this,"evalStepForm",new u.cw({prompt:new u.NI("",[u.kI.required,u.kI.minLength(3)]),variables:new u.Oe([])})),(0,l.Z)(this,"formDirective",void 0),(0,l.Z)(this,"currentStates",new Set),(0,l.Z)(this,"states",_t.C),(0,l.Z)(this,"button",void 0),(0,l.Z)(this,"transformer",(g,h)=>{let b=m.C.len(g.steps),C=m.C.randomIntAsStr(1e3,999999);g.nodeId=C;let Y=new qe(C,b>0,h,g.uuid,g.apiId,g.apiCode,g.name,g.prompt,g.r,g.resultCode,g.expected,g.isNew,g.functionCode,g.aggregateType,g.isCachable,m.C.isNull(g.mode)?T.show:g.mode);return this.allUuids.push(g.uuid),Y}),(0,l.Z)(this,"_getLevel",g=>g.level),(0,l.Z)(this,"_isExpandable",g=>g.expandable),(0,l.Z)(this,"_getChildren",g=>(0,or.of)(g.steps)),(0,l.Z)(this,"hasChild",(g,h)=>h.expandable),(0,l.Z)(this,"hasNoContent",(g,h)=>(console.log("hasNoContent()",JSON.stringify(h)),O.anyMode(h.mode,[T.new,T.edit]))),(0,l.Z)(this,"hasNewNodeAbsentAndNotEvaluation",(g,h)=>!this.hasNewNodePresent(g,h)),(0,l.Z)(this,"hasNewNodePresent",(g,h)=>this.newNodePresent()||this.isFormActive),(0,l.Z)(this,"modeEditOrNewNode",(g,h)=>O.anyMode(h.mode,[T.new,T.edit])),(0,l.Z)(this,"modeEditNode",g=>O.anyMode(g.mode,[T.edit])),(0,l.Z)(this,"modeNewNode",g=>O.anyMode(g.mode,[T.new])),(0,l.Z)(this,"modeShowAllNode",(g,h)=>!this.nodeWithModePresent([T.new,T.edit])),(0,l.Z)(this,"modeEditSomeNode",(g,h)=>this.nodeWithModePresent([T.edit])),(0,l.Z)(this,"modeNewSomeNode",(g,h)=>this.nodeWithModePresent([T.new])),(0,l.Z)(this,"MhUtils",m.C),this.router=s,this.scenarioService=e,this.activatedRoute=i,this.translate=o,this.settingsService=r,this.dialog=a,this.authenticationService=c,this.treeFlattener=new st.JZ(this.transformer,this._getLevel,this._isExpandable,this._getChildren),this.treeControl=new sr.C2(this._getLevel,this._isExpandable),this.dataSource=new st.kc(this.treeControl,this.treeFlattener),this.dataChange.subscribe(g=>this.rebuildTreeForData(g))}notToCreate(){let s=m.C.isNull(this.form.value.apiUid)&&m.C.isNull(this.form.value.processingFunction),e=this.form.invalid,i=!this.isApi&&this.isMhAcceptanceTest()&&(0===m.C.len(this.form.value.expected)||m.C.isNull(this.form.value.apiUid));return console.log("notToCreate() ",s,e,i),s||e||i}isApiNeeded(){return this.isApi||this.isMhAcceptanceTest()}loadAssetsForCreation(){this.setIsLoadingStart(),this.scenarioService.scenarioStepAdd().subscribe(s=>{this.response=s,this.listOfApis=this.response.apis,this.listOfFunctions=this.response.functions,this.listOfAggregateTypes=this.response.aggregateTypes,this.isLoading=!1})}dataSourceEmpty(){return 0===m.C.len(this.dataTree)}canBeEvaluated(s){return m.C.isNull(s.functionCode)||m.C.anyStr(s.functionCode,["mh.acceptance-test","mh.enhance-text"])}isMhAggregate(){return m.C.isNotNull(this.form.value.processingFunction)&&"mh.aggregate"===this.form.value.processingFunction.code}isMhAggregateFunc(){return!this.isApi&&this.isMhAggregate()}isAcceptanceTestFunc(){return!this.isApi&&this.isMhAcceptanceTest()}isMhAcceptanceTest(){return m.C.isNotNull(this.form.value.processingFunction)&&this.form.value.processingFunction.code===Le}isMhAcceptanceTestNode(s){return m.C.isNotNull(s.functionCode)&&s.functionCode===Le}shouldValidate(s){this.validateDrop=s.checked}visibleNodes(){const s=[];function e(i,o){s.push(i),o.includes(i.uuid)&&m.C.isNotNull(i.steps)&&i.steps.map(r=>e(r,o))}return this.dataSource.data.forEach(i=>{e(i,this.expansionModel.selected)}),s}drop(s){if(console.log("37.10 origin/destination",s.previousIndex,s.currentIndex),s.previousIndex===s.currentIndex||!s.isPointerOverContainer)return;console.log("37.20 drop()");let e=this.visibleNodes();console.log("37.23 drop(), currVisibleNodes: ",e);const i=e[s.currentIndex],o=e[s.previousIndex];console.log("37.25 drop(), prev --\x3e, curr: ",o.uuid,i.uuid),console.log("37.25 drop(), prev --\x3e, curr: ",o,i),console.log("37.50 drop()"),this.scenarioService.scenarioStepRearrangeTable(this.scenarioId.toString(),o.uuid,i.uuid).subscribe({next:r=>this.updateTree(),complete:()=>this.setIsLoadingEnd()})}updateTree(){this.setIsLoadingStart(),this.scenarioService.scenarioSteps(this.scenarioGroupId,this.scenarioId).subscribe({next:s=>{this.simpleScenarioSteps=s,this.dataTree=s.steps,this.dataChange.next(this.dataTree)},complete:()=>{this.setIsLoadingEnd()}})}dragStart(){this.dragging=!0}dragEnd(){this.dragging=!1}dragHover(s){this.dragging&&(clearTimeout(this.expandTimeout),this.expandTimeout=setTimeout(()=>{this.treeControl.expand(s)},this.expandDelay))}dragHoverEnd(){this.dragging&&clearTimeout(this.expandTimeout)}rebuildTreeForData(s){this.dataSource.data=s,this.refreshTree()}refreshTree(){this.needToExpandAll&&m.C.isNotNull(this.simpleScenarioSteps)?(this.needToExpandAll=!1,this.treeControl.expandAll(),this.allUuids.forEach(s=>this.expansionModel.select(s))):this.treeControl.collapseAll(),this.expansionModel.selected.forEach(s=>{const e=this.treeControl.dataNodes.find(i=>i.uuid===s);m.C.isNotNull(e)&&this.treeControl.expand(e)})}expandNodesById(s,e){if(m.C.isNull(s)||0===s.length)return;const i=new Set(e);return s.forEach(o=>{if(i.has(o.nodeId)){this.treeControl.expand(o);let r=this.getParentNode(o);for(;r;)this.treeControl.expand(r),r=this.getParentNode(r)}})}getParentNode(s){const e=s.level;if(e<1)return null;for(let o=this.treeControl.dataNodes.indexOf(s)-1;o>=0;o--){const r=this.treeControl.dataNodes[o];if(r.level<e)return r}return null}findInTree(s){return this.findInTreeWithParent(s,null)}findInTreeWithParent(s,e){if(m.C.isNull(s))return null;for(let i=0;i<this.dataTree.length;i++){const o=this.dataTree[i];console.log("10.01",o);let r=this.findInBranch(s,o,e);if(m.C.isNotNull(r))return r}return null}findInBranch(s,e,i){if(e.nodeId===s.nodeId)return new ol(e,i);if(m.C.isNotNull(e.steps)){for(const o of e.steps){let r=this.findInBranch(s,o,e);if(m.C.isNotNull(r))return r}return null}}updateScenarioInfo(){this.currentStates.add(this.states.wait),this.isFormActive=!1;const s=this.scenarioService.updateScenarioInfoFormCommit(this.scenarioGroupId,this.scenarioId,this.scenarioForm.value.name,this.scenarioForm.value.description).subscribe(e=>{this.updateTree()},()=>{},()=>{this.currentStates.delete(this.states.wait),s.unsubscribe()})}notToUpdateScenarioInfo(){return this.scenarioForm.invalid}cancelUpdatingScenarioInfo(){this.isFormActive=!1,this.dataChange.next(this.dataTree)}startEditingScenarioInfo(){this.scenarioForm=new u.cw({name:new u.NI(this.simpleScenarioSteps.scenarioInfo.name,[u.kI.required,u.kI.minLength(5)]),description:new u.NI(this.simpleScenarioSteps.scenarioInfo.description,[u.kI.required,u.kI.minLength(5)])}),this.isFormActive=!0,this.dataChange.next(this.dataTree)}startEditingNode(s){this.showMyContainer=!0;let e=this.findInTree(s);console.log("50.10",JSON.stringify(e)),e.node.isNew=!0,e.node.mode=T.edit,this.form=new u.cw({name:new u.NI(e.node.name,[u.kI.required,u.kI.minLength(5)]),prompt:new u.NI(e.node.prompt,[u.kI.required,u.kI.minLength(3)]),resultCode:new u.NI(e.node.resultCode,[u.kI.required,u.kI.minLength(3)]),apiUid:new u.NI(null),aggregateType:new u.NI(null),processingFunction:new u.NI(null),expected:new u.NI(e.node.expected),cachable:new u.NI(e.node.isCachable)});const i=this.listOfApis.find(o=>o.uid==e.node.apiCode);if(this.form.get("apiUid").setValue(i),m.C.isNull(e.node.functionCode))this.isApi=!0;else{this.isApi=!1;const o=this.listOfFunctions.find(r=>r.code==e.node.functionCode);this.form.get("processingFunction").setValue(o),this.form.get("aggregateType").setValue(e.node.aggregateType)}console.log("50.20",this.isApi,this.form.value.apiUid,this.form.value.processingFunction,this.form.value.aggregateType),this.dataChange.next(this.dataTree)}addNewStubItem(s){this.showMyContainer=!0,console.log("10.10",s),this.treeControl.expand(s);let e=this.findInTree(s);console.log("10.11",e),this.addNewNode(e.node),this.dataChange.next(this.dataTree)}stepEvaluation(){return this.isStepEvaluation}trackByFn(s,e){return s}getNameOfField(s){let e=this.getVariables();return m.C.isNotNull(e)&&e.length>s?e.at(s).value.name:"[not found]"}resetEvalStepForm(){let s=this.getVariables();m.C.isNotNull(s)&&s.length>0&&s.clear(),this.evalStepForm.reset()}startStepEvaluation(s){this.resetEvalStepForm(),this.scenarioService.prepareStepForEvaluation(this.scenarioId.toString(),s.uuid).subscribe(e=>{if(console.log("startStepEvaluation(), response: ",JSON.stringify(e)),this.preparedStep=e,m.C.isNull(e.errorMessagesAsStr)){this.isStepEvaluation=!0,this.stepEvaluationState.activeNode=s,this.evalStepForm.patchValue({prompt:s.prompt});const i=this.getVariables();for(const o of e.inputs){const r=new u.cw({name:new u.NI(o,[u.kI.required,u.kI.minLength(1)]),value:new u.NI("",[u.kI.required,u.kI.minLength(1)])});i.push(r)}console.log("startStepEvaluation(), form length: ",i.length),this.dataChange.next(this.dataTree)}})}runStepEvaluation(){let s=new lr;s.uuid=this.stepEvaluationState.activeNode.uuid,s.prompt=this.evalStepForm.value.prompt,s.variables=[];let e=this.getVariables();for(let i=0;i<e.length;i++){let o=new ar;o.name=e.at(i).value.name,o.value=e.at(i).value.value,s.variables.push(o)}this.scenarioService.runStepEvaluation(this.scenarioId.toString(),s).subscribe(i=>{console.log("runStepEvaluation(), response: ",JSON.stringify(i)),this.stepEvaluationState.prompt=i.prompt,this.stepEvaluationState.result=i.result,this.stepEvaluationState.rawResult=i.rawrResult,this.stepEvaluationState.error=i.error,this.stepEvaluationState.previousPrompt=s.prompt})}acceptStepEvaluation(){let s=this.stepEvaluationState.activeNode,e=this.evalStepForm.value.prompt;console.log("10.20",s),this.findInTree(s),this.resetStepEvaluation(),this.scenarioService.acceptNewPromptForStep(this.scenarioId.toString(),s.uuid,e).subscribe({next:o=>this.updateTree(),complete:()=>this.setIsLoadingEnd()})}dontDoStepEvaluation(){return this.evalStepForm.invalid||this.getVariables().invalid}dontAcceptStepEvaluation(){return this.evalStepForm.value.prompt===this.stepEvaluationState.activeNode.prompt||this.evalStepForm.value.prompt!==this.stepEvaluationState.previousPrompt&&m.C.isNotNull(this.stepEvaluationState.result)||m.C.isNull(this.stepEvaluationState.result)}resetStepEvaluation(){this.isStepEvaluation=!1,this.stepEvaluationState.activeNode=null,this.stepEvaluationState.prompt=null,this.stepEvaluationState.result=null,this.stepEvaluationState.rawResult=null,this.stepEvaluationState.error=null,this.stepEvaluationState.previousPrompt=null}cancelStepEvaluation(){this.resetStepEvaluation(),this.dataChange.next(this.dataTree)}createFirstDetail(){console.log("27.10",this.form.value.apiUid),this.saveStepInternal(null,null)}saveNode(s){let e=this.form.value.name,i=m.C.len(e);if(console.log("MhUtils.len(itemValue.length)",e,i),i<5)return;console.log("10.20",s);let o=this.findInTree(s);console.log("10.21",o),console.log("10.22",this.form.value.apiUid),this.saveStepInternal(m.C.isNull(s.uuid)?null:s.uuid,m.C.isNull(o.parent)?null:o.parent.uuid)}saveStepInternal(s,e){this.button.disabled=!0,this.currentStates.add(this.states.wait);let i=this.form.value.name,o=this.form.value.prompt,r=this.form.value.resultCode,a=m.C.isNull(this.form.value.processingFunction)?null:this.form.value.processingFunction.code,c=m.C.isNull(this.form.value.aggregateType)?null:this.form.value.aggregateType,g=this.form.value.expected,h=this.isApiNeeded()?this.form.value.apiUid.id.toString():null,b=!m.C.isNull(this.form.value.cachable)&&this.form.value.cachable;this.formDirective.resetForm(),this.form.reset();const C=this.scenarioService.addOrSaveScenarioStepFormCommit(this.scenarioGroupId,this.scenarioId,s,e,i,o,h,r,a,c,b.toString(),g).subscribe(Y=>{this.updateTree()},()=>{},()=>{this.currentStates.delete(this.states.wait),C.unsubscribe()})}isActiveNode(s){return m.C.isNotNull(this.stepEvaluationState.activeNode)&&s.uuid===this.stepEvaluationState.activeNode.uuid}delete(s){this.scenarioService.scenarioStepDeleteCommit(this.scenarioId.toString(),s.uuid).subscribe(e=>this.updateTree())}deleteNewNode(s){console.log("10.20",s);let e=this.findInTree(s);console.log("10.21",e),this.deleteNode(e),this.formDirective.resetForm(),this.form.reset()}deleteNode(s){let e;e=m.C.isNull(s.parent)?this.dataTree:s.parent.steps;for(let i=0;i<e.length;i++)e[i].nodeId===s.node.nodeId&&e.splice(i,1);this.dataChange.next(this.dataTree)}addNewNode(s){m.C.isNull(s.steps)&&(s.steps=[]),s.steps.push({uuid:"",nodeId:m.C.randomIntAsStr(1e3,999999),isNew:!0,mode:T.new}),this.dataChange.next(this.dataTree)}updateNode(s,e){s.name=e,s.isNew=!1,s.mode=T.show,this.dataChange.next(this.dataTree)}newNodePresent(){if(m.C.isNull(this.dataTree))return!1;for(const s of this.dataTree)if(this.findNewStubNodeInBranch(s))return!0;return!1}findNewStubNodeInBranch(s){if(m.C.isTrue(s.isNew))return!0;if(m.C.isNotNull(s.steps)){for(const e of s.steps)if(this.findNewStubNodeInBranch(e))return!0;return!1}}nodeWithModePresent(s){if(m.C.isNull(this.dataTree))return!1;for(const e of this.dataTree)if(this.findNodeWithModeInBranch(e,s))return!0;return!1}findNodeWithModeInBranch(s,e){if(O.anyMode(s.mode,e))return!0;if(m.C.isNotNull(s.steps)){for(const i of s.steps)if(this.findNodeWithModeInBranch(i,e))return!0;return!1}}static anyMode(s,e){if(m.C.isNull(s))return!1;for(const i of e)if(i===s)return!0;return!1}setModeToShow(s){s.mode=T.show,s.isNew=!1,console.log("40.20",s);let e=this.findInTree(s);e.node.mode=T.show,e.node.isNew=!1,this.formDirective.resetForm(),this.form.reset(),this.dataChange.next(this.dataTree)}runScenario(){this.scenarioService.runScenario(this.scenarioGroupId.toString(),this.scenarioId.toString()).subscribe(s=>{this.getSourceCodeId()})}getSourceCodeId(){this.scenarioService.querySourceCodeId(this.scenarioGroupId.toString(),this.scenarioId.toString()).subscribe(s=>{this.sourceCodeId=m.C.isNotNull(s)&&m.C.isNotNull(s.simpleSourceCode)?s.simpleSourceCode.id.toString():null})}stateOfTasks(){this.dialog.open(this.execContexts,{width:"100%"})}isSourceCodeId(){return m.C.isNotNull(this.sourceCodeId)}}(0,l.Z)(O,"\u0275fac",function(s){return new(s||O)(t.Y36(y.F0),t.Y36(I),t.Y36(y.gz),t.Y36(F.sK),t.Y36(ct.g),t.Y36(z.uw),t.Y36(G.$h))}),(0,l.Z)(O,"\u0275cmp",t.Xpm({type:O,selectors:[["scenario-details"]],viewQuery:function(s,e){if(1&s&&(t.Gf(gr,5),t.Gf(fr,5),t.Gf(L.lW,5)),2&s){let i;t.iGM(i=t.CRH())&&(e.execContexts=i.first),t.iGM(i=t.CRH())&&(e.formDirective=i.first),t.iGM(i=t.CRH())&&(e.button=i.first)}},features:[t.qOj],decls:29,vars:3,consts:[[4,"ngIf"],["align-items","baseline","style","width: 100%;",4,"ngIf"],[2,"width","100%"],["gap","8px","justify-content","flex-start"],[4,"ngTemplateOutlet"],["scenarioTree",""],["stepEvaluationTemplate",""],["execContexts",""],[2,"width","50%"],["gap","8px","justify-content","space-between"],["justify-content","flex-end",4,"ngIf"],["style","width: 50%;",4,"ngIf"],["justify-content","flex-end"],["mat-icon-button","","matTooltip","Edit scenario info","color","primary",3,"click"],["mat-icon-button","","matTooltip","Execute scenario","color","primary",3,"click"],["mat-icon-button","","matTooltip","Tasks","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Tasks","color","primary",3,"click"],["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","","type","text","autocomplete","off","formControlName","name"],["formControlName","description","matInput","matInput","cdkTextareaAutosize","cdkTextareaAutosize","cdkAutosizeMinRows","5","value","","autocomplete","off"],["justify-content","flex-end","gap","8px"],["mat-flat-button","","color","primary","size","forTableRow",3,"disabled","click"],["mat-flat-button","","color","accent","size","forTableRow",3,"click"],["align-items","baseline",2,"width","100%"],[2,"width","80%"],["formDirective","ngForm"],["appearance","outline"],["formControlName","apiUid"],[3,"value",4,"ngFor","ngForOf"],["formControlName","prompt","matInput","matInput","cdkTextareaAutosize","cdkTextareaAutosize","cdkAutosizeMinRows","10","value","","autocomplete","off"],["matInput","","type","text","autocomplete","off","formControlName","resultCode"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],["button",""],[3,"value"],["cdkDropList","",3,"dataSource","treeControl","cdkDropListDropped"],["matTreeNodePadding","","cdkDrag","",3,"cdkDragData","mouseenter","mouseleave","cdkDragStarted","cdkDragReleased",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding","","cdkDrag","",3,"cdkDragData","mouseenter","mouseleave","cdkDragStarted","cdkDragReleased",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","cdkDrag","",3,"cdkDragData","mouseenter","mouseleave","cdkDragStarted","cdkDragReleased"],["mat-icon-button","","disabled",""],["style","width: 100%;",4,"ngIf"],[2,"width","75%"],["justify-content","space-between","gap","9px"],["appearance","outline","style","width: 50%;",4,"ngIf"],["appearance","outline","style","width: 100%;",4,"ngIf"],["justify-content","flex-end","gap","8px",4,"ngIf"],["appearance","outline",2,"width","50%"],["formControlName","processingFunction"],["formControlName","cachable"],["formControlName","prompt","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","10","value","","autocomplete","off"],["matInput","","type","text","autocomplete","off","formControlName","expected"],["formControlName","aggregateType"],["matTreeNodeToggle","","matTreeNodePadding","","cdkDrag","",3,"cdkDragData","mouseenter","mouseleave","cdkDragStarted","cdkDragReleased"],["mat-icon-button","","matTreeNodeToggle","","matTooltip","Expand node",3,"click"],[1,"mat-icon-rtl-mirror"],[3,"ngClass"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],["mat-icon-button","","matTooltip","Add new step","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Edit step","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Evaluate step","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Delete step","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Add new step","color","primary",3,"click"],["mat-icon-button","","matTooltip","Edit step","color","primary",3,"click"],["mat-icon-button","","matTooltip","Evaluate step","color","primary",3,"click"],["mat-icon-button","","matTooltip","Delete step","color","warn",3,"click"],["justify-content","space-between","gap","5px"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","accent",3,"click"],["formArrayName","variables",4,"ngFor","ngForOf","ngForTrackBy"],["appearance","outline","style","width: 100%;","disabled","",4,"ngIf"],["formArrayName","variables"],["justify-content","flex-start","gap","8px",2,"width","100%",3,"formGroupName"],["matInput","","type","text","autocomplete","off","formControlName","value","placeholder","Value for variable"],["appearance","outline","disabled","",2,"width","100%"],["matInput","","cdkTextareaAutosize","cdkTextareaAutosize","cdkAutosizeMinRows","5","autocomplete","off","disabled","",3,"value"],[3,"sourceCodeId"]],template:function(s,e){if(1&s&&(t.YNc(0,xr,22,5,"ct-section",0),t._uU(1,"\n\n"),t.YNc(2,vr,80,9,"ct-cols",1),t._uU(3,"\n\n"),t.TgZ(4,"ct-section"),t._uU(5,"\n    "),t.TgZ(6,"ct-section-body",2),t._uU(7,"\n        "),t.TgZ(8,"ct-section-body-row"),t._uU(9,"\n            "),t.TgZ(10,"ct-flex",3),t._uU(11,"\n                "),t.TgZ(12,"ct-flex-item",2),t._uU(13,"\n                    "),t.YNc(14,Ar,1,0,"ng-container",4),t._uU(15,"\n                "),t.qZA(),t._uU(16,"\n            "),t.qZA(),t._uU(17,"\n        "),t.qZA(),t._uU(18,"\n    "),t.qZA(),t._uU(19,"\n"),t.qZA(),t._uU(20,"\n\n"),t.YNc(21,zr,10,5,"ng-template",null,5,t.W1O),t._uU(23,"\n\n"),t.YNc(24,nl,79,9,"ng-template",null,6,t.W1O),t._uU(26,"\n\n"),t.YNc(27,il,6,1,"ng-template",null,7,t.W1O)),2&s){const i=t.MAs(22);t.Q6J("ngIf",e.MhUtils.isNotNull(e.simpleScenarioSteps)),t.xp6(2),t.Q6J("ngIf",e.dataSourceEmpty()),t.xp6(12),t.Q6J("ngTemplateOutlet",i)}},dependencies:[f.mk,f.sg,f.O5,f.tP,R.U,H.n,rt.V,lt.R,wt.t,Zt.W,K.i,W.Z,X.t,tt.B,et.i,nt._,cr.I,ht.Wj,ht.Zt,Jt.ey,L.lW,L.RK,St.Hw,Ut.Nt,N.KE,N.hX,N.bx,ur.IC,zt.gD,dr.Rr,Vt.gM,st.fQ,st.ah,st.eu,st.gi,st.uo,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,u.x0,u.CE,_e,F.X$],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{margin-right:4px}.mat-tree[_ngcontent-%COMP%]{padding-bottom:15px}.mat-tree-node[_ngcontent-%COMP%]{min-height:20px;padding:5px}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{width:32px;height:32px;padding:6px}.background-highlight[_ngcontent-%COMP%]{background-color:#ffc1072e}"]})),Ee([(0,k.K)({question:n=>`Do you want to delete Step #${n.name}`,resolveTitle:"Delete",rejectTitle:"Cancel"}),mt("design:type",Function),mt("design:paramtypes",[qe]),mt("design:returntype",void 0)],O.prototype,"delete",null),Ee([(0,k.K)({question:()=>"Do you want to exec Scenario",resolveTitle:"Run scenario",rejectTitle:"Cancel",theme:"primary"}),mt("design:type",Function),mt("design:paramtypes",[]),mt("design:returntype",void 0)],O.prototype,"runScenario",null);const Ne=[{path:"",component:at},{path:"scenario-group-add",component:_n,data:{backConfig:["../"]}},{path:":scenarioGroupId/scenario-add",component:xn,data:{backConfig:["../","scenarios"]}},{path:":scenarioGroupId/scenarios",component:V,canActivate:[M.k],data:{backConfig:["../","../",""],requiredRoles:[G.uU.Admin]}},{path:":scenarioGroupId/scenario/:scenarioId/steps",component:ut,canActivate:[M.k],data:{backConfig:["../","../","../","scenarios"],requiredRoles:[G.uU.Admin]}},{path:":scenarioGroupId/scenario/:scenarioId/details",component:O,canActivate:[M.k],data:{backConfig:["../","../","../","scenarios"],requiredRoles:[G.uU.Admin]}},{path:":scenarioGroupId/scenario/:scenarioId/scenario-step-add",component:Nn,canActivate:[M.k],data:{backConfig:["../","steps"],requiredRoles:[G.uU.Admin]}}];let ke=(()=>{class n{}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,l.Z)(n,"\u0275mod",t.oAB({type:n})),(0,l.Z)(n,"\u0275inj",t.cJS({imports:[y.Bz.forChild(Ne),y.Bz]})),n})(),ll=(()=>{class n{}return(0,l.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,l.Z)(n,"\u0275mod",t.oAB({type:n})),(0,l.Z)(n,"\u0275inj",t.cJS({imports:[f.ez,ke,p.E,q.$,u.u5,u.UX,F.aw.forChild({}),ht._t,_.p0,ir]})),n})()}}]);